import{c as ne,u as ce,r as me,j as s,H as de,L as W}from"./app-CyulpZ4l.js";import{B as O}from"./createLucideIcon-BQY_2rDi.js";import{I as X}from"./input-DZO_bzLb.js";import{L as q}from"./label-CRMtvrZY.js";import{a as ue,b as fe,c as xe,S as he,d as pe}from"./select-ltAgklA8.js";import{b as Y,c as Z,C as _e,a as je,d as ve}from"./card-DaAbqQTT.js";import{A as ee,a as se}from"./alert-C04XUOS6.js";import{T as be,a as re,b as ae,c as Ne}from"./tabs-Dt9svxqC.js";import{D as ge}from"./DashboardLayout-CJuE1ZNF.js";import{P as ye}from"./PageHeader-kw0-uq8p.js";import{C as te}from"./circle-alert-DzeTemcr.js";import{C as Ce}from"./clock-Cky82KXM.js";import{C as Se}from"./calendar-CKoc8gf1.js";import{A as we}from"./arrow-left-vaodMnr3.js";import{C as Te}from"./users-oYdqotjr.js";/* empty css            */import"./sheet-Cxg_ZlmL.js";import"./separator-C9WSIPQc.js";import"./index-_vAUJaj-.js";import"./check-CjUWd-kM.js";import"./index-DwM1dw0K.js";import"./file-text-Dg4dGPiw.js";import"./dollar-sign-BTVKeyIs.js";import"./user-B3FC1fbi.js";import"./house-CbOgEd2s.js";function ss(o){const e=ne.c(69),{professeurs:B}=o;let C;e[0]===Symbol.for("react.memo_cache_sentinel")?(C={professeur_id:"",type_salaire:"horaire",taux_horaire:"",salaire_fixe:""},e[0]=C):C=e[0];const{data:t,setData:l,post:U,processing:S,errors:r}=ce(C),[i,le]=me.useState("horaire");let w;e[1]!==U?(w=a=>{a.preventDefault(),U("/prof-salaires")},e[1]=U,e[2]=w):w=e[2];const M=w;let T;e[3]!==l?(T=a=>{le(a),l("type_salaire",a),l(a==="horaire"?"salaire_fixe":"taux_horaire","")},e[3]=l,e[4]=T):T=e[4];const G=T;let F;e[5]===Symbol.for("react.memo_cache_sentinel")?(F=[{value:"horaire",label:"Horaire",icon:"üïê",description:"R√©mun√©ration bas√©e sur les heures travaill√©es"},{value:"mensuel",label:"Mensuel",icon:"üí∞",description:"Salaire fixe mensuel"}],e[5]=F):F=e[5];const ie=F,Q=$e;let $;e[6]===Symbol.for("react.memo_cache_sentinel")?($=s.jsx(de,{title:"Cr√©er une configuration de salaire"}),e[6]=$):$=e[6];let D;e[7]===Symbol.for("react.memo_cache_sentinel")?(D=[{label:"Dashboard",href:"/dashboard"},{label:"Salaires",href:"/prof-salaires"},{label:"Cr√©er",href:"/prof-salaires/create"}],e[7]=D):D=e[7];let A;e[8]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsx(ye,{title:"Nouveau salaire",breadcrumb:D,actions:s.jsx(W,{href:"/prof-salaires",children:s.jsxs(O,{variant:"outline",children:[s.jsx(we,{className:"h-4 w-4 mr-2"}),"Retour"]})})}),e[8]=A):A=e[8];let L;e[9]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsxs(_e,{children:[s.jsxs(je,{className:"flex items-center gap-2",children:[s.jsx(Te,{className:"h-5 w-5"}),"Nouvelle configuration de salaire"]}),s.jsx(ve,{children:"Configurez le salaire d'un professeur en choisissant le type et le montant"})]}),e[9]=L):L=e[9];let n;e[10]!==r.professeur_id||e[11]!==r.type_salaire?(n=(r.professeur_id||r.type_salaire)&&s.jsxs(ee,{variant:"destructive",children:[s.jsx(te,{className:"h-4 w-4"}),s.jsx(se,{children:r.professeur_id||r.type_salaire})]}),e[10]=r.professeur_id,e[11]=r.type_salaire,e[12]=n):n=e[12];let E;e[13]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsxs(be,{className:"grid w-full grid-cols-2",children:[s.jsx(re,{value:"professeur",children:"Professeur"}),s.jsx(re,{value:"salaire",children:"Configuration"})]}),e[13]=E):E=e[13];let R;e[14]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx(q,{htmlFor:"professeur_id",children:"Professeur *"}),e[14]=R):R=e[14];const oe=t.professeur_id;let c;e[15]!==l?(c=a=>l("professeur_id",a),e[15]=l,e[16]=c):c=e[16];let H;e[17]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsx(ue,{children:s.jsx(fe,{placeholder:"S√©lectionner un professeur"})}),e[17]=H):H=e[17];let m;e[18]!==B?(m=B.map(Fe),e[18]=B,e[19]=m):m=e[19];let d;e[20]!==m?(d=s.jsx(xe,{children:m}),e[20]=m,e[21]=d):d=e[21];let u;e[22]!==t.professeur_id||e[23]!==c||e[24]!==d?(u=s.jsxs(he,{value:oe,onValueChange:c,children:[H,d]}),e[22]=t.professeur_id,e[23]=c,e[24]=d,e[25]=u):u=e[25];let P;e[26]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsx("p",{className:"text-xs text-muted-foreground",children:"S√©lectionnez le professeur pour lequel vous configurez le salaire"}),e[26]=P):P=e[26];let f;e[27]!==r.professeur_id?(f=r.professeur_id&&s.jsx("p",{className:"text-sm text-destructive",children:r.professeur_id}),e[27]=r.professeur_id,e[28]=f):f=e[28];let x;e[29]!==u||e[30]!==f?(x=s.jsxs("div",{className:"space-y-4",children:[R,u,P,f]}),e[29]=u,e[30]=f,e[31]=x):x=e[31];let I;e[32]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsxs(ee,{children:[s.jsx(te,{className:"h-4 w-4"}),s.jsx(se,{children:"Un professeur ne peut avoir qu'une seule configuration de salaire active √† la fois. La cr√©ation d'une nouvelle configuration d√©sactivera l'ancienne."})]}),e[32]=I):I=e[32];let h;e[33]!==x?(h=s.jsxs(ae,{value:"professeur",className:"space-y-6 pt-6",children:[x,I]}),e[33]=x,e[34]=h):h=e[34];let k;e[35]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(q,{children:"Type de salaire *"}),e[35]=k):k=e[35];let p;e[36]!==G||e[37]!==i?(p=s.jsx("div",{className:"grid grid-cols-2 gap-4",children:ie.map(a=>s.jsx(Y,{className:`cursor-pointer transition-all ${i===a.value?"border-primary ring-2 ring-primary/20":"hover:border-border"}`,onClick:()=>G(a.value),children:s.jsxs(Z,{className:"p-4 flex items-start gap-3",children:[s.jsx("div",{className:"text-2xl",children:a.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:a.label}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:a.description})]}),i===a.value&&s.jsx("div",{className:"h-5 w-5 rounded-full bg-primary flex items-center justify-center",children:s.jsx("div",{className:"h-2 w-2 rounded-full bg-white"})})]})},a.value))}),e[36]=G,e[37]=i,e[38]=p):p=e[38];let _;e[39]!==i?(_=s.jsx("input",{type:"hidden",name:"type_salaire",value:i}),e[39]=i,e[40]=_):_=e[40];let j;e[41]!==r.type_salaire?(j=r.type_salaire&&s.jsx("p",{className:"text-sm text-destructive",children:r.type_salaire}),e[41]=r.type_salaire,e[42]=j):j=e[42];let v;e[43]!==p||e[44]!==_||e[45]!==j?(v=s.jsxs("div",{className:"space-y-4",children:[k,p,_,j]}),e[43]=p,e[44]=_,e[45]=j,e[46]=v):v=e[46];let b;e[47]!==t.salaire_fixe||e[48]!==t.taux_horaire||e[49]!==r.salaire_fixe||e[50]!==r.taux_horaire||e[51]!==i||e[52]!==l?(b=i==="horaire"?s.jsxs("div",{className:"space-y-4",children:[s.jsx(q,{htmlFor:"taux_horaire",children:"Taux horaire ($/heure) *"}),s.jsxs("div",{className:"relative",children:[s.jsx(X,{id:"taux_horaire",type:"text",value:t.taux_horaire,onChange:a=>{const K=a.target.value.replace(/[^0-9.,]/g,"");l("taux_horaire",K)},placeholder:"Ex: 25,50",className:"pl-10"}),s.jsx(Ce,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-sm text-muted-foreground",children:"$/h"})]}),s.jsx("div",{className:"text-sm",children:s.jsxs("p",{className:"text-muted-foreground",children:["Estimation mensuelle (35h/semaine):"," ",s.jsx("span",{className:"font-semibold",children:t.taux_horaire?`${Q((parseFloat(t.taux_horaire.replace(",","."))||0)*35*4.33)} $`:"0,00 $"})]})}),r.taux_horaire&&s.jsx("p",{className:"text-sm text-destructive",children:r.taux_horaire})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx(q,{htmlFor:"salaire_fixe",children:"Salaire mensuel fixe *"}),s.jsxs("div",{className:"relative",children:[s.jsx(X,{id:"salaire_fixe",type:"text",value:t.salaire_fixe,onChange:a=>{const K=a.target.value.replace(/[^0-9.,]/g,"");l("salaire_fixe",K)},placeholder:"Ex: 2500,00",className:"pl-10"}),s.jsx(Se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-sm text-muted-foreground",children:"$/mois"})]}),s.jsx("div",{className:"text-sm",children:s.jsxs("p",{className:"text-muted-foreground",children:["Estimation annuelle: ",s.jsx("span",{className:"font-semibold",children:t.salaire_fixe?`${Q((parseFloat(t.salaire_fixe.replace(",","."))||0)*12)} $`:"0,00 $"})]})}),r.salaire_fixe&&s.jsx("p",{className:"text-sm text-destructive",children:r.salaire_fixe})]}),e[47]=t.salaire_fixe,e[48]=t.taux_horaire,e[49]=r.salaire_fixe,e[50]=r.taux_horaire,e[51]=i,e[52]=l,e[53]=b):b=e[53];let N;e[54]!==v||e[55]!==b?(N=s.jsxs(ae,{value:"salaire",className:"space-y-6 pt-6",children:[v,b]}),e[54]=v,e[55]=b,e[56]=N):N=e[56];let g;e[57]!==h||e[58]!==N?(g=s.jsxs(Ne,{defaultValue:"professeur",className:"w-full",children:[E,h,N]}),e[57]=h,e[58]=N,e[59]=g):g=e[59];let z;e[60]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsx(W,{href:"/prof-salaires",children:s.jsx(O,{type:"button",variant:"outline",children:"Annuler"})}),e[60]=z):z=e[60];const J=S?"Cr√©ation en cours...":"Cr√©er la configuration";let y;e[61]!==S||e[62]!==J?(y=s.jsxs("div",{className:"flex items-center justify-end gap-4 pt-6 border-t",children:[z,s.jsx(O,{type:"submit",disabled:S,children:J})]}),e[61]=S,e[62]=J,e[63]=y):y=e[63];let V;return e[64]!==M||e[65]!==g||e[66]!==y||e[67]!==n?(V=s.jsxs(s.Fragment,{children:[$,s.jsxs(ge,{activeRoute:"/prof-salaires",children:[A,s.jsxs(Y,{className:"max-w-3xl mx-auto",children:[L,s.jsx(Z,{children:s.jsxs("form",{onSubmit:M,className:"space-y-6",children:[n,g,y]})})]})]})]}),e[64]=M,e[65]=g,e[66]=y,e[67]=n,e[68]=V):V=e[68],V}function Fe(o){return s.jsx(pe,{value:o.id.toString(),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-6 w-6 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-bold",children:o.nom.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:o.nom}),s.jsx("div",{className:"text-xs text-muted-foreground",children:o.email})]})]})},o.id)}function $e(o){return new Intl.NumberFormat("fr-FR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(o||0)}export{ss as default};
