import{c as Rs,u as zs,r as Ht,j as t,H as As,L as ps}from"./app-uwTh8kc8.js";import{B as Ye}from"./createLucideIcon-DSBG54g9.js";import{I as p}from"./input-DaOSUk8-.js";import{L as d}from"./label-RJwncgua.js";import{T as Ms}from"./textarea-D0KQKO-r.js";import{S as Ut,b as Wt,a as kt,d as o,c as Gt}from"./select-CmGp7lbF.js";import{A as Ns,a as ys}from"./alert-CtmFnCz8.js";import{b as js,C as _s,a as bs,c as gs,d as Bs}from"./card-BU11wq9A.js";import{F as Ss,g as Es,D as Ls}from"./DashboardLayout-K8fs0Cfm.js";import{W as Fs}from"./wallet-Bxbk9uZX.js";import{A as Is}from"./arrow-left-tIpnA9bm.js";import{F as Ps}from"./folder-BiqWVdBK.js";import{C as Xs}from"./users-pKpEsxQA.js";import{X as Vs}from"./index-CAUyR_uV.js";import{U as $s}from"./upload-CglKDYAd.js";import{S as qs}from"./save-ByI6Z74q.js";/* empty css            */import"./index-B9MI8Zig.js";import"./check-_y--m_do.js";import"./user-B129w1wL.js";function ol(f){const e=Rs.c(307),{depense:i,budgets:u,categories:Ot,flash:m}=f,Jt=i.description||"",Kt=i.numero_piece||"";let Ze;e[0]!==i.beneficiaire||e[1]!==i.budget_id||e[2]!==i.categorie_depense_id||e[3]!==i.date_depense||e[4]!==i.libelle||e[5]!==i.mode_paiement||e[6]!==i.montant||e[7]!==i.reference||e[8]!==i.statut||e[9]!==Jt||e[10]!==Kt?(Ze={budget_id:i.budget_id,categorie_depense_id:i.categorie_depense_id,reference:i.reference,libelle:i.libelle,montant:i.montant,mode_paiement:i.mode_paiement,beneficiaire:i.beneficiaire,description:Jt,date_depense:i.date_depense,numero_piece:Kt,fichier_joint:null,statut:i.statut},e[0]=i.beneficiaire,e[1]=i.budget_id,e[2]=i.categorie_depense_id,e[3]=i.date_depense,e[4]=i.libelle,e[5]=i.mode_paiement,e[6]=i.montant,e[7]=i.reference,e[8]=i.statut,e[9]=Jt,e[10]=Kt,e[11]=Ze):Ze=e[11];const{data:s,setData:a,errors:l,processing:et,put:Qt}=zs(Ze),[c,ws]=Ht.useState(i.budget||null),[h,Yt]=Ht.useState(null),[j,vs]=Ht.useState(i.fichier_joint);let tt,st;e[12]!==u||e[13]!==s.budget_id?(tt=()=>{if(s.budget_id){const n=u.find(r=>r.id===parseInt(s.budget_id));ws(n||null)}},st=[s.budget_id,u],e[12]=u,e[13]=s.budget_id,e[14]=tt,e[15]=st):(tt=e[14],st=e[15]),Ht.useEffect(tt,st);let lt;e[16]!==a?(lt=n=>{const r=n.target.files?.[0];if(r)if(a("fichier_joint",r),vs(null),r.type.startsWith("image/")){const x=new FileReader;x.onload=Ds=>{Yt(Ds.target?.result)},x.readAsDataURL(r)}else Yt(null)},e[16]=a,e[17]=lt):lt=e[17];const Zt=lt;let it;e[18]!==a?(it=()=>{a("fichier_joint",null),vs(null),Yt(null)},e[18]=a,e[19]=it):it=e[19];const es=it;let at;e[20]!==s||e[21]!==i.id||e[22]!==Qt?(at=n=>{n.preventDefault();const r=new FormData;Object.keys(s).forEach(x=>{s[x]!==null&&s[x]!==void 0&&r.append(x,s[x])}),Qt(`/depenses/${i.id}`,{data:r,forceFormData:!0})},e[20]=s,e[21]=i.id,e[22]=Qt,e[23]=at):at=e[23];const ts=at,_=Hs;let nt;e[24]===Symbol.for("react.memo_cache_sentinel")?(nt=t.jsx(As,{title:"Modifier la dépense"}),e[24]=nt):nt=e[24];let b;e[25]!==i.reference?(b=t.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:["Modifier la dépense ",i.reference]}),e[25]=i.reference,e[26]=b):b=e[26];const Cs=i.libelle;let g;e[27]!==i.montant?(g=_(i.montant),e[27]=i.montant,e[28]=g):g=e[28];let v;e[29]!==i.libelle||e[30]!==g?(v=t.jsxs("p",{className:"text-muted-foreground",children:[Cs," - ",g]}),e[29]=i.libelle,e[30]=g,e[31]=v):v=e[31];let N;e[32]!==b||e[33]!==v?(N=t.jsxs("div",{children:[b,v]}),e[32]=b,e[33]=v,e[34]=N):N=e[34];let rt;e[35]===Symbol.for("react.memo_cache_sentinel")?(rt=t.jsx(ps,{href:"/depenses",children:t.jsxs(Ye,{variant:"outline",children:[t.jsx(Is,{className:"h-4 w-4 mr-2"}),"Retour"]})}),e[35]=rt):rt=e[35];const ss=`/depenses/${i.id}`;let ct;e[36]===Symbol.for("react.memo_cache_sentinel")?(ct=t.jsx(Ye,{variant:"outline",children:"Annuler"}),e[36]=ct):ct=e[36];let y;e[37]!==ss?(y=t.jsxs("div",{className:"flex items-center gap-2",children:[rt,t.jsx(ps,{href:ss,children:ct})]}),e[37]=ss,e[38]=y):y=e[38];let S;e[39]!==N||e[40]!==y?(S=t.jsxs("div",{className:"flex items-center justify-between",children:[N,y]}),e[39]=N,e[40]=y,e[41]=S):S=e[41];let F;e[42]!==m?(F=m?.success&&t.jsx(Ns,{className:"bg-green-50 border-green-200",children:t.jsx(ys,{children:m.success})}),e[42]=m,e[43]=F):F=e[43];let w;e[44]!==m?(w=m?.error&&t.jsx(Ns,{variant:"destructive",children:t.jsx(ys,{children:m.error})}),e[44]=m,e[45]=w):w=e[45];let dt;e[46]===Symbol.for("react.memo_cache_sentinel")?(dt=t.jsxs(_s,{children:[t.jsxs(bs,{className:"flex items-center gap-2",children:[t.jsx(Es,{className:"h-5 w-5"}),"Informations de la dépense"]}),t.jsx(Bs,{children:"Modifiez les détails de cette dépense"})]}),e[46]=dt):dt=e[46];let ot;e[47]===Symbol.for("react.memo_cache_sentinel")?(ot=t.jsx(d,{htmlFor:"budget_id",children:"Budget *"}),e[47]=ot):ot=e[47];let C;e[48]!==s.budget_id?(C=s.budget_id.toString(),e[48]=s.budget_id,e[49]=C):C=e[49];let D;e[50]!==a?(D=n=>a("budget_id",parseInt(n)),e[50]=a,e[51]=D):D=e[51];const ls=l.budget_id?"border-destructive":"";let mt,ft;e[52]===Symbol.for("react.memo_cache_sentinel")?(mt=t.jsx(Fs,{className:"h-4 w-4 mr-2"}),ft=t.jsx(Wt,{placeholder:"Sélectionnez un budget"}),e[52]=mt,e[53]=ft):(mt=e[52],ft=e[53]);let R;e[54]!==ls?(R=t.jsxs(kt,{className:ls,children:[mt,ft]}),e[54]=ls,e[55]=R):R=e[55];let z;if(e[56]!==u){let n;e[58]===Symbol.for("react.memo_cache_sentinel")?(n=r=>t.jsxs(o,{value:r.id.toString(),children:[r.nom_complet," - Restant: ",_(r.montant_restant)]},r.id),e[58]=n):n=e[58],z=u.map(n),e[56]=u,e[57]=z}else z=e[57];let A;e[59]!==z?(A=t.jsx(Gt,{children:z}),e[59]=z,e[60]=A):A=e[60];let M;e[61]!==C||e[62]!==D||e[63]!==R||e[64]!==A?(M=t.jsxs(Ut,{value:C,onValueChange:D,children:[R,A]}),e[61]=C,e[62]=D,e[63]=R,e[64]=A,e[65]=M):M=e[65];let B;e[66]!==l.budget_id?(B=l.budget_id&&t.jsx("p",{className:"text-sm text-destructive",children:l.budget_id}),e[66]=l.budget_id,e[67]=B):B=e[67];let E;e[68]!==M||e[69]!==B?(E=t.jsxs("div",{className:"space-y-2",children:[ot,M,B]}),e[68]=M,e[69]=B,e[70]=E):E=e[70];let ut;e[71]===Symbol.for("react.memo_cache_sentinel")?(ut=t.jsx(d,{htmlFor:"categorie_depense_id",children:"Catégorie *"}),e[71]=ut):ut=e[71];let L;e[72]!==s.categorie_depense_id?(L=s.categorie_depense_id.toString(),e[72]=s.categorie_depense_id,e[73]=L):L=e[73];let I;e[74]!==a?(I=n=>a("categorie_depense_id",parseInt(n)),e[74]=a,e[75]=I):I=e[75];const is=l.categorie_depense_id?"border-destructive":"";let ht,xt;e[76]===Symbol.for("react.memo_cache_sentinel")?(ht=t.jsx(Ps,{className:"h-4 w-4 mr-2"}),xt=t.jsx(Wt,{placeholder:"Sélectionnez une catégorie"}),e[76]=ht,e[77]=xt):(ht=e[76],xt=e[77]);let P;e[78]!==is?(P=t.jsxs(kt,{className:is,children:[ht,xt]}),e[78]=is,e[79]=P):P=e[79];let X;e[80]!==Ot?(X=Ot.map(Ts),e[80]=Ot,e[81]=X):X=e[81];let V;e[82]!==X?(V=t.jsx(Gt,{children:X}),e[82]=X,e[83]=V):V=e[83];let $;e[84]!==L||e[85]!==I||e[86]!==P||e[87]!==V?($=t.jsxs(Ut,{value:L,onValueChange:I,children:[P,V]}),e[84]=L,e[85]=I,e[86]=P,e[87]=V,e[88]=$):$=e[88];let q;e[89]!==l.categorie_depense_id?(q=l.categorie_depense_id&&t.jsx("p",{className:"text-sm text-destructive",children:l.categorie_depense_id}),e[89]=l.categorie_depense_id,e[90]=q):q=e[90];let T;e[91]!==$||e[92]!==q?(T=t.jsxs("div",{className:"space-y-2",children:[ut,$,q]}),e[91]=$,e[92]=q,e[93]=T):T=e[93];let pt;e[94]===Symbol.for("react.memo_cache_sentinel")?(pt=t.jsx(d,{htmlFor:"reference",children:"Référence *"}),e[94]=pt):pt=e[94];let H;e[95]!==a?(H=n=>a("reference",n.target.value),e[95]=a,e[96]=H):H=e[96];const as=l.reference?"border-destructive":"";let U;e[97]!==s.reference||e[98]!==H||e[99]!==as?(U=t.jsx(p,{id:"reference",value:s.reference,onChange:H,placeholder:"DEP-XXXXXX",className:as,readOnly:!0}),e[97]=s.reference,e[98]=H,e[99]=as,e[100]=U):U=e[100];let W;e[101]!==l.reference?(W=l.reference&&t.jsx("p",{className:"text-sm text-destructive",children:l.reference}),e[101]=l.reference,e[102]=W):W=e[102];let k;e[103]!==U||e[104]!==W?(k=t.jsxs("div",{className:"space-y-2",children:[pt,U,W]}),e[103]=U,e[104]=W,e[105]=k):k=e[105];let jt;e[106]===Symbol.for("react.memo_cache_sentinel")?(jt=t.jsx(d,{htmlFor:"date_depense",children:"Date de dépense *"}),e[106]=jt):jt=e[106];let _t;e[107]===Symbol.for("react.memo_cache_sentinel")?(_t=t.jsx(Xs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e[107]=_t):_t=e[107];let G;e[108]!==a?(G=n=>a("date_depense",n.target.value),e[108]=a,e[109]=G):G=e[109];const ns=`pl-10 ${l.date_depense?"border-destructive":""}`;let O;e[110]!==s.date_depense||e[111]!==G||e[112]!==ns?(O=t.jsxs("div",{className:"relative",children:[_t,t.jsx(p,{id:"date_depense",type:"date",value:s.date_depense,onChange:G,className:ns})]}),e[110]=s.date_depense,e[111]=G,e[112]=ns,e[113]=O):O=e[113];let J;e[114]!==l.date_depense?(J=l.date_depense&&t.jsx("p",{className:"text-sm text-destructive",children:l.date_depense}),e[114]=l.date_depense,e[115]=J):J=e[115];let K;e[116]!==O||e[117]!==J?(K=t.jsxs("div",{className:"space-y-2",children:[jt,O,J]}),e[116]=O,e[117]=J,e[118]=K):K=e[118];let bt;e[119]===Symbol.for("react.memo_cache_sentinel")?(bt=t.jsx(d,{htmlFor:"libelle",children:"Libellé *"}),e[119]=bt):bt=e[119];let Q;e[120]!==a?(Q=n=>a("libelle",n.target.value),e[120]=a,e[121]=Q):Q=e[121];const rs=l.libelle?"border-destructive":"";let Y;e[122]!==s.libelle||e[123]!==Q||e[124]!==rs?(Y=t.jsx(p,{id:"libelle",value:s.libelle,onChange:Q,placeholder:"Ex: Achat de matériel informatique",className:rs}),e[122]=s.libelle,e[123]=Q,e[124]=rs,e[125]=Y):Y=e[125];let Z;e[126]!==l.libelle?(Z=l.libelle&&t.jsx("p",{className:"text-sm text-destructive",children:l.libelle}),e[126]=l.libelle,e[127]=Z):Z=e[127];let ee;e[128]!==Y||e[129]!==Z?(ee=t.jsxs("div",{className:"space-y-2",children:[bt,Y,Z]}),e[128]=Y,e[129]=Z,e[130]=ee):ee=e[130];let gt;e[131]===Symbol.for("react.memo_cache_sentinel")?(gt=t.jsx(d,{htmlFor:"montant",children:"Montant (CDF) *"}),e[131]=gt):gt=e[131];let te;e[132]!==a?(te=n=>a("montant",parseFloat(n.target.value)||0),e[132]=a,e[133]=te):te=e[133];const cs=l.montant?"border-destructive":"";let se;e[134]!==s.montant||e[135]!==te||e[136]!==cs?(se=t.jsx(p,{id:"montant",type:"number",min:"0",step:"0.01",value:s.montant,onChange:te,placeholder:"0.00",className:cs}),e[134]=s.montant,e[135]=te,e[136]=cs,e[137]=se):se=e[137];let le;e[138]!==l.montant?(le=l.montant&&t.jsx("p",{className:"text-sm text-destructive",children:l.montant}),e[138]=l.montant,e[139]=le):le=e[139];let ie;e[140]!==se||e[141]!==le?(ie=t.jsxs("div",{className:"space-y-2",children:[gt,se,le]}),e[140]=se,e[141]=le,e[142]=ie):ie=e[142];let vt;e[143]===Symbol.for("react.memo_cache_sentinel")?(vt=t.jsx(d,{htmlFor:"mode_paiement",children:"Mode de paiement *"}),e[143]=vt):vt=e[143];let ae;e[144]!==a?(ae=n=>a("mode_paiement",n),e[144]=a,e[145]=ae):ae=e[145];const ds=l.mode_paiement?"border-destructive":"";let Nt;e[146]===Symbol.for("react.memo_cache_sentinel")?(Nt=t.jsx(Wt,{placeholder:"Sélectionnez un mode"}),e[146]=Nt):Nt=e[146];let ne;e[147]!==ds?(ne=t.jsx(kt,{className:ds,children:Nt}),e[147]=ds,e[148]=ne):ne=e[148];let yt;e[149]===Symbol.for("react.memo_cache_sentinel")?(yt=t.jsxs(Gt,{children:[t.jsx(o,{value:"espèce",children:"Espèce"}),t.jsx(o,{value:"chèque",children:"Chèque"}),t.jsx(o,{value:"virement",children:"Virement"}),t.jsx(o,{value:"carte",children:"Carte"})]}),e[149]=yt):yt=e[149];let re;e[150]!==s.mode_paiement||e[151]!==ae||e[152]!==ne?(re=t.jsxs(Ut,{value:s.mode_paiement,onValueChange:ae,children:[ne,yt]}),e[150]=s.mode_paiement,e[151]=ae,e[152]=ne,e[153]=re):re=e[153];let ce;e[154]!==l.mode_paiement?(ce=l.mode_paiement&&t.jsx("p",{className:"text-sm text-destructive",children:l.mode_paiement}),e[154]=l.mode_paiement,e[155]=ce):ce=e[155];let de;e[156]!==re||e[157]!==ce?(de=t.jsxs("div",{className:"space-y-2",children:[vt,re,ce]}),e[156]=re,e[157]=ce,e[158]=de):de=e[158];let St;e[159]===Symbol.for("react.memo_cache_sentinel")?(St=t.jsx(d,{htmlFor:"beneficiaire",children:"Bénéficiaire *"}),e[159]=St):St=e[159];let oe;e[160]!==a?(oe=n=>a("beneficiaire",n.target.value),e[160]=a,e[161]=oe):oe=e[161];const os=l.beneficiaire?"border-destructive":"";let me;e[162]!==s.beneficiaire||e[163]!==oe||e[164]!==os?(me=t.jsx(p,{id:"beneficiaire",value:s.beneficiaire,onChange:oe,placeholder:"Nom du bénéficiaire",className:os}),e[162]=s.beneficiaire,e[163]=oe,e[164]=os,e[165]=me):me=e[165];let fe;e[166]!==l.beneficiaire?(fe=l.beneficiaire&&t.jsx("p",{className:"text-sm text-destructive",children:l.beneficiaire}),e[166]=l.beneficiaire,e[167]=fe):fe=e[167];let ue;e[168]!==me||e[169]!==fe?(ue=t.jsxs("div",{className:"space-y-2",children:[St,me,fe]}),e[168]=me,e[169]=fe,e[170]=ue):ue=e[170];let Ft;e[171]===Symbol.for("react.memo_cache_sentinel")?(Ft=t.jsx(d,{htmlFor:"numero_piece",children:"Numéro de pièce (optionnel)"}),e[171]=Ft):Ft=e[171];let he;e[172]!==a?(he=n=>a("numero_piece",n.target.value),e[172]=a,e[173]=he):he=e[173];const ms=l.numero_piece?"border-destructive":"";let xe;e[174]!==s.numero_piece||e[175]!==he||e[176]!==ms?(xe=t.jsx(p,{id:"numero_piece",value:s.numero_piece,onChange:he,placeholder:"N° de facture, reçu, etc.",className:ms}),e[174]=s.numero_piece,e[175]=he,e[176]=ms,e[177]=xe):xe=e[177];let pe;e[178]!==l.numero_piece?(pe=l.numero_piece&&t.jsx("p",{className:"text-sm text-destructive",children:l.numero_piece}),e[178]=l.numero_piece,e[179]=pe):pe=e[179];let je;e[180]!==xe||e[181]!==pe?(je=t.jsxs("div",{className:"space-y-2",children:[Ft,xe,pe]}),e[180]=xe,e[181]=pe,e[182]=je):je=e[182];let wt;e[183]===Symbol.for("react.memo_cache_sentinel")?(wt=t.jsx(d,{htmlFor:"statut",children:"Statut *"}),e[183]=wt):wt=e[183];let _e;e[184]!==a?(_e=n=>a("statut",n),e[184]=a,e[185]=_e):_e=e[185];const fs=l.statut?"border-destructive":"";let Ct;e[186]===Symbol.for("react.memo_cache_sentinel")?(Ct=t.jsx(Wt,{placeholder:"Sélectionnez un statut"}),e[186]=Ct):Ct=e[186];let be;e[187]!==fs?(be=t.jsx(kt,{className:fs,children:Ct}),e[187]=fs,e[188]=be):be=e[188];let Dt;e[189]===Symbol.for("react.memo_cache_sentinel")?(Dt=t.jsxs(Gt,{children:[t.jsx(o,{value:"brouillon",children:"Brouillon"}),t.jsx(o,{value:"en_attente",children:"En attente"}),t.jsx(o,{value:"approuve",children:"Approuvé"}),t.jsx(o,{value:"rejete",children:"Rejeté"}),t.jsx(o,{value:"paye",children:"Payé"})]}),e[189]=Dt):Dt=e[189];let ge;e[190]!==s.statut||e[191]!==_e||e[192]!==be?(ge=t.jsxs(Ut,{value:s.statut,onValueChange:_e,children:[be,Dt]}),e[190]=s.statut,e[191]=_e,e[192]=be,e[193]=ge):ge=e[193];let ve;e[194]!==l.statut?(ve=l.statut&&t.jsx("p",{className:"text-sm text-destructive",children:l.statut}),e[194]=l.statut,e[195]=ve):ve=e[195];let Ne;e[196]!==ve||e[197]!==ge?(Ne=t.jsxs("div",{className:"space-y-2",children:[wt,ge,ve]}),e[196]=ve,e[197]=ge,e[198]=Ne):Ne=e[198];let Rt;e[199]===Symbol.for("react.memo_cache_sentinel")?(Rt=t.jsx(d,{htmlFor:"description",children:"Description (optionnelle)"}),e[199]=Rt):Rt=e[199];let ye;e[200]!==a?(ye=n=>a("description",n.target.value),e[200]=a,e[201]=ye):ye=e[201];const us=l.description?"border-destructive":"";let Se;e[202]!==s.description||e[203]!==ye||e[204]!==us?(Se=t.jsx(Ms,{id:"description",value:s.description,onChange:ye,placeholder:"Description détaillée de la dépense...",rows:3,className:us}),e[202]=s.description,e[203]=ye,e[204]=us,e[205]=Se):Se=e[205];let Fe;e[206]!==l.description?(Fe=l.description&&t.jsx("p",{className:"text-sm text-destructive",children:l.description}),e[206]=l.description,e[207]=Fe):Fe=e[207];let we;e[208]!==Se||e[209]!==Fe?(we=t.jsxs("div",{className:"space-y-2 md:col-span-2",children:[Rt,Se,Fe]}),e[208]=Se,e[209]=Fe,e[210]=we):we=e[210];let zt;e[211]===Symbol.for("react.memo_cache_sentinel")?(zt=t.jsx(d,{htmlFor:"fichier_joint",children:"Fichier joint (optionnel)"}),e[211]=zt):zt=e[211];let Ce;e[212]!==j||e[213]!==es?(Ce=j&&t.jsx("div",{className:"mb-4 p-3 bg-muted rounded-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ss,{className:"h-5 w-5"}),t.jsx("span",{className:"text-sm",children:"Fichier actuel"})]}),t.jsx(Ye,{type:"button",variant:"ghost",size:"sm",onClick:es,className:"text-destructive",children:t.jsx(Vs,{className:"h-4 w-4"})})]})}),e[212]=j,e[213]=es,e[214]=Ce):Ce=e[214];let At;e[215]===Symbol.for("react.memo_cache_sentinel")?(At=t.jsx($s,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),e[215]=At):At=e[215];let Mt;e[216]===Symbol.for("react.memo_cache_sentinel")?(Mt=t.jsx("span",{className:"text-sm text-muted-foreground",children:"Cliquez pour télécharger ou glissez-déposez"}),e[216]=Mt):Mt=e[216];let De;e[217]!==Zt?(De=t.jsxs(d,{htmlFor:"fichier-upload",className:"cursor-pointer",children:[Mt,t.jsx(p,{id:"fichier-upload",type:"file",accept:".jpg,.jpeg,.png,.pdf",onChange:Zt,className:"hidden"})]}),e[217]=Zt,e[218]=De):De=e[218];let Bt;e[219]===Symbol.for("react.memo_cache_sentinel")?(Bt=t.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"JPG, PNG ou PDF (max 2MB)"}),e[219]=Bt):Bt=e[219];let Re;e[220]!==De?(Re=t.jsxs("div",{className:"text-center",children:[At,De,Bt]}),e[220]=De,e[221]=Re):Re=e[221];let ze;e[222]!==h?(ze=h&&t.jsx("div",{className:"mt-4",children:t.jsx("img",{src:h,alt:"Preview",className:"max-h-32 mx-auto rounded"})}),e[222]=h,e[223]=ze):ze=e[223];let Ae;e[224]!==j||e[225]!==s.fichier_joint||e[226]!==h?(Ae=s.fichier_joint&&!h&&!j&&t.jsxs("div",{className:"mt-4 text-center",children:[t.jsx(Ss,{className:"h-8 w-8 mx-auto text-muted-foreground"}),t.jsx("p",{className:"text-sm mt-2",children:s.fichier_joint.name||"Fichier sélectionné"})]}),e[224]=j,e[225]=s.fichier_joint,e[226]=h,e[227]=Ae):Ae=e[227];let Me;e[228]!==Re||e[229]!==ze||e[230]!==Ae?(Me=t.jsxs("div",{className:"border-2 border-dashed rounded-lg p-4",children:[Re,ze,Ae]}),e[228]=Re,e[229]=ze,e[230]=Ae,e[231]=Me):Me=e[231];let Be;e[232]!==l.fichier_joint?(Be=l.fichier_joint&&t.jsx("p",{className:"text-sm text-destructive",children:l.fichier_joint}),e[232]=l.fichier_joint,e[233]=Be):Be=e[233];let Ee;e[234]!==Ce||e[235]!==Me||e[236]!==Be?(Ee=t.jsxs("div",{className:"space-y-2 md:col-span-2",children:[zt,Ce,Me,Be]}),e[234]=Ce,e[235]=Me,e[236]=Be,e[237]=Ee):Ee=e[237];let Le;e[238]!==Ne||e[239]!==we||e[240]!==Ee||e[241]!==E||e[242]!==T||e[243]!==k||e[244]!==K||e[245]!==ee||e[246]!==ie||e[247]!==de||e[248]!==ue||e[249]!==je?(Le=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E,T,k,K,ee,ie,de,ue,je,Ne,we,Ee]}),e[238]=Ne,e[239]=we,e[240]=Ee,e[241]=E,e[242]=T,e[243]=k,e[244]=K,e[245]=ee,e[246]=ie,e[247]=de,e[248]=ue,e[249]=je,e[250]=Le):Le=e[250];const hs=`/depenses/${i.id}`;let Et;e[251]===Symbol.for("react.memo_cache_sentinel")?(Et=t.jsx(Ye,{type:"button",variant:"outline",children:"Annuler"}),e[251]=Et):Et=e[251];let Ie;e[252]!==hs?(Ie=t.jsx(ps,{href:hs,children:Et}),e[252]=hs,e[253]=Ie):Ie=e[253];let Lt;e[254]===Symbol.for("react.memo_cache_sentinel")?(Lt=t.jsx(qs,{className:"h-4 w-4 mr-2"}),e[254]=Lt):Lt=e[254];const xs=et?"Mise à jour...":"Mettre à jour";let Pe;e[255]!==et||e[256]!==xs?(Pe=t.jsxs(Ye,{type:"submit",disabled:et,children:[Lt,xs]}),e[255]=et,e[256]=xs,e[257]=Pe):Pe=e[257];let Xe;e[258]!==Ie||e[259]!==Pe?(Xe=t.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[Ie,Pe]}),e[258]=Ie,e[259]=Pe,e[260]=Xe):Xe=e[260];let Ve;e[261]!==ts||e[262]!==Le||e[263]!==Xe?(Ve=t.jsxs(js,{className:"lg:col-span-2",children:[dt,t.jsx(gs,{children:t.jsxs("form",{onSubmit:ts,className:"space-y-6",children:[Le,Xe]})})]}),e[261]=ts,e[262]=Le,e[263]=Xe,e[264]=Ve):Ve=e[264];let It;e[265]===Symbol.for("react.memo_cache_sentinel")?(It=t.jsx(_s,{children:t.jsx(bs,{className:"text-base",children:"Récapitulatif"})}),e[265]=It):It=e[265];let Pt;e[266]===Symbol.for("react.memo_cache_sentinel")?(Pt=t.jsx("span",{className:"text-sm text-muted-foreground",children:"Référence:"}),e[266]=Pt):Pt=e[266];let $e;e[267]!==s.reference?($e=t.jsxs("div",{className:"flex justify-between items-center",children:[Pt,t.jsx("span",{className:"font-mono font-medium",children:s.reference})]}),e[267]=s.reference,e[268]=$e):$e=e[268];let Xt;e[269]===Symbol.for("react.memo_cache_sentinel")?(Xt=t.jsx("span",{className:"text-sm text-muted-foreground",children:"Date:"}),e[269]=Xt):Xt=e[269];let qe;e[270]!==s.date_depense?(qe=new Date(s.date_depense).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),e[270]=s.date_depense,e[271]=qe):qe=e[271];let Te;e[272]!==qe?(Te=t.jsxs("div",{className:"flex justify-between items-center",children:[Xt,t.jsx("span",{className:"font-medium",children:qe})]}),e[272]=qe,e[273]=Te):Te=e[273];let Vt;e[274]===Symbol.for("react.memo_cache_sentinel")?(Vt=t.jsx("span",{className:"text-sm text-muted-foreground",children:"Mode:"}),e[274]=Vt):Vt=e[274];let He;e[275]!==s.mode_paiement?(He=t.jsxs("div",{className:"flex justify-between items-center",children:[Vt,t.jsx("span",{className:"font-medium capitalize",children:s.mode_paiement})]}),e[275]=s.mode_paiement,e[276]=He):He=e[276];let $t;e[277]===Symbol.for("react.memo_cache_sentinel")?($t=t.jsx("span",{className:"text-sm text-muted-foreground",children:"Montant:"}),e[277]=$t):$t=e[277];let Ue;e[278]!==s.montant?(Ue=_(s.montant),e[278]=s.montant,e[279]=Ue):Ue=e[279];let We;e[280]!==Ue?(We=t.jsxs("div",{className:"flex justify-between items-center",children:[$t,t.jsx("span",{className:"text-xl font-bold text-primary",children:Ue})]}),e[280]=Ue,e[281]=We):We=e[281];let qt;e[282]===Symbol.for("react.memo_cache_sentinel")?(qt=t.jsx("span",{className:"text-sm text-muted-foreground",children:"Statut:"}),e[282]=qt):qt=e[282];let ke;e[283]!==s.statut?(ke=s.statut.replace("_"," "),e[283]=s.statut,e[284]=ke):ke=e[284];let Ge;e[285]!==ke?(Ge=t.jsxs("div",{className:"flex justify-between items-center",children:[qt,t.jsx("span",{className:"font-medium capitalize",children:ke})]}),e[285]=ke,e[286]=Ge):Ge=e[286];let Oe;e[287]!==$e||e[288]!==Te||e[289]!==He||e[290]!==We||e[291]!==Ge?(Oe=t.jsxs(js,{children:[It,t.jsx(gs,{className:"space-y-4",children:t.jsxs("div",{className:"space-y-3",children:[$e,Te,He,We,Ge]})})]}),e[287]=$e,e[288]=Te,e[289]=He,e[290]=We,e[291]=Ge,e[292]=Oe):Oe=e[292];let Je;e[293]!==s.montant||e[294]!==c?(Je=c&&t.jsxs(js,{children:[t.jsx(_s,{children:t.jsxs(bs,{className:"text-base flex items-center gap-2",children:[t.jsx(Fs,{className:"h-4 w-4"}),"Budget sélectionné"]})}),t.jsxs(gs,{className:"space-y-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"font-medium",children:c.nom_complet}),t.jsxs("div",{className:"text-sm space-y-1",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Alloué:"}),t.jsx("span",{className:"font-medium",children:_(c.montant_alloue)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Dépensé:"}),t.jsx("span",{children:_(c.montant_depense)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Restant:"}),t.jsx("span",{className:`font-semibold ${c.montant_restant<s.montant?"text-destructive":c.montant_restant<c.montant_alloue*.2?"text-amber-600":"text-green-600"}`,children:_(c.montant_restant)})]})]})]}),c.montant_restant<s.montant&&t.jsx("div",{className:"p-3 bg-destructive/10 text-destructive text-sm rounded-lg",children:"⚠️ Le montant dépasse le budget restant"}),c.montant_restant<c.montant_alloue*.2&&t.jsx("div",{className:"p-3 bg-amber-50 text-amber-800 text-sm rounded-lg",children:"⚠️ Budget presque épuisé"})]})]}),e[293]=s.montant,e[294]=c,e[295]=Je):Je=e[295];let Ke;e[296]!==Oe||e[297]!==Je?(Ke=t.jsxs("div",{className:"space-y-6",children:[Oe,Je]}),e[296]=Oe,e[297]=Je,e[298]=Ke):Ke=e[298];let Qe;e[299]!==Ve||e[300]!==Ke?(Qe=t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[Ve,Ke]}),e[299]=Ve,e[300]=Ke,e[301]=Qe):Qe=e[301];let Tt;return e[302]!==Qe||e[303]!==S||e[304]!==F||e[305]!==w?(Tt=t.jsxs(t.Fragment,{children:[nt,t.jsx(Ls,{activeRoute:"/budgets",children:t.jsxs("div",{className:"space-y-6",children:[S,F,w,Qe]})})]}),e[302]=Qe,e[303]=S,e[304]=F,e[305]=w,e[306]=Tt):Tt=e[306],Tt}function Ts(f){return t.jsx(o,{value:f.id.toString(),children:f.nom_categorie},f.id)}function Hs(f){return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"CDF"}).format(f)}export{ol as default};
