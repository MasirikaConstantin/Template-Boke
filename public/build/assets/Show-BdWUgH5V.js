import{c as Ne,j as s,b as fe,H as _e,L as ae}from"./app-CaSuT9_N.js";import{B as H}from"./createLucideIcon-Ba_n5wzm.js";import{B as ve}from"./badge-BycwKJGT.js";import{b as P,C as k,a as T,d as be,c as I}from"./card-DXDaqayI.js";import{h as he,F as pe,D as ye}from"./DashboardLayout-D3biXWsh.js";import{P as we}from"./PageHeader-N1ZSRUgz.js";import{A as je,a as ue}from"./alert-DqoIb0M1.js";import{C as Se}from"./circle-check-big-B-WiVk6S.js";import{C as Ce}from"./circle-x-Cx6WHPNl.js";import{A as De}from"./arrow-left-DbNJAoRv.js";import{S as Fe}from"./square-pen-D_NNKCOr.js";import{F as $e}from"./folder-Cfhroxl2.js";import{H as Re}from"./hash-9K9YCqkl.js";import{C as ge}from"./users-BBd633YC.js";import{P as Ae}from"./plus-C_alfRCY.js";import{T as Le}from"./trash-2-BLJenkKd.js";/* empty css            */import"./index-t60Ru8hF.js";import"./user-CaRkRDV5.js";import"./house-D9HhB86S.js";function es(ie){const e=Ne.c(97),{categorie:t,stats:r,flash:l}=ie,M=Be,ce=`Catégorie: ${t.nom_categorie}`;let a;e[0]!==ce?(a=s.jsx(_e,{title:ce}),e[0]=ce,e[1]=a):a=e[1];const de=`Catégorie de dépense - ${t.code}`;let q,E,U;e[2]===Symbol.for("react.memo_cache_sentinel")?(q={label:"Dashboard",href:"/dashboard"},E={label:"Budgets",href:"/budgets"},U={label:"Catégories",href:"/categories-depense"},e[2]=q,e[3]=E,e[4]=U):(q=e[2],E=e[3],U=e[4]);let i;e[5]!==t.nom_categorie?(i=[q,E,U,{label:t.nom_categorie,href:"#"}],e[5]=t.nom_categorie,e[6]=i):i=e[6];let V;e[7]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsx(ae,{href:"/categories-depense",children:s.jsxs(H,{variant:"outline",children:[s.jsx(De,{className:"h-4 w-4 mr-2"}),"Retour"]})}),e[7]=V):V=e[7];const ne=`/categories-depense/${t.id}/edit`;let X;e[8]===Symbol.for("react.memo_cache_sentinel")?(X=s.jsxs(H,{children:[s.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Modifier"]}),e[8]=X):X=e[8];let c;e[9]!==ne?(c=s.jsxs("div",{className:"flex items-center gap-2",children:[V,s.jsx(ae,{href:ne,children:X})]}),e[9]=ne,e[10]=c):c=e[10];let d;e[11]!==t.nom_categorie||e[12]!==c||e[13]!==de||e[14]!==i?(d=s.jsx(we,{title:t.nom_categorie,description:de,breadcrumb:i,actions:c}),e[11]=t.nom_categorie,e[12]=c,e[13]=de,e[14]=i,e[15]=d):d=e[15];let n;e[16]!==l?(n=l?.success&&s.jsx(je,{className:"mb-6",children:s.jsx(ue,{children:l.success})}),e[16]=l,e[17]=n):n=e[17];let o;e[18]!==l?(o=l?.error&&s.jsx(je,{variant:"destructive",className:"mb-6",children:s.jsx(ue,{children:l.error})}),e[18]=l,e[19]=o):o=e[19];let Z;e[20]===Symbol.for("react.memo_cache_sentinel")?(Z=s.jsx(k,{children:s.jsxs(T,{className:"flex items-center gap-2",children:[s.jsx($e,{className:"h-5 w-5 text-primary"}),"Informations de la catégorie"]})}),e[20]=Z):Z=e[20];let z;e[21]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Re,{className:"h-4 w-4"}),s.jsx("span",{children:"Code"})]}),e[21]=z):z=e[21];let m;e[22]!==t.code?(m=s.jsxs("div",{className:"space-y-2",children:[z,s.jsx("div",{className:"font-medium text-lg",children:s.jsx("code",{className:"bg-muted px-3 py-1.5 rounded text-base",children:t.code})})]}),e[22]=t.code,e[23]=m):m=e[23];let G;e[24]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:s.jsx("span",{children:"Statut"})}),e[24]=G):G=e[24];const oe=t.est_actif?"default":"secondary";let x;e[25]!==t.est_actif?(x=t.est_actif?s.jsxs(s.Fragment,{children:[s.jsx(Se,{className:"h-3 w-3 mr-1"}),"Actif"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ce,{className:"h-3 w-3 mr-1"}),"Inactif"]}),e[25]=t.est_actif,e[26]=x):x=e[26];let f;e[27]!==oe||e[28]!==x?(f=s.jsxs("div",{className:"space-y-2",children:[G,s.jsx("div",{children:s.jsx(ve,{variant:oe,children:x})})]}),e[27]=oe,e[28]=x,e[29]=f):f=e[29];let h;e[30]!==m||e[31]!==f?(h=s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m,f]}),e[30]=m,e[31]=f,e[32]=h):h=e[32];let p;e[33]!==t.description?(p=t.description&&s.jsxs(s.Fragment,{children:[s.jsx(he,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(pe,{className:"h-4 w-4"}),s.jsx("span",{children:"Description"})]}),s.jsx("div",{className:"text-foreground whitespace-pre-wrap",children:t.description})]})]}),e[33]=t.description,e[34]=p):p=e[34];let J;e[35]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsx(he,{}),e[35]=J):J=e[35];let K;e[36]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(ge,{className:"h-4 w-4"}),s.jsx("span",{children:"Créée le"})]}),e[36]=K):K=e[36];let j;e[37]!==t.created_at?(j=M(t.created_at),e[37]=t.created_at,e[38]=j):j=e[38];let u;e[39]!==j?(u=s.jsxs("div",{className:"space-y-2",children:[K,s.jsx("div",{className:"font-medium",children:j})]}),e[39]=j,e[40]=u):u=e[40];let O;e[41]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(ge,{className:"h-4 w-4"}),s.jsx("span",{children:"Modifiée le"})]}),e[41]=O):O=e[41];let g;e[42]!==t.updated_at?(g=M(t.updated_at),e[42]=t.updated_at,e[43]=g):g=e[43];let N;e[44]!==g?(N=s.jsxs("div",{className:"space-y-2",children:[O,s.jsx("div",{className:"font-medium",children:g})]}),e[44]=g,e[45]=N):N=e[45];let _;e[46]!==u||e[47]!==N?(_=s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u,N]}),e[46]=u,e[47]=N,e[48]=_):_=e[48];let Q;e[49]===Symbol.for("react.memo_cache_sentinel")?(Q=s.jsx("div",{className:"text-sm text-muted-foreground",children:"Référence"}),e[49]=Q):Q=e[49];let v;e[50]!==t.ref?(v=s.jsxs("div",{className:"space-y-2",children:[Q,s.jsx("div",{className:"font-mono text-sm",children:t.ref})]}),e[50]=t.ref,e[51]=v):v=e[51];let b;e[52]!==h||e[53]!==p||e[54]!==_||e[55]!==v?(b=s.jsxs(P,{children:[Z,s.jsxs(I,{className:"space-y-6",children:[h,p,J,_,v]})]}),e[52]=h,e[53]=p,e[54]=_,e[55]=v,e[56]=b):b=e[56];let y;e[57]!==r?(y=r&&s.jsxs(P,{children:[s.jsxs(k,{children:[s.jsx(T,{children:"Statistiques d'utilisation"}),s.jsx(be,{children:"Données d'utilisation de cette catégorie"})]}),s.jsx(I,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-primary",children:r.total_depenses||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Dépenses totales"})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.montant_total?new Intl.NumberFormat("fr-FR",{style:"currency",currency:"USD"}).format(r.montant_total).replace("$US","$"):"$0"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Montant total"})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("div",{className:"text-lg font-semibold",children:r.derniere_depense?M(r.derniere_depense):"N/A"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Dernière dépense"})]})]})})]}),e[57]=r,e[58]=y):y=e[58];let w;e[59]!==b||e[60]!==y?(w=s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[b,y]}),e[59]=b,e[60]=y,e[61]=w):w=e[61];let W;e[62]===Symbol.for("react.memo_cache_sentinel")?(W=s.jsx(k,{children:s.jsx(T,{children:"Actions"})}),e[62]=W):W=e[62];const me=`/depenses?categorie_id=${t.id}`;let Y;e[63]===Symbol.for("react.memo_cache_sentinel")?(Y=s.jsxs(H,{variant:"outline",className:"w-full justify-start",children:[s.jsx(pe,{className:"h-4 w-4 mr-2"}),"Voir les dépenses"]}),e[63]=Y):Y=e[63];let S;e[64]!==me?(S=s.jsx(ae,{href:me,className:"w-full mb-2",children:Y}),e[64]=me,e[65]=S):S=e[65];const xe=`/depenses/create?categorie_id=${t.id}`;let ee;e[66]===Symbol.for("react.memo_cache_sentinel")?(ee=s.jsxs(H,{variant:"outline",className:"w-full justify-start",children:[s.jsx(Ae,{className:"h-4 w-4 mr-2"}),"Nouvelle dépense"]}),e[66]=ee):ee=e[66];let C;e[67]!==xe?(C=s.jsx(ae,{href:xe,className:"w-full mt-6",children:ee}),e[67]=xe,e[68]=C):C=e[68];let D;e[69]!==S||e[70]!==C?(D=s.jsxs(P,{children:[W,s.jsxs(I,{className:"space-y-4 gap-2",children:[S,C]})]}),e[69]=S,e[70]=C,e[71]=D):D=e[71];let se;e[72]===Symbol.for("react.memo_cache_sentinel")?(se=s.jsx(k,{children:s.jsx(T,{className:"text-destructive",children:"Zone dangereuse"})}),e[72]=se):se=e[72];let te;e[73]===Symbol.for("react.memo_cache_sentinel")?(te=s.jsx("p",{className:"text-sm text-muted-foreground",children:"La suppression est irréversible. Les dépenses existantes conserveront cette catégorie."}),e[73]=te):te=e[73];let F;e[74]!==t.id?(F=()=>{confirm("Êtes-vous sûr de vouloir supprimer cette catégorie ?")&&fe.delete(`/categories-depense/${t.id}`)},e[74]=t.id,e[75]=F):F=e[75];let re;e[76]===Symbol.for("react.memo_cache_sentinel")?(re=s.jsx(Le,{className:"h-4 w-4 mr-2"}),e[76]=re):re=e[76];let $;e[77]!==F?($=s.jsxs(P,{className:"border-destructive/20",children:[se,s.jsx(I,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[te,s.jsxs(H,{variant:"destructive",className:"w-full",onClick:F,children:[re,"Supprimer la catégorie"]})]})})]}),e[77]=F,e[78]=$):$=e[78];let R;e[79]!==t.deleted_at||e[80]!==t.id?(R=t.deleted_at&&s.jsxs(P,{className:"border-amber-500/20",children:[s.jsx(k,{children:s.jsx(T,{className:"text-amber-600",children:"Catégorie supprimée"})}),s.jsxs(I,{children:[s.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Cette catégorie a été supprimée le ",M(t.deleted_at)]}),s.jsxs(H,{variant:"outline",className:"w-full text-amber-600 border-amber-500",onClick:()=>{confirm("Restaurer cette catégorie ?")&&fe.put(`/categories-depense/${t.id}/restore`)},children:[s.jsx(RotateCcw,{className:"h-4 w-4 mr-2"}),"Restaurer"]})]})]}),e[79]=t.deleted_at,e[80]=t.id,e[81]=R):R=e[81];let A;e[82]!==D||e[83]!==$||e[84]!==R?(A=s.jsxs("div",{className:"space-y-6",children:[D,$,R]}),e[82]=D,e[83]=$,e[84]=R,e[85]=A):A=e[85];let L;e[86]!==w||e[87]!==A?(L=s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[w,A]}),e[86]=w,e[87]=A,e[88]=L):L=e[88];let B;e[89]!==d||e[90]!==n||e[91]!==o||e[92]!==L?(B=s.jsxs(ye,{activeRoute:"/budgets",children:[d,n,o,L]}),e[89]=d,e[90]=n,e[91]=o,e[92]=L,e[93]=B):B=e[93];let le;return e[94]!==a||e[95]!==B?(le=s.jsxs(s.Fragment,{children:[a,B]}),e[94]=a,e[95]=B,e[96]=le):le=e[96],le}function Be(ie){return new Date(ie).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}export{es as default};
