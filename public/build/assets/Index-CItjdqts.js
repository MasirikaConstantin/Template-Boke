import{c as ds,r as Ue,j as s,L as Ve,b as W,H as ms}from"./app-uqHmN79t.js";import{B as Le}from"./createLucideIcon-DdtqxNsI.js";import{I as fs}from"./input-DvfwZFkz.js";import{T as ze,a as d,b as h,c as hs,d as xs,e as us}from"./table-DbeKzWTW.js";import{a as We,b as Xe,c as Ye,d as Ie,e as ps,S as js,D as gs,g as bs}from"./DashboardLayout-BR-aq2td.js";import{a as qe,b as Ge,c as Je,d as m,S as Ke}from"./select-BDqdA6RC.js";import{B as _s}from"./badge-D2zh6Zwh.js";import{C as Ze}from"./checkbox-skbYn3mx.js";import{A as es,a as ss}from"./alert-Bcv8EiY-.js";import{P as vs}from"./pagination-BCebjFlz.js";import{P as Ns}from"./PageHeader-Du2510Il.js";import{a as Oe,C as ls}from"./users-CWldF8sk.js";import{T as ts}from"./trash-2-DFU6LeGf.js";import{E as Ss}from"./ellipsis-vertical-ufu-RV6h.js";import{E as ys}from"./eye-CQzIdCSX.js";import{S as ws}from"./square-pen-CA9X1zR1.js";import{P as Cs}from"./plus-YGe1gUz1.js";import{C as rs}from"./clock-BKdoMcGC.js";import{T as Ts}from"./trending-up-BYRikWhP.js";import{F as Ds}from"./funnel-DuKc15-5.js";import{U as Ps}from"./user-CQKIz47G.js";/* empty css            */import"./index-CapVt91Y.js";import"./index-BII6AP8K.js";import"./check-oMVJ0WoU.js";import"./house-CPHwcq2r.js";function nt(n){const e=ds.c(134),{profSalaires:l,filters:r,stats:a,professeurs:Me,flash:o}=n;let X;e[0]===Symbol.for("react.memo_cache_sentinel")?(X=[],e[0]=X):X=e[0];const[i,O]=Ue.useState(X),[f,as]=Ue.useState(r.search||"");let Y,Z;e[1]!==f?(Y=()=>{const t=setTimeout(()=>{W.get("/prof-salaires",{search:f},{preserveState:!0,replace:!0})},500);return()=>clearTimeout(t)},Z=[f],e[1]=f,e[2]=Y,e[3]=Z):(Y=e[2],Z=e[3]),Ue.useEffect(Y,Z);let ee;e[4]!==r?(ee=(t,Q)=>{W.get("/prof-salaires",{...r,[t]:Q},{preserveState:!0,replace:!0})},e[4]=r,e[5]=ee):ee=e[5];const c=ee;let se;e[6]!==l.data?(se=t=>{O(t?l.data.map(As):[])},e[6]=l.data,e[7]=se):se=e[7];const $e=se;let te;e[8]!==i?(te=(t,Q)=>{O(Q?[...i,t]:i.filter(os=>os!==t))},e[8]=i,e[9]=te):te=e[9];const Ae=te;let le;e[10]!==i?(le=t=>{i.length!==0&&confirm(`Êtes-vous sûr de vouloir effectuer cette action sur ${i.length} élément(s) ?`)&&W.post("/prof-salaires/bulk-action",{ids:i,action:t},{onSuccess:()=>O([])})},e[10]=i,e[11]=le):le=e[11];const Ee=le,is=$s,ns=Ms,Qe=Is;let re;e[12]===Symbol.for("react.memo_cache_sentinel")?(re=s.jsx(ms,{title:"Gestion des salaires des professeurs"}),e[12]=re):re=e[12];const cs=l.total;let ae;e[13]!==a.total_montant?(ae=Qe(a.total_montant),e[13]=a.total_montant,e[14]=ae):ae=e[14];const Fe=`${cs} configurations - ${ae} total`;let ie;e[15]===Symbol.for("react.memo_cache_sentinel")?(ie=[{label:"Dashboard",href:"/dashboard"},{label:"Professeurs",href:"/professeurs"},{label:"Salaires",href:"/prof-salaires"}],e[15]=ie):ie=e[15];let x;e[16]!==Ee||e[17]!==i.length?(x=i.length>0&&s.jsxs(We,{children:[s.jsx(Xe,{asChild:!0,children:s.jsxs(Le,{variant:"outline",children:[s.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Actions (",i.length,")"]})}),s.jsx(Ye,{align:"end",children:s.jsxs(Ie,{onClick:()=>Ee("delete"),className:"text-destructive",children:[s.jsx(ts,{className:"h-4 w-4 mr-2"}),"Supprimer"]})})]}),e[16]=Ee,e[17]=i.length,e[18]=x):x=e[18];let ne;e[19]===Symbol.for("react.memo_cache_sentinel")?(ne=s.jsx(Ve,{href:"/prof-salaires/create",children:s.jsxs(Le,{children:[s.jsx(Cs,{className:"h-4 w-4 mr-2"}),"Nouveau salaire"]})}),e[19]=ne):ne=e[19];let u;e[20]!==x?(u=s.jsxs("div",{className:"flex items-center gap-2",children:[x,ne]}),e[20]=x,e[21]=u):u=e[21];let p;e[22]!==Fe||e[23]!==u?(p=s.jsx(Ns,{title:"Salaires des professeurs",description:Fe,breadcrumb:ie,actions:u}),e[22]=Fe,e[23]=u,e[24]=p):p=e[24];let j;e[25]!==o?(j=o?.success&&s.jsx(es,{className:"mb-6",children:s.jsx(ss,{children:o.success})}),e[25]=o,e[26]=j):j=e[26];let g;e[27]!==o?(g=o?.error&&s.jsx(es,{variant:"destructive",className:"mb-6",children:s.jsx(ss,{children:o.error})}),e[27]=o,e[28]=g):g=e[28];let ce;e[29]===Symbol.for("react.memo_cache_sentinel")?(ce=s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total configurations"}),e[29]=ce):ce=e[29];let b;e[30]!==a.total?(b=s.jsxs("div",{children:[ce,s.jsx("p",{className:"text-2xl font-bold",children:a.total})]}),e[30]=a.total,e[31]=b):b=e[31];let oe;e[32]===Symbol.for("react.memo_cache_sentinel")?(oe=s.jsx(Oe,{className:"h-8 w-8 text-primary"}),e[32]=oe):oe=e[32];let _;e[33]!==b?(_=s.jsx("div",{className:"bg-card rounded-lg border p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[b,oe]})}),e[33]=b,e[34]=_):_=e[34];let de;e[35]===Symbol.for("react.memo_cache_sentinel")?(de=s.jsx("p",{className:"text-sm text-muted-foreground",children:"Salaire horaire"}),e[35]=de):de=e[35];let v;e[36]!==a.horaire?(v=s.jsxs("div",{children:[de,s.jsx("p",{className:"text-2xl font-bold",children:a.horaire})]}),e[36]=a.horaire,e[37]=v):v=e[37];let me;e[38]===Symbol.for("react.memo_cache_sentinel")?(me=s.jsx(rs,{className:"h-8 w-8 text-blue-500"}),e[38]=me):me=e[38];let N;e[39]!==v?(N=s.jsx("div",{className:"bg-card rounded-lg border p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[v,me]})}),e[39]=v,e[40]=N):N=e[40];let fe;e[41]===Symbol.for("react.memo_cache_sentinel")?(fe=s.jsx("p",{className:"text-sm text-muted-foreground",children:"Salaire mensuel"}),e[41]=fe):fe=e[41];let S;e[42]!==a.mensuel?(S=s.jsxs("div",{children:[fe,s.jsx("p",{className:"text-2xl font-bold",children:a.mensuel})]}),e[42]=a.mensuel,e[43]=S):S=e[43];let he;e[44]===Symbol.for("react.memo_cache_sentinel")?(he=s.jsx(ls,{className:"h-8 w-8 text-purple-500"}),e[44]=he):he=e[44];let y;e[45]!==S?(y=s.jsx("div",{className:"bg-card rounded-lg border p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[S,he]})}),e[45]=S,e[46]=y):y=e[46];let xe;e[47]===Symbol.for("react.memo_cache_sentinel")?(xe=s.jsx("p",{className:"text-sm text-muted-foreground",children:"Montant total"}),e[47]=xe):xe=e[47];let w;e[48]!==a.total_montant?(w=Qe(a.total_montant),e[48]=a.total_montant,e[49]=w):w=e[49];let C;e[50]!==w?(C=s.jsxs("div",{children:[xe,s.jsx("p",{className:"text-2xl font-bold",children:w})]}),e[50]=w,e[51]=C):C=e[51];let ue;e[52]===Symbol.for("react.memo_cache_sentinel")?(ue=s.jsx(Ts,{className:"h-8 w-8 text-green-500"}),e[52]=ue):ue=e[52];let T;e[53]!==C?(T=s.jsx("div",{className:"bg-card rounded-lg border p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[C,ue]})}),e[53]=C,e[54]=T):T=e[54];let D;e[55]!==_||e[56]!==N||e[57]!==y||e[58]!==T?(D=s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[_,N,y,T]}),e[55]=_,e[56]=N,e[57]=y,e[58]=T,e[59]=D):D=e[59];let pe;e[60]===Symbol.for("react.memo_cache_sentinel")?(pe=s.jsx(js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e[60]=pe):pe=e[60];let je;e[61]===Symbol.for("react.memo_cache_sentinel")?(je=t=>as(t.target.value),e[61]=je):je=e[61];let P;e[62]!==f?(P=s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[pe,s.jsx(fs,{placeholder:"Rechercher un professeur...",value:f,onChange:je,className:"pl-10"})]})}),e[62]=f,e[63]=P):P=e[63];const Re=r.type_salaire||"";let k;e[64]!==c?(k=t=>c("type_salaire",t),e[64]=c,e[65]=k):k=e[65];let ge;e[66]===Symbol.for("react.memo_cache_sentinel")?(ge=s.jsxs(qe,{className:"w-[160px]",children:[s.jsx(Ds,{className:"h-4 w-4 mr-2"}),s.jsx(Ge,{placeholder:"Type salaire"})]}),e[66]=ge):ge=e[66];let be;e[67]===Symbol.for("react.memo_cache_sentinel")?(be=s.jsxs(Je,{children:[s.jsx(m,{value:"all",children:"Tous types"}),s.jsx(m,{value:"horaire",children:"Horaire"}),s.jsx(m,{value:"mensuel",children:"Mensuel"})]}),e[67]=be):be=e[67];let I;e[68]!==Re||e[69]!==k?(I=s.jsxs(Ke,{value:Re,onValueChange:k,children:[ge,be]}),e[68]=Re,e[69]=k,e[70]=I):I=e[70];const Be=r.professeur_id||"";let M;e[71]!==c?(M=t=>c("professeur_id",t),e[71]=c,e[72]=M):M=e[72];let _e;e[73]===Symbol.for("react.memo_cache_sentinel")?(_e=s.jsxs(qe,{className:"w-[180px]",children:[s.jsx(Ps,{className:"h-4 w-4 mr-2"}),s.jsx(Ge,{placeholder:"Professeur"})]}),e[73]=_e):_e=e[73];let ve;e[74]===Symbol.for("react.memo_cache_sentinel")?(ve=s.jsx(m,{value:"all",children:"Tous professeurs"}),e[74]=ve):ve=e[74];let $;e[75]!==Me?($=Me.map(ks),e[75]=Me,e[76]=$):$=e[76];let A;e[77]!==$?(A=s.jsxs(Je,{children:[ve,$]}),e[77]=$,e[78]=A):A=e[78];let E;e[79]!==Be||e[80]!==M||e[81]!==A?(E=s.jsxs(Ke,{value:Be,onValueChange:M,children:[_e,A]}),e[79]=Be,e[80]=M,e[81]=A,e[82]=E):E=e[82];let F;e[83]!==r.per_page?(F=r.per_page?.toString()||"10",e[83]=r.per_page,e[84]=F):F=e[84];let R;e[85]!==c?(R=t=>c("per_page",t),e[85]=c,e[86]=R):R=e[86];let Ne;e[87]===Symbol.for("react.memo_cache_sentinel")?(Ne=s.jsx(qe,{className:"w-[100px]",children:s.jsx(Ge,{placeholder:"Par page"})}),e[87]=Ne):Ne=e[87];let Se;e[88]===Symbol.for("react.memo_cache_sentinel")?(Se=s.jsxs(Je,{children:[s.jsx(m,{value:"10",children:"10"}),s.jsx(m,{value:"25",children:"25"}),s.jsx(m,{value:"50",children:"50"})]}),e[88]=Se):Se=e[88];let B;e[89]!==F||e[90]!==R?(B=s.jsxs(Ke,{value:F,onValueChange:R,children:[Ne,Se]}),e[89]=F,e[90]=R,e[91]=B):B=e[91];let H;e[92]!==I||e[93]!==E||e[94]!==B?(H=s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[I,E,B]}),e[92]=I,e[93]=E,e[94]=B,e[95]=H):H=e[95];let U;e[96]!==P||e[97]!==H?(U=s.jsx("div",{className:"bg-card rounded-lg border p-4 mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[P,H]})}),e[96]=P,e[97]=H,e[98]=U):U=e[98];const He=i.length===l.data.length&&l.data.length>0;let V;e[99]!==$e||e[100]!==He?(V=s.jsx(h,{className:"w-12",children:s.jsx(Ze,{checked:He,onCheckedChange:$e})}),e[99]=$e,e[100]=He,e[101]=V):V=e[101];let ye,we,Ce,Te,De,Pe;e[102]===Symbol.for("react.memo_cache_sentinel")?(ye=s.jsx(h,{children:"Professeur"}),we=s.jsx(h,{children:"Type de salaire"}),Ce=s.jsx(h,{children:"Montant"}),Te=s.jsx(h,{children:"Référence"}),De=s.jsx(h,{children:"Créé le"}),Pe=s.jsx(h,{className:"text-right",children:"Actions"}),e[102]=ye,e[103]=we,e[104]=Ce,e[105]=Te,e[106]=De,e[107]=Pe):(ye=e[102],we=e[103],Ce=e[104],Te=e[105],De=e[106],Pe=e[107]);let L;e[108]!==V?(L=s.jsx(hs,{children:s.jsxs(ze,{children:[V,ye,we,Ce,Te,De,Pe]})}),e[108]=V,e[109]=L):L=e[109];let z;e[110]!==r.search||e[111]!==Ae||e[112]!==l.data||e[113]!==i?(z=l.data.length===0?s.jsx(ze,{children:s.jsxs(d,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:[s.jsx(Oe,{className:"h-12 w-12 mx-auto mb-4 opacity-20"}),s.jsx("p",{className:"text-lg",children:"Aucune configuration de salaire trouvée"}),s.jsx("p",{className:"text-sm mt-2",children:r.search?"Essayez avec d'autres termes de recherche":"Commencez par créer une nouvelle configuration"})]})}):l.data.map(t=>s.jsxs(ze,{className:"hover:bg-muted/50",children:[s.jsx(d,{children:s.jsx(Ze,{checked:i.includes(t.id),onCheckedChange:Q=>Ae(t.id,Q===!0)})}),s.jsx(d,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-bold",children:t.professeur.nom.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:t.professeur.nom}),s.jsx("div",{className:"text-xs text-muted-foreground",children:t.professeur.email})]})]})}),s.jsxs(d,{children:[ns(t.type_salaire),t.type_salaire==="horaire"&&t.taux_horaire&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Taux horaire"})]}),s.jsxs(d,{children:[s.jsx("div",{className:"font-semibold text-lg",children:t.formatted_montant}),t.type_salaire==="mensuel"&&t.salaire_fixe&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Par mois"})]}),s.jsx(d,{children:s.jsx("div",{className:"text-sm font-mono",children:t.ref})}),s.jsxs(d,{children:[s.jsx("div",{className:"text-sm",children:new Date(t.created_at).toLocaleDateString("fr-FR")}),s.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(t.created_at).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})]}),s.jsx(d,{className:"text-right",children:s.jsxs(We,{children:[s.jsx(Xe,{asChild:!0,children:s.jsx(Le,{variant:"ghost",size:"icon",children:s.jsx(Ss,{className:"h-4 w-4"})})}),s.jsxs(Ye,{align:"end",children:[s.jsx(Ve,{href:`/prof-salaires/${t.id}`,children:s.jsxs(Ie,{children:[s.jsx(ys,{className:"h-4 w-4 mr-2"}),"Voir détails"]})}),s.jsx(Ve,{href:`/prof-salaires/${t.id}/edit`,children:s.jsxs(Ie,{children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Modifier"]})}),s.jsx(ps,{}),s.jsxs(Ie,{onClick:()=>is(t),className:"text-destructive",children:[s.jsx(ts,{className:"h-4 w-4 mr-2"}),"Supprimer"]})]})]})})]},t.id)),e[110]=r.search,e[111]=Ae,e[112]=l.data,e[113]=i,e[114]=z):z=e[114];let q;e[115]!==z?(q=s.jsx(xs,{children:z}),e[115]=z,e[116]=q):q=e[116];let G;e[117]!==L||e[118]!==q?(G=s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(us,{children:[L,q]})}),e[117]=L,e[118]=q,e[119]=G):G=e[119];let J;e[120]!==r||e[121]!==l.current_page||e[122]!==l.last_page?(J=l.last_page>1&&s.jsx("div",{className:"border-t p-4",children:s.jsx(vs,{currentPage:l.current_page,totalPages:l.last_page,onPageChange:t=>{W.get("/prof-salaires",{...r,page:t},{preserveState:!0,replace:!0})}})}),e[120]=r,e[121]=l.current_page,e[122]=l.last_page,e[123]=J):J=e[123];let K;e[124]!==G||e[125]!==J?(K=s.jsxs("div",{className:"bg-card rounded-lg border overflow-hidden",children:[G,J]}),e[124]=G,e[125]=J,e[126]=K):K=e[126];let ke;return e[127]!==p||e[128]!==j||e[129]!==g||e[130]!==D||e[131]!==U||e[132]!==K?(ke=s.jsxs(s.Fragment,{children:[re,s.jsxs(gs,{activeRoute:"/professeurs",children:[p,j,g,D,U,K]})]}),e[127]=p,e[128]=j,e[129]=g,e[130]=D,e[131]=U,e[132]=K,e[133]=ke):ke=e[133],ke}function ks(n){return s.jsx(m,{value:n.id.toString(),children:n.nom},n.id)}function Is(n){return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(n).replace("$US","$")}function Ms(n){const e={horaire:{label:"Horaire",variant:"default",icon:rs},mensuel:{label:"Mensuel",variant:"secondary",icon:ls}},{label:l,variant:r,icon:a}=e[n]||{label:n,variant:"outline",icon:bs};return s.jsxs(_s,{variant:r,className:"flex items-center gap-1",children:[s.jsx(a,{className:"h-3 w-3"}),l]})}function $s(n){confirm(`Êtes-vous sûr de vouloir supprimer le salaire de "${n.professeur.nom}" ?`)&&W.delete(`/prof-salaires/${n.id}`)}function As(n){return n.id}export{nt as default};
