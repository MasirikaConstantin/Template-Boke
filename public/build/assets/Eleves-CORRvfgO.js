import{c as Hs,r as $s,u as Is,j as s,L as Ds,b as zs,H as Bs}from"./app-Bu8Vmpqb.js";import{c as Fs,B as os}from"./createLucideIcon-DXjGT0kt.js";import{I as Vs}from"./input-BkXajryO.js";import{e as qs,c as Gs,T as Es,b as De,d as Os,a as Ee}from"./table-BlEVXobu.js";import{c as ws,S as ks,a as Ls,b as Ts,d as Pe}from"./select-DRo0DHiL.js";import{B as Ae}from"./badge-CFeWY9Ia.js";import{C as ms,a as ds,c as xs,b as hs}from"./card-B6vEH-5D.js";import{D as Ms,S as Js}from"./DashboardLayout-CXeyJS_y.js";import{P as Ks}from"./PageHeader-CAav8gFn.js";import{C as Rs}from"./checkbox-BbnL4F1G.js";import{G as Qs}from"./graduation-cap-C5q9yS5F.js";import{E as Ws}from"./eye-CwvfZKVI.js";import{A as Xs}from"./arrow-left-A51q0PFS.js";import{U as Ys}from"./user-plus-Sh1gZ8hN.js";import{L as Zs}from"./link-B1S3xcAX.js";import{U as Ps}from"./users-BE2qqs-I.js";import{P as et}from"./phone-BmilE_wN.js";/* empty css            */import"./index-BG8pccht.js";import"./index-Dp6dRBZf.js";import"./check-SMp37HCL.js";import"./user-DjT_t4Ak.js";import"./house-DUJK2sGk.js";/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],tt=Fs("unlink",st);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],it=Fs("user-minus",lt);function zt(t){const e=Hs.c(226),{responsable:r,eleves:i,elevesDisponibles:fs,typesLien:d}=t,[o,Us]=$s.useState(""),[ps,As]=$s.useState("");let Fe;e[0]===Symbol.for("react.memo_cache_sentinel")?(Fe={eleve_id:"",lien:"tuteur_legal",est_responsable_financier:!1,est_contact_urgence:!1,est_autorise_retirer:!1,ordre_priorite:1},e[0]=Fe):Fe=e[0];const{data:a,setData:n,post:us,processing:b,errors:x,reset:js}=Is(Fe);let Ue;e[1]!==a.eleve_id||e[2]!==us||e[3]!==js||e[4]!==r.id?(Ue=l=>{if(l.preventDefault(),!a.eleve_id){alert("Veuillez sélectionner un élève");return}us(`/responsables/${r.id}/attach-eleve`,{onSuccess:()=>{js(),As("")}})},e[1]=a.eleve_id,e[2]=us,e[3]=js,e[4]=r.id,e[5]=Ue):Ue=e[5];const _s=Ue;let He;e[6]!==r.id?(He=l=>{confirm("Êtes-vous sûr de vouloir dissocier cet élève ?")&&zs.delete(`/responsables/${r.id}/detach-eleve/${l}`)},e[6]=r.id,e[7]=He):He=e[7];const vs=He;let g,N,y,S,C,m,w,k,h,f,L,T,R,p,u,A,$,j,_,D,v;if(e[8]!==i.length||e[9]!==fs||e[10]!==_s||e[11]!==r||e[12]!==o||e[13]!==ps||e[14]!==n||e[15]!==d){let l;e[37]!==o?(l=c=>c.nom_complet.toLowerCase().includes(o.toLowerCase())||c.matricule.toLowerCase().includes(o.toLowerCase()),e[37]=o,e[38]=l):l=e[38];const $e=fs.filter(l);let we;e[39]!==d?(we=c=>d[c]||c,e[39]=d,e[40]=we):we=e[40],m=we,console.log(r);const bs=`Gestion des élèves - ${r.nom_complet}`;e[41]!==bs?(u=s.jsx(Bs,{title:bs}),e[41]=bs,e[42]=u):u=e[42],C=Ms,R="/responsables";const gs=`Gestion des élèves - ${r.nom_complet}`,Ns=`${i.length} élève(s) associé(s)`;let ls,is;e[43]===Symbol.for("react.memo_cache_sentinel")?(ls={label:"Dashboard",href:"/dashboard"},is={label:"Responsables",href:"/responsables"},e[43]=ls,e[44]=is):(ls=e[43],is=e[44]);const ys=`/responsables/${r.id}`;let ke;e[45]!==r.nom_complet||e[46]!==ys?(ke={label:r.nom_complet,href:ys},e[45]=r.nom_complet,e[46]=ys,e[47]=ke):ke=e[47];const Ss=`/responsables/${r.id}/eleves`;let Le;e[48]!==Ss?(Le={label:"Élèves",href:Ss},e[48]=Ss,e[49]=Le):Le=e[49];let Te;e[50]!==ke||e[51]!==Le?(Te=[ls,is,ke,Le],e[50]=ke,e[51]=Le,e[52]=Te):Te=e[52];const Cs=`/responsables/${r.id}`;let rs;e[53]===Symbol.for("react.memo_cache_sentinel")?(rs=s.jsxs(os,{variant:"outline",children:[s.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Retour au responsable"]}),e[53]=rs):rs=e[53];let Re;e[54]!==Cs?(Re=s.jsx(Ds,{href:Cs,children:rs}),e[54]=Cs,e[55]=Re):Re=e[55],e[56]!==gs||e[57]!==Ns||e[58]!==Te||e[59]!==Re?(p=s.jsx(Ks,{title:gs,description:Ns,breadcrumb:Te,actions:Re}),e[56]=gs,e[57]=Ns,e[58]=Te,e[59]=Re,e[60]=p):p=e[60],T="grid grid-cols-1 lg:grid-cols-3 gap-6",L="space-y-6",S=hs,e[61]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(ms,{children:s.jsxs(ds,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Ys,{className:"h-4 w-4"}),"Associer un élève"]})}),e[61]=f):f=e[61],y=xs,w=_s,k="space-y-4";let ns;e[62]===Symbol.for("react.memo_cache_sentinel")?(ns=s.jsx("label",{className:"text-sm font-medium",children:"Rechercher un élève"}),e[62]=ns):ns=e[62];let as;e[63]===Symbol.for("react.memo_cache_sentinel")?(as=s.jsx(Js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e[63]=as):as=e[63];let cs;e[64]===Symbol.for("react.memo_cache_sentinel")?(cs=c=>Us(c.target.value),e[64]=cs):cs=e[64],e[65]!==o?(h=s.jsxs("div",{className:"space-y-2",children:[ns,s.jsxs("div",{className:"relative",children:[as,s.jsx(Vs,{placeholder:"Nom, prénom ou matricule...",value:o,onChange:cs,className:"pl-10"})]})]}),e[65]=o,e[66]=h):h=e[66],D="space-y-2",e[67]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx("label",{className:"text-sm font-medium",children:"Sélectionner un élève *"}),e[67]=v):v=e[67],N=ks,$=ps,e[68]!==n?(j=c=>{As(c),n("eleve_id",c)},e[68]=n,e[69]=j):j=e[69],e[70]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx(Ls,{children:s.jsx(Ts,{placeholder:"Choisir un élève..."})}),e[70]=_):_=e[70],g=ws,A=$e.length===0?s.jsx("div",{className:"py-4 text-center text-muted-foreground",children:"Aucun élève disponible"}):$e.map(ut),e[8]=i.length,e[9]=fs,e[10]=_s,e[11]=r,e[12]=o,e[13]=ps,e[14]=n,e[15]=d,e[16]=g,e[17]=N,e[18]=y,e[19]=S,e[20]=C,e[21]=m,e[22]=w,e[23]=k,e[24]=h,e[25]=f,e[26]=L,e[27]=T,e[28]=R,e[29]=p,e[30]=u,e[31]=A,e[32]=$,e[33]=j,e[34]=_,e[35]=D,e[36]=v}else g=e[16],N=e[17],y=e[18],S=e[19],C=e[20],m=e[21],w=e[22],k=e[23],h=e[24],f=e[25],L=e[26],T=e[27],R=e[28],p=e[29],u=e[30],A=e[31],$=e[32],j=e[33],_=e[34],D=e[35],v=e[36];let E;e[71]!==g||e[72]!==A?(E=s.jsx(g,{children:A}),e[71]=g,e[72]=A,e[73]=E):E=e[73];let P;e[74]!==N||e[75]!==E||e[76]!==$||e[77]!==j||e[78]!==_?(P=s.jsxs(N,{value:$,onValueChange:j,children:[_,E]}),e[74]=N,e[75]=E,e[76]=$,e[77]=j,e[78]=_,e[79]=P):P=e[79];let F;e[80]!==x.eleve_id?(F=x.eleve_id&&s.jsx("p",{className:"text-sm text-destructive",children:x.eleve_id}),e[80]=x.eleve_id,e[81]=F):F=e[81];let U;e[82]!==P||e[83]!==F||e[84]!==D||e[85]!==v?(U=s.jsxs("div",{className:D,children:[v,P,F]}),e[82]=P,e[83]=F,e[84]=D,e[85]=v,e[86]=U):U=e[86];let Ie;e[87]===Symbol.for("react.memo_cache_sentinel")?(Ie=s.jsx("label",{className:"text-sm font-medium",children:"Lien avec l'élève *"}),e[87]=Ie):Ie=e[87];let H;e[88]!==n?(H=l=>n("lien",l),e[88]=n,e[89]=H):H=e[89];let ze;e[90]===Symbol.for("react.memo_cache_sentinel")?(ze=s.jsx(Ls,{children:s.jsx(Ts,{placeholder:"Choisir le lien..."})}),e[90]=ze):ze=e[90];let I;e[91]!==d?(I=s.jsx(ws,{children:Object.entries(d).map(pt)}),e[91]=d,e[92]=I):I=e[92];let z;e[93]!==a.lien||e[94]!==H||e[95]!==I?(z=s.jsxs(ks,{value:a.lien,onValueChange:H,children:[ze,I]}),e[93]=a.lien,e[94]=H,e[95]=I,e[96]=z):z=e[96];let B;e[97]!==x.lien?(B=x.lien&&s.jsx("p",{className:"text-sm text-destructive",children:x.lien}),e[97]=x.lien,e[98]=B):B=e[98];let V;e[99]!==z||e[100]!==B?(V=s.jsxs("div",{className:"space-y-2",children:[Ie,z,B]}),e[99]=z,e[100]=B,e[101]=V):V=e[101];let Be;e[102]===Symbol.for("react.memo_cache_sentinel")?(Be=s.jsx("label",{className:"text-sm font-medium",children:"Ordre de priorité *"}),e[102]=Be):Be=e[102];let q;e[103]!==a.ordre_priorite?(q=a.ordre_priorite.toString(),e[103]=a.ordre_priorite,e[104]=q):q=e[104];let G;e[105]!==n?(G=l=>n("ordre_priorite",parseInt(l)),e[105]=n,e[106]=G):G=e[106];let Ve;e[107]===Symbol.for("react.memo_cache_sentinel")?(Ve=s.jsx(Ls,{children:s.jsx(Ts,{placeholder:"Priorité..."})}),e[107]=Ve):Ve=e[107];let qe;e[108]===Symbol.for("react.memo_cache_sentinel")?(qe=s.jsxs(ws,{children:[s.jsx(Pe,{value:"1",children:"1 - Principal"}),s.jsx(Pe,{value:"2",children:"2 - Secondaire"}),s.jsx(Pe,{value:"3",children:"3 - Tertiaire"})]}),e[108]=qe):qe=e[108];let O;e[109]!==q||e[110]!==G?(O=s.jsxs(ks,{value:q,onValueChange:G,children:[Ve,qe]}),e[109]=q,e[110]=G,e[111]=O):O=e[111];let Ge;e[112]===Symbol.for("react.memo_cache_sentinel")?(Ge=s.jsx("p",{className:"text-xs text-muted-foreground",children:"Définit l'ordre de contact en cas de besoin"}),e[112]=Ge):Ge=e[112];let M;e[113]!==O?(M=s.jsxs("div",{className:"space-y-2",children:[Be,O,Ge]}),e[113]=O,e[114]=M):M=e[114];let J;e[115]!==n?(J=l=>n("est_responsable_financier",l===!0),e[115]=n,e[116]=J):J=e[116];let K;e[117]!==a.est_responsable_financier||e[118]!==J?(K=s.jsx(Rs,{id:"est_responsable_financier",checked:a.est_responsable_financier,onCheckedChange:J}),e[117]=a.est_responsable_financier,e[118]=J,e[119]=K):K=e[119];let Oe;e[120]===Symbol.for("react.memo_cache_sentinel")?(Oe=s.jsx("label",{htmlFor:"est_responsable_financier",className:"text-sm cursor-pointer",children:"Responsable financier"}),e[120]=Oe):Oe=e[120];let Q;e[121]!==K?(Q=s.jsxs("div",{className:"flex items-center space-x-2",children:[K,Oe]}),e[121]=K,e[122]=Q):Q=e[122];let W;e[123]!==n?(W=l=>n("est_contact_urgence",l===!0),e[123]=n,e[124]=W):W=e[124];let X;e[125]!==a.est_contact_urgence||e[126]!==W?(X=s.jsx(Rs,{id:"est_contact_urgence",checked:a.est_contact_urgence,onCheckedChange:W}),e[125]=a.est_contact_urgence,e[126]=W,e[127]=X):X=e[127];let Me;e[128]===Symbol.for("react.memo_cache_sentinel")?(Me=s.jsx("label",{htmlFor:"est_contact_urgence",className:"text-sm cursor-pointer",children:"Contact d'urgence"}),e[128]=Me):Me=e[128];let Y;e[129]!==X?(Y=s.jsxs("div",{className:"flex items-center space-x-2",children:[X,Me]}),e[129]=X,e[130]=Y):Y=e[130];let Z;e[131]!==n?(Z=l=>n("est_autorise_retirer",l===!0),e[131]=n,e[132]=Z):Z=e[132];let ee;e[133]!==a.est_autorise_retirer||e[134]!==Z?(ee=s.jsx(Rs,{id:"est_autorise_retirer",checked:a.est_autorise_retirer,onCheckedChange:Z}),e[133]=a.est_autorise_retirer,e[134]=Z,e[135]=ee):ee=e[135];let Je;e[136]===Symbol.for("react.memo_cache_sentinel")?(Je=s.jsx("label",{htmlFor:"est_autorise_retirer",className:"text-sm cursor-pointer",children:"Autorisé à retirer l'élève"}),e[136]=Je):Je=e[136];let se;e[137]!==ee?(se=s.jsxs("div",{className:"flex items-center space-x-2",children:[ee,Je]}),e[137]=ee,e[138]=se):se=e[138];let te;e[139]!==Q||e[140]!==Y||e[141]!==se?(te=s.jsxs("div",{className:"space-y-3 pt-4",children:[Q,Y,se]}),e[139]=Q,e[140]=Y,e[141]=se,e[142]=te):te=e[142];let le;e[143]!==b?(le=b?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"animate-spin mr-2",children:"⟳"}),"Association en cours..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Zs,{className:"h-4 w-4 mr-2"}),"Associer l'élève"]}),e[143]=b,e[144]=le):le=e[144];let ie;e[145]!==b||e[146]!==le?(ie=s.jsx("div",{className:"pt-4",children:s.jsx(os,{type:"submit",disabled:b,className:"w-full",children:le})}),e[145]=b,e[146]=le,e[147]=ie):ie=e[147];let re;e[148]!==w||e[149]!==k||e[150]!==h||e[151]!==U||e[152]!==V||e[153]!==M||e[154]!==te||e[155]!==ie?(re=s.jsxs("form",{onSubmit:w,className:k,children:[h,U,V,M,te,ie]}),e[148]=w,e[149]=k,e[150]=h,e[151]=U,e[152]=V,e[153]=M,e[154]=te,e[155]=ie,e[156]=re):re=e[156];let ne;e[157]!==y||e[158]!==re?(ne=s.jsx(y,{children:re}),e[157]=y,e[158]=re,e[159]=ne):ne=e[159];let ae;e[160]!==S||e[161]!==f||e[162]!==ne?(ae=s.jsxs(S,{children:[f,ne]}),e[160]=S,e[161]=f,e[162]=ne,e[163]=ae):ae=e[163];let Ke;e[164]===Symbol.for("react.memo_cache_sentinel")?(Ke=s.jsx(ms,{children:s.jsxs(ds,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Ps,{className:"h-4 w-4"}),"Statistiques"]})}),e[164]=Ke):Ke=e[164];let ce;e[165]!==i.length?(ce=s.jsx("p",{className:"text-2xl font-bold text-center",children:i.length}),e[165]=i.length,e[166]=ce):ce=e[166];let Qe;e[167]===Symbol.for("react.memo_cache_sentinel")?(Qe=s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Élèves associés"}),e[167]=Qe):Qe=e[167];let oe;e[168]!==ce?(oe=s.jsxs("div",{className:"border rounded-lg p-3",children:[ce,Qe]}),e[168]=ce,e[169]=oe):oe=e[169];let me;e[170]!==i?(me=i.filter(ft),e[170]=i,e[171]=me):me=e[171];let de;e[172]!==me.length?(de=s.jsx("p",{className:"text-2xl font-bold text-center",children:me.length}),e[172]=me.length,e[173]=de):de=e[173];let We;e[174]===Symbol.for("react.memo_cache_sentinel")?(We=s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Responsables financiers"}),e[174]=We):We=e[174];let xe;e[175]!==de?(xe=s.jsxs("div",{className:"border rounded-lg p-3",children:[de,We]}),e[175]=de,e[176]=xe):xe=e[176];let he;e[177]!==oe||e[178]!==xe?(he=s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[oe,xe]}),e[177]=oe,e[178]=xe,e[179]=he):he=e[179];let Xe;e[180]===Symbol.for("react.memo_cache_sentinel")?(Xe=s.jsx("p",{className:"text-sm font-medium",children:"Répartition par lien :"}),e[180]=Xe):Xe=e[180];let fe;e[181]!==i||e[182]!==m?(fe=s.jsxs("div",{className:"space-y-2",children:[Xe,s.jsx("div",{className:"space-y-1",children:Object.entries(i.reduce(ht,{})).map(l=>{const[$e,we]=l;return s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:m($e)}),s.jsx(Ae,{variant:"outline",children:we})]},$e)})})]}),e[181]=i,e[182]=m,e[183]=fe):fe=e[183];let pe;e[184]!==he||e[185]!==fe?(pe=s.jsxs(hs,{children:[Ke,s.jsxs(xs,{className:"space-y-4",children:[he,fe]})]}),e[184]=he,e[185]=fe,e[186]=pe):pe=e[186];let ue;e[187]!==L||e[188]!==ae||e[189]!==pe?(ue=s.jsxs("div",{className:L,children:[ae,pe]}),e[187]=L,e[188]=ae,e[189]=pe,e[190]=ue):ue=e[190];let Ye;e[191]===Symbol.for("react.memo_cache_sentinel")?(Ye=s.jsx(Ps,{className:"h-4 w-4"}),e[191]=Ye):Ye=e[191];let je;e[192]!==i.length?(je=s.jsx(ms,{children:s.jsxs(ds,{className:"text-sm font-medium flex items-center gap-2",children:[Ye,"Élèves associés (",i.length,")"]})}),e[192]=i.length,e[193]=je):je=e[193];let _e;e[194]!==i||e[195]!==m||e[196]!==vs?(_e=s.jsx(xs,{children:i.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(it,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-muted-foreground",children:"Aucun élève associé"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Utilisez le formulaire pour associer des élèves"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qs,{children:[s.jsx(Gs,{children:s.jsxs(Es,{children:[s.jsx(De,{children:"Élève"}),s.jsx(De,{children:"Lien"}),s.jsx(De,{children:"Priorité"}),s.jsx(De,{children:"Rôles"}),s.jsx(De,{className:"text-right",children:"Actions"})]})}),s.jsx(Os,{children:i.map(l=>s.jsxs(Es,{className:"hover:bg-muted/50",children:[s.jsx(Ee,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"font-medium",children:l.nom_complet}),s.jsx("div",{className:"text-xs text-muted-foreground",children:l.matricule}),l.classe&&s.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(Qs,{className:"h-3 w-3"}),l.classe.nom_classe," (",l.classe.niveau,")"]})]})}),s.jsx(Ee,{children:s.jsx(Ae,{variant:"outline",children:m(l.pivot.lien_parental)})}),s.jsx(Ee,{children:s.jsxs(Ae,{variant:"secondary",children:["#",l.pivot.ordre_priorite]})}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[l.pivot.est_responsable_financier&&s.jsx(Ae,{variant:"default",className:"text-xs",children:"Financier"}),l.pivot.est_contact_urgence&&s.jsx(Ae,{variant:"secondary",className:"text-xs",children:"Urgence"}),l.pivot.est_autorise_retirer&&s.jsx(Ae,{variant:"outline",className:"text-xs",children:"Retrait"})]})}),s.jsx(Ee,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(Ds,{href:`/eleves/${l.id}`,children:s.jsx(os,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",children:s.jsx(Ws,{className:"h-4 w-4"})})}),s.jsx(os,{size:"sm",variant:"ghost",onClick:()=>vs(l.id),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:s.jsx(tt,{className:"h-4 w-4"})})]})})]},l.id))})]})})}),e[194]=i,e[195]=m,e[196]=vs,e[197]=_e):_e=e[197];let ve;e[198]!==je||e[199]!==_e?(ve=s.jsxs(hs,{children:[je,_e]}),e[198]=je,e[199]=_e,e[200]=ve):ve=e[200];let Ze;e[201]===Symbol.for("react.memo_cache_sentinel")?(Ze=s.jsx(ms,{children:s.jsx(ds,{className:"text-sm font-medium",children:"Détails des responsabilités"})}),e[201]=Ze):Ze=e[201];let es;e[202]===Symbol.for("react.memo_cache_sentinel")?(es=s.jsx("p",{className:"text-sm font-medium mb-2",children:"Contacts d'urgence"}),e[202]=es):es=e[202];let be;e[203]!==i?(be=s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{children:[es,i.filter(xt).length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun contact d'urgence"}):s.jsx("div",{className:"space-y-2",children:i.filter(dt).sort(mt).map(ot)})]})}),e[203]=i,e[204]=be):be=e[204];let ss;e[205]===Symbol.for("react.memo_cache_sentinel")?(ss=s.jsx("p",{className:"text-sm font-medium mb-2",children:"Responsables financiers"}),e[205]=ss):ss=e[205];let ge;e[206]!==i?(ge=s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{children:[ss,i.filter(ct).length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun responsable financier"}):s.jsx("div",{className:"space-y-2",children:i.filter(at).sort(nt).map(rt)})]})}),e[206]=i,e[207]=ge):ge=e[207];let Ne;e[208]!==be||e[209]!==ge?(Ne=s.jsxs(hs,{className:"mt-6",children:[Ze,s.jsx(xs,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[be,ge]})})]}),e[208]=be,e[209]=ge,e[210]=Ne):Ne=e[210];let ye;e[211]!==ve||e[212]!==Ne?(ye=s.jsxs("div",{className:"lg:col-span-2",children:[ve,Ne]}),e[211]=ve,e[212]=Ne,e[213]=ye):ye=e[213];let Se;e[214]!==T||e[215]!==ue||e[216]!==ye?(Se=s.jsxs("div",{className:T,children:[ue,ye]}),e[214]=T,e[215]=ue,e[216]=ye,e[217]=Se):Se=e[217];let Ce;e[218]!==C||e[219]!==R||e[220]!==p||e[221]!==Se?(Ce=s.jsxs(C,{activeRoute:R,children:[p,Se]}),e[218]=C,e[219]=R,e[220]=p,e[221]=Se,e[222]=Ce):Ce=e[222];let ts;return e[223]!==u||e[224]!==Ce?(ts=s.jsxs(s.Fragment,{children:[u,Ce]}),e[223]=u,e[224]=Ce,e[225]=ts):ts=e[225],ts}function rt(t){return s.jsxs("div",{className:"p-2 border rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium",children:t.nom_complet}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.classe?.nom_classe," • ",t.matricule]})]},t.id)}function nt(t,e){return t.pivot.ordre_priorite-e.pivot.ordre_priorite}function at(t){return t.pivot.est_responsable_financier}function ct(t){return t.pivot.est_responsable_financier}function ot(t){return s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:t.nom_complet}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Priorité #",t.pivot.ordre_priorite]})]}),t.pivot.telephone_urgence&&s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(et,{className:"h-3 w-3"}),t.pivot.telephone_urgence]})]},t.id)}function mt(t,e){return t.pivot.ordre_priorite-e.pivot.ordre_priorite}function dt(t){return t.pivot.est_contact_urgence}function xt(t){return t.pivot.est_contact_urgence}function ht(t,e){const r=e.pivot.lien_parental;return t[r]=(t[r]||0)+1,t}function ft(t){return t.pivot.est_responsable_financier}function pt(t){const[e,r]=t;return s.jsx(Pe,{value:e,children:r},e)}function ut(t){return s.jsx(Pe,{value:t.id.toString(),children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:t.nom_complet}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.matricule," • ",t.classe?.nom_classe]})]})},t.id)}export{zt as default};
