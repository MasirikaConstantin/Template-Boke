import{c as Ge,j as s,L as X,H as Ke}from"./app-D-231Fnt.js";import{c as Qe,B as i}from"./index-C-s1mqx-.js";import{B as He}from"./badge-DgIKhVRa.js";import{b as Ce,c as De,C as Re,a as Te,d as We}from"./card-BjtGhsWn.js";import{F as $e,i as Le,C as Ae,D as Xe}from"./DashboardLayout-D6ki3XIQ.js";import{b as Pe,a as Be,T as Ye,c as Ze}from"./tabs-Bo3V_eSu.js";import{U as Ie}from"./user-DOQl8h22.js";import{H as Me}from"./history-DLg4tP9d.js";import{P as es}from"./printer-CqCUGvj5.js";import{D as ss}from"./download-DiS1sCsf.js";import{A as ze}from"./arrow-left-JsMND5gr.js";import{S as Ve}from"./square-pen-BBZe8Pwi.js";import{R as Ee}from"./receipt-C8xEMl-b.js";import{C as ts}from"./clock-D-wadlNI.js";/* empty css            *//**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],ls=Qe("circle-user",as);function Ss(a){const e=Ge.c(140),{paiement:t}=a,Y=ms,Ue=ns,Oe=cs,Je=rs,ke=`Détails: ${t.reference}`;let r;e[0]!==ke?(r=s.jsx(Ke,{title:ke}),e[0]=ke,e[1]=r):r=e[1];let c;e[2]!==t.reference?(c=s.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:["Paiement ",t.reference]}),e[2]=t.reference,e[3]=c):c=e[3];let n;e[4]!==t.montant?(n=Ue(t.montant),e[4]=t.montant,e[5]=n):n=e[5];let m;e[6]!==t.date_paiement?(m=Y(t.date_paiement),e[6]=t.date_paiement,e[7]=m):m=e[7];let d;e[8]!==n||e[9]!==m?(d=s.jsxs("p",{className:"text-muted-foreground",children:[n," • ",m]}),e[8]=n,e[9]=m,e[10]=d):d=e[10];let o;e[11]!==c||e[12]!==d?(o=s.jsxs("div",{children:[c,d]}),e[11]=c,e[12]=d,e[13]=o):o=e[13];let Z;e[14]===Symbol.for("react.memo_cache_sentinel")?(Z=s.jsxs(i,{variant:"outline",size:"sm",children:[s.jsx(es,{className:"h-4 w-4 mr-2"}),"Imprimer"]}),e[14]=Z):Z=e[14];let ee;e[15]===Symbol.for("react.memo_cache_sentinel")?(ee=s.jsxs(i,{variant:"outline",size:"sm",children:[s.jsx(ss,{className:"h-4 w-4 mr-2"}),"Télécharger"]}),e[15]=ee):ee=e[15];let se;e[16]===Symbol.for("react.memo_cache_sentinel")?(se=s.jsx(X,{href:"/paiements",children:s.jsxs(i,{variant:"outline",size:"sm",children:[s.jsx(ze,{className:"h-4 w-4 mr-2"}),"Retour"]})}),e[16]=se):se=e[16];const qe=`/paiements/${t.id}/edit`;let te;e[17]===Symbol.for("react.memo_cache_sentinel")?(te=s.jsxs(i,{size:"sm",children:[s.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Modifier"]}),e[17]=te):te=e[17];let f;e[18]!==qe?(f=s.jsxs("div",{className:"flex items-center gap-2",children:[Z,ee,se,s.jsx(X,{href:qe,children:te})]}),e[18]=qe,e[19]=f):f=e[19];let x;e[20]!==f||e[21]!==o?(x=s.jsxs("div",{className:"flex items-center justify-between",children:[o,f]}),e[20]=f,e[21]=o,e[22]=x):x=e[22];let ae;e[23]===Symbol.for("react.memo_cache_sentinel")?(ae=s.jsxs(Be,{value:"details",className:"flex items-center gap-2",children:[s.jsx(Ee,{className:"h-4 w-4"}),"Détails"]}),e[23]=ae):ae=e[23];let le;e[24]===Symbol.for("react.memo_cache_sentinel")?(le=s.jsx(Me,{className:"h-4 w-4"}),e[24]=le):le=e[24];let h;e[25]!==t.historique_paiements?(h=t.historique_paiements&&s.jsx(He,{variant:"outline",className:"ml-1",children:t.historique_paiements.length}),e[25]=t.historique_paiements,e[26]=h):h=e[26];let u;e[27]!==h?(u=s.jsxs(Ye,{children:[ae,s.jsxs(Be,{value:"history",className:"flex items-center gap-2",children:[le,"Historique",h]})]}),e[27]=h,e[28]=u):u=e[28];let ie;e[29]===Symbol.for("react.memo_cache_sentinel")?(ie=s.jsx(Re,{children:s.jsxs(Te,{className:"flex items-center gap-2",children:[s.jsx(Ee,{className:"h-5 w-5"}),"Informations principales"]})}),e[29]=ie):ie=e[29];let re;e[30]===Symbol.for("react.memo_cache_sentinel")?(re=s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Référence"}),e[30]=re):re=e[30];let p;e[31]!==t.reference?(p=s.jsxs("div",{className:"space-y-2",children:[re,s.jsx("div",{className:"font-mono text-lg font-semibold",children:t.reference})]}),e[31]=t.reference,e[32]=p):p=e[32];let ce;e[33]===Symbol.for("react.memo_cache_sentinel")?(ce=s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Montant"}),e[33]=ce):ce=e[33];let j;e[34]!==t.montant?(j=Ue(t.montant),e[34]=t.montant,e[35]=j):j=e[35];let N;e[36]!==j?(N=s.jsxs("div",{className:"space-y-2",children:[ce,s.jsx("div",{className:"text-2xl font-bold text-primary",children:j})]}),e[36]=j,e[37]=N):N=e[37];let ne;e[38]===Symbol.for("react.memo_cache_sentinel")?(ne=s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Mode de paiement"}),e[38]=ne):ne=e[38];let v;e[39]!==t.mode_paiement?(v=Oe(t.mode_paiement),e[39]=t.mode_paiement,e[40]=v):v=e[40];let _;e[41]!==t.numero_cheque?(_=t.numero_cheque&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["• N° ",t.numero_cheque]}),e[41]=t.numero_cheque,e[42]=_):_=e[42];let g;e[43]!==v||e[44]!==_?(g=s.jsxs("div",{className:"space-y-2",children:[ne,s.jsxs("div",{className:"flex items-center gap-2",children:[v,_]})]}),e[43]=v,e[44]=_,e[45]=g):g=e[45];let me;e[46]===Symbol.for("react.memo_cache_sentinel")?(me=s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Date de paiement"}),e[46]=me):me=e[46];let de;e[47]===Symbol.for("react.memo_cache_sentinel")?(de=s.jsx(Ae,{className:"h-4 w-4 text-muted-foreground"}),e[47]=de):de=e[47];let y;e[48]!==t.date_paiement?(y=Y(t.date_paiement),e[48]=t.date_paiement,e[49]=y):y=e[49];let b;e[50]!==y?(b=s.jsxs("div",{className:"space-y-2",children:[me,s.jsxs("div",{className:"flex items-center gap-2",children:[de,s.jsx("span",{className:"font-medium",children:y})]})]}),e[50]=y,e[51]=b):b=e[51];let w;e[52]!==p||e[53]!==N||e[54]!==g||e[55]!==b?(w=s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p,N,g,b]}),e[52]=p,e[53]=N,e[54]=g,e[55]=b,e[56]=w):w=e[56];let oe;e[57]===Symbol.for("react.memo_cache_sentinel")?(oe=s.jsx(Le,{}),e[57]=oe):oe=e[57];let S;e[58]!==t.eleve?(S=t.eleve&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ie,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"font-semibold",children:"Élève"})]}),s.jsx("div",{className:"space-y-2 pl-7",children:s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[t.eleve.nom," ",t.eleve.prenom]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Réf: ",t.eleve.ref]})]})})]}),e[58]=t.eleve,e[59]=S):S=e[59];let C;e[60]!==t.tranche?(C=t.tranche&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($e,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"font-semibold",children:"Tranche"})]}),s.jsx("div",{className:"space-y-2 pl-7",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:t.tranche.nom_tranche}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsxs("div",{children:["Ordre: #",t.tranche.ordre]}),s.jsxs("div",{children:["Limite: ",new Date(t.tranche.date_limite).toLocaleDateString("fr-FR")]}),t.tranche.configuration_frais&&s.jsxs("div",{children:["Configuration: ",t.tranche.configuration_frais.nom_frais]})]})]})})]}),e[60]=t.tranche,e[61]=C):C=e[61];let D;e[62]!==S||e[63]!==C?(D=s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[S,C]}),e[62]=S,e[63]=C,e[64]=D):D=e[64];let R;e[65]!==t.commentaire?(R=t.commentaire&&s.jsxs(s.Fragment,{children:[s.jsx(Le,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Commentaire"}),s.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:s.jsx("p",{className:"whitespace-pre-wrap",children:t.commentaire})})]})]}),e[65]=t.commentaire,e[66]=R):R=e[66];let fe;e[67]===Symbol.for("react.memo_cache_sentinel")?(fe=s.jsx(Le,{}),e[67]=fe):fe=e[67];let xe;e[68]===Symbol.for("react.memo_cache_sentinel")?(xe=s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ls,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"font-semibold",children:"Enregistré par"})]}),e[68]=xe):xe=e[68];let T;e[69]!==t.user.name?(T=t.user.name.charAt(0).toUpperCase(),e[69]=t.user.name,e[70]=T):T=e[70];let k;e[71]!==T?(k=s.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-bold",children:T})}),e[71]=T,e[72]=k):k=e[72];let q;e[73]!==t.user.name?(q=s.jsx("div",{className:"font-medium",children:t.user.name}),e[73]=t.user.name,e[74]=q):q=e[74];let F;e[75]!==t.user.email?(F=s.jsx("div",{className:"text-sm text-muted-foreground",children:t.user.email}),e[75]=t.user.email,e[76]=F):F=e[76];let L;e[77]!==q||e[78]!==F?(L=s.jsxs("div",{children:[q,F]}),e[77]=q,e[78]=F,e[79]=L):L=e[79];let A;e[80]!==k||e[81]!==L?(A=s.jsxs("div",{className:"space-y-3",children:[xe,s.jsxs("div",{className:"flex items-center gap-3 pl-7",children:[k,L]})]}),e[80]=k,e[81]=L,e[82]=A):A=e[82];let M;e[83]!==w||e[84]!==D||e[85]!==R||e[86]!==A?(M=s.jsxs(Ce,{className:"lg:col-span-2",children:[ie,s.jsxs(De,{className:"space-y-6",children:[w,oe,D,R,fe,A]})]}),e[83]=w,e[84]=D,e[85]=R,e[86]=A,e[87]=M):M=e[87];let he;e[88]===Symbol.for("react.memo_cache_sentinel")?(he=s.jsx(Re,{children:s.jsxs(Te,{className:"flex items-center gap-2",children:[s.jsx(ts,{className:"h-5 w-5"}),"Métadonnées"]})}),e[88]=he):he=e[88];let ue;e[89]===Symbol.for("react.memo_cache_sentinel")?(ue=s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Créé le"}),e[89]=ue):ue=e[89];let pe;e[90]===Symbol.for("react.memo_cache_sentinel")?(pe=s.jsx(Ae,{className:"h-4 w-4 text-muted-foreground"}),e[90]=pe):pe=e[90];let H;e[91]!==t.created_at?(H=Y(t.created_at),e[91]=t.created_at,e[92]=H):H=e[92];let U;e[93]!==H?(U=s.jsxs("div",{className:"space-y-2",children:[ue,s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[pe,H]})]}),e[93]=H,e[94]=U):U=e[94];let je;e[95]===Symbol.for("react.memo_cache_sentinel")?(je=s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Dernière modification"}),e[95]=je):je=e[95];let Ne;e[96]===Symbol.for("react.memo_cache_sentinel")?(Ne=s.jsx(Ae,{className:"h-4 w-4 text-muted-foreground"}),e[96]=Ne):Ne=e[96];let $;e[97]!==t.updated_at?($=Y(t.updated_at),e[97]=t.updated_at,e[98]=$):$=e[98];let P;e[99]!==$?(P=s.jsxs("div",{className:"space-y-2",children:[je,s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[Ne,$]})]}),e[99]=$,e[100]=P):P=e[100];let ve;e[101]===Symbol.for("react.memo_cache_sentinel")?(ve=s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"ID"}),e[101]=ve):ve=e[101];let B;e[102]!==t.id?(B=s.jsxs("div",{className:"space-y-2",children:[ve,s.jsx("div",{className:"font-mono text-sm bg-muted p-2 rounded",children:t.id})]}),e[102]=t.id,e[103]=B):B=e[103];let I;e[104]!==U||e[105]!==P||e[106]!==B?(I=s.jsxs(Ce,{children:[he,s.jsxs(De,{className:"space-y-4",children:[U,P,B]})]}),e[104]=U,e[105]=P,e[106]=B,e[107]=I):I=e[107];let _e;e[108]===Symbol.for("react.memo_cache_sentinel")?(_e=s.jsx(Re,{children:s.jsx(Te,{className:"text-base",children:"Actions rapides"})}),e[108]=_e):_e=e[108];const Fe=`/paiements/${t.id}/edit`;let ge;e[109]===Symbol.for("react.memo_cache_sentinel")?(ge=s.jsxs(i,{variant:"outline",className:"w-full justify-start",children:[s.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Modifier ce paiement"]}),e[109]=ge):ge=e[109];let z;e[110]!==Fe?(z=s.jsx(X,{href:Fe,className:"block",children:ge}),e[110]=Fe,e[111]=z):z=e[111];let V;e[112]!==t.eleve?(V=t.eleve&&s.jsx(X,{href:`/eleves/${t.eleve.id}`,className:"block",children:s.jsxs(i,{variant:"outline",className:"w-full justify-start",children:[s.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Voir l'élève"]})}),e[112]=t.eleve,e[113]=V):V=e[113];let E;e[114]!==t.tranche?(E=t.tranche&&s.jsx(X,{href:`/tranches/${t.tranche.id}`,className:"block",children:s.jsxs(i,{variant:"outline",className:"w-full justify-start",children:[s.jsx($e,{className:"h-4 w-4 mr-2"}),"Voir la tranche"]})}),e[114]=t.tranche,e[115]=E):E=e[115];let ye;e[116]===Symbol.for("react.memo_cache_sentinel")?(ye=s.jsx(X,{href:"/paiements",className:"block",children:s.jsxs(i,{variant:"outline",className:"w-full justify-start",children:[s.jsx(ze,{className:"h-4 w-4 mr-2"}),"Retour à la liste"]})}),e[116]=ye):ye=e[116];let O;e[117]!==z||e[118]!==V||e[119]!==E?(O=s.jsxs(Ce,{children:[_e,s.jsxs(De,{className:"space-y-3",children:[z,V,E,ye]})]}),e[117]=z,e[118]=V,e[119]=E,e[120]=O):O=e[120];let J;e[121]!==I||e[122]!==O?(J=s.jsxs("div",{className:"space-y-6",children:[I,O]}),e[121]=I,e[122]=O,e[123]=J):J=e[123];let G;e[124]!==M||e[125]!==J?(G=s.jsx(Pe,{value:"details",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[M,J]})}),e[124]=M,e[125]=J,e[126]=G):G=e[126];let be;e[127]===Symbol.for("react.memo_cache_sentinel")?(be=s.jsxs(Re,{children:[s.jsxs(Te,{className:"flex items-center gap-2",children:[s.jsx(Me,{className:"h-5 w-5"}),"Historique des modifications"]}),s.jsx(We,{children:"Suivi complet des actions sur ce paiement"})]}),e[127]=be):be=e[127];let K;e[128]!==t.historique_paiements?(K=s.jsx(Pe,{value:"history",className:"space-y-6",children:s.jsxs(Ce,{children:[be,s.jsx(De,{children:t.historique_paiements&&t.historique_paiements.length>0?s.jsx("div",{className:"space-y-4",children:t.historique_paiements.sort(is).map(l=>{const Se=Je(l.details);return s.jsxs("div",{className:"flex gap-4 pb-4 border-b last:border-0 last:pb-0",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-bold",children:l.user.name.charAt(0).toUpperCase()})})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-medium",children:l.user.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:Y(l.created_at)})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(He,{variant:l.action==="création"?"default":l.action==="modification"?"secondary":"destructive",children:l.action.charAt(0).toUpperCase()+l.action.slice(1)})}),Se&&s.jsx("div",{className:"text-sm text-muted-foreground bg-muted/50 p-3 rounded",children:typeof Se=="string"?s.jsx("p",{children:Se}):s.jsx("pre",{className:"whitespace-pre-wrap text-xs",children:JSON.stringify(Se,null,2)})})]})]},l.id)})}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Me,{className:"h-12 w-12 mx-auto mb-4 opacity-20"}),s.jsx("p",{children:"Aucun historique disponible"})]})})]})}),e[128]=t.historique_paiements,e[129]=K):K=e[129];let Q;e[130]!==u||e[131]!==G||e[132]!==K?(Q=s.jsxs(Ze,{defaultValue:"details",className:"space-y-6",children:[u,G,K]}),e[130]=u,e[131]=G,e[132]=K,e[133]=Q):Q=e[133];let W;e[134]!==x||e[135]!==Q?(W=s.jsx(Xe,{activeRoute:"/paiements",children:s.jsxs("div",{className:"space-y-6",children:[x,Q]})}),e[134]=x,e[135]=Q,e[136]=W):W=e[136];let we;return e[137]!==r||e[138]!==W?(we=s.jsxs(s.Fragment,{children:[r,W]}),e[137]=r,e[138]=W,e[139]=we):we=e[139],we}function is(a,e){return new Date(e.created_at).getTime()-new Date(a.created_at).getTime()}function rs(a){if(!a)return null;try{return JSON.parse(a)}catch{return a}}function cs(a){const e={espèce:"bg-green-100 text-green-800 border-green-200",chèque:"bg-blue-100 text-blue-800 border-blue-200",virement:"bg-purple-100 text-purple-800 border-purple-200",mobile_money:"bg-orange-100 text-orange-800 border-orange-200"};return s.jsx(He,{variant:"outline",className:`${e[a]} border`,children:a.charAt(0).toUpperCase()+a.slice(1)})}function ns(a){return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"CDF"}).format(a)}function ms(a){return new Date(a).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}export{Ss as default};
