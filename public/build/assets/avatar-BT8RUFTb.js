import{r as u,j as d,c as S}from"./app-CyulpZ4l.js";import{g as $,u as g}from"./sheet-Cxg_ZlmL.js";import{b as I,a as A}from"./createLucideIcon-BQY_2rDi.js";import{r as P}from"./index-CJ8bW1ie.js";function k(r,e=[]){let a=[];function n(t,i){const o=u.createContext(i);o.displayName=t+"Context";const c=a.length;a=[...a,i];const l=f=>{const{scope:v,children:x,...m}=f,j=v?.[r]?.[c]||o,R=u.useMemo(()=>m,Object.values(m));return d.jsx(j.Provider,{value:R,children:x})};l.displayName=t+"Provider";function p(f,v){const x=v?.[r]?.[c]||o,m=u.useContext(x);if(m)return m;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${t}\``)}return[l,p]}const s=()=>{const t=a.map(i=>u.createContext(i));return function(o){const c=o?.[r]||t;return u.useMemo(()=>({[`__scope${r}`]:{...o,[r]:c}}),[o,c])}};return s.scopeName=r,[n,M(s,...e)]}function M(...r){const e=r[0];if(r.length===1)return e;const a=()=>{const n=r.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(t){const i=n.reduce((o,{useScope:c,scopeName:l})=>{const f=c(t)[`__scope${l}`];return{...o,...f}},{});return u.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return a.scopeName=e.scopeName,a}var F=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],h=F.reduce((r,e)=>{const a=I(`Primitive.${e}`),n=u.forwardRef((s,t)=>{const{asChild:i,...o}=s,c=i?a:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(c,{...o,ref:t})});return n.displayName=`Primitive.${e}`,{...r,[e]:n}},{}),z=P();function H(){return z.useSyncExternalStore(T,()=>!0,()=>!1)}function T(){return()=>{}}var C="Avatar",[q,U]=k(C),[B,L]=q(C),b=u.forwardRef((r,e)=>{const{__scopeAvatar:a,...n}=r,[s,t]=u.useState("idle");return d.jsx(B,{scope:a,imageLoadingStatus:s,onImageLoadingStatusChange:t,children:d.jsx(h.span,{...n,ref:e})})});b.displayName=C;var E="AvatarImage",N=u.forwardRef((r,e)=>{const{__scopeAvatar:a,src:n,onLoadingStatusChange:s=()=>{},...t}=r,i=L(E,a),o=D(n,t),c=$(l=>{s(l),i.onImageLoadingStatusChange(l)});return g(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?d.jsx(h.img,{...t,ref:e,src:n}):null});N.displayName=E;var _="AvatarFallback",y=u.forwardRef((r,e)=>{const{__scopeAvatar:a,delayMs:n,...s}=r,t=L(_,a),[i,o]=u.useState(n===void 0);return u.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>o(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&t.imageLoadingStatus!=="loaded"?d.jsx(h.span,{...s,ref:e}):null});y.displayName=_;function w(r,e){return r?e?(r.src!==e&&(r.src=e),r.complete&&r.naturalWidth>0?"loaded":"loading"):"error":"idle"}function D(r,{referrerPolicy:e,crossOrigin:a}){const n=H(),s=u.useRef(null),t=n?(s.current||(s.current=new window.Image),s.current):null,[i,o]=u.useState(()=>w(t,r));return g(()=>{o(w(t,r))},[t,r]),g(()=>{const c=f=>()=>{o(f)};if(!t)return;const l=c("loaded"),p=c("error");return t.addEventListener("load",l),t.addEventListener("error",p),e&&(t.referrerPolicy=e),typeof a=="string"&&(t.crossOrigin=a),()=>{t.removeEventListener("load",l),t.removeEventListener("error",p)}},[t,a,e]),i}var G=b,K=N,O=y;function X(r){const e=S.c(8);let a,n;e[0]!==r?({className:a,...n}=r,e[0]=r,e[1]=a,e[2]=n):(a=e[1],n=e[2]);let s;e[3]!==a?(s=A("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),e[3]=a,e[4]=s):s=e[4];let t;return e[5]!==n||e[6]!==s?(t=d.jsx(G,{"data-slot":"avatar",className:s,...n}),e[5]=n,e[6]=s,e[7]=t):t=e[7],t}function Y(r){const e=S.c(8);let a,n;e[0]!==r?({className:a,...n}=r,e[0]=r,e[1]=a,e[2]=n):(a=e[1],n=e[2]);let s;e[3]!==a?(s=A("aspect-square size-full",a),e[3]=a,e[4]=s):s=e[4];let t;return e[5]!==n||e[6]!==s?(t=d.jsx(K,{"data-slot":"avatar-image",className:s,...n}),e[5]=n,e[6]=s,e[7]=t):t=e[7],t}function Z(r){const e=S.c(8);let a,n;e[0]!==r?({className:a,...n}=r,e[0]=r,e[1]=a,e[2]=n):(a=e[1],n=e[2]);let s;e[3]!==a?(s=A("bg-muted flex size-full items-center justify-center rounded-full",a),e[3]=a,e[4]=s):s=e[4];let t;return e[5]!==n||e[6]!==s?(t=d.jsx(O,{"data-slot":"avatar-fallback",className:s,...n}),e[5]=n,e[6]=s,e[7]=t):t=e[7],t}export{Y as A,Z as a,X as b};
