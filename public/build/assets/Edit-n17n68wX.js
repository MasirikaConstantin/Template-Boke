import{c as Se,u as Ce,r as we,j as s,H as $e,L as fe}from"./app-5Dbz7raP.js";import{B as de}from"./createLucideIcon-BbQnreOs.js";import{I as ue}from"./input-n7OeVstE.js";import{L as ee}from"./label-n2viQgWs.js";import{a as Te,b as Fe,c as Ae,S as De,d as Ee}from"./select-DSj7oFl5.js";import{C as Le,d as Me,b as xe,c as pe,a as Re}from"./card-M1rE4DpJ.js";import{A as he,a as _e}from"./alert-Dr0NOMKL.js";import{T as He,a as je,b as ve,c as Pe}from"./tabs-C0r5JT4A.js";import{D as Ie}from"./DashboardLayout-ByUj4ROS.js";import{P as ke}from"./PageHeader-C2_xgV5F.js";import{C as be}from"./circle-alert-CoLmvAti.js";import{C as Ve}from"./clock-CkLaDOCy.js";import{C as Be}from"./calendar-ByLnJ856.js";import{A as qe}from"./arrow-left-FA-xRmb0.js";import{C as ze}from"./users-DC4hzx-j.js";/* empty css            */import"./index-BlzE7Lae.js";import"./index-B-6lPV8j.js";import"./check-CkeGpNl8.js";import"./file-text-CCJGyrxq.js";import"./user-C_rpr3N_.js";import"./house-Dl9tCatm.js";function xs(n){const e=Se.c(103),{profSalaire:r,professeurs:se}=n;let c;e[0]!==r.professeur_id?(c=r.professeur_id.toString(),e[0]=r.professeur_id,e[1]=c):c=e[1];let d;e[2]!==r.taux_horaire?(d=r.taux_horaire?.toString()||"",e[2]=r.taux_horaire,e[3]=d):d=e[3];let m;e[4]!==r.salaire_fixe?(m=r.salaire_fixe?.toString()||"",e[4]=r.salaire_fixe,e[5]=m):m=e[5];let P;e[6]!==r.type_salaire||e[7]!==c||e[8]!==d||e[9]!==m?(P={professeur_id:c,type_salaire:r.type_salaire,taux_horaire:d,salaire_fixe:m},e[6]=r.type_salaire,e[7]=c,e[8]=d,e[9]=m,e[10]=P):P=e[10];const{data:l,setData:i,put:re,processing:I,errors:a}=Ce(P),[o,ge]=we.useState(r.type_salaire);let k;e[11]!==r.id||e[12]!==re?(k=t=>{t.preventDefault(),re(`/prof-salaires/${r.id}`)},e[11]=r.id,e[12]=re,e[13]=k):k=e[13];const ae=k;let V;e[14]!==i?(V=t=>{ge(t),i("type_salaire",t),i(t==="horaire"?"salaire_fixe":"taux_horaire","")},e[14]=i,e[15]=V):V=e[15];const te=V;let B;e[16]===Symbol.for("react.memo_cache_sentinel")?(B=[{value:"horaire",label:"Horaire",icon:"ðŸ•",description:"RÃ©munÃ©ration basÃ©e sur les heures travaillÃ©es"},{value:"mensuel",label:"Mensuel",icon:"ðŸ’°",description:"Salaire fixe mensuel"}],e[16]=B):B=e[16];const Ne=B,me=Ge,le=`Modifier le salaire - ${r.ref}`;let f;e[17]!==le?(f=s.jsx($e,{title:le}),e[17]=le,e[18]=f):f=e[18];let q,z;e[19]===Symbol.for("react.memo_cache_sentinel")?(q={label:"Dashboard",href:"/dashboard"},z={label:"Salaires",href:"/prof-salaires"},e[19]=q,e[20]=z):(q=e[19],z=e[20]);const ie=`/prof-salaires/${r.id}`;let u;e[21]!==r.ref||e[22]!==ie?(u={label:r.ref,href:ie},e[21]=r.ref,e[22]=ie,e[23]=u):u=e[23];const oe=`/prof-salaires/${r.id}/edit`;let x;e[24]!==oe?(x={label:"Modifier",href:oe},e[24]=oe,e[25]=x):x=e[25];let p;e[26]!==u||e[27]!==x?(p=[q,z,u,x],e[26]=u,e[27]=x,e[28]=p):p=e[28];let U;e[29]===Symbol.for("react.memo_cache_sentinel")?(U=s.jsx(fe,{href:"/prof-salaires",children:s.jsxs(de,{variant:"outline",children:[s.jsx(qe,{className:"h-4 w-4 mr-2"}),"Retour"]})}),e[29]=U):U=e[29];let h;e[30]!==p?(h=s.jsx(ke,{title:"Modifier le salaire",breadcrumb:p,actions:U}),e[30]=p,e[31]=h):h=e[31];let G;e[32]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsxs(Re,{className:"flex items-center gap-2",children:[s.jsx(ze,{className:"h-5 w-5"}),"Modifier la configuration de salaire"]}),e[32]=G):G=e[32];let _;e[33]!==r.ref?(_=s.jsxs(Le,{children:[G,s.jsxs(Me,{children:["RÃ©fÃ©rence: ",s.jsx("span",{className:"font-mono",children:r.ref})]})]}),e[33]=r.ref,e[34]=_):_=e[34];let j;e[35]!==a.professeur_id||e[36]!==a.type_salaire?(j=(a.professeur_id||a.type_salaire)&&s.jsxs(he,{variant:"destructive",children:[s.jsx(be,{className:"h-4 w-4"}),s.jsx(_e,{children:a.professeur_id||a.type_salaire})]}),e[35]=a.professeur_id,e[36]=a.type_salaire,e[37]=j):j=e[37];let J;e[38]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsxs(He,{className:"grid w-full grid-cols-2",children:[s.jsx(je,{value:"professeur",children:"Professeur"}),s.jsx(je,{value:"salaire",children:"Configuration"})]}),e[38]=J):J=e[38];let K;e[39]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsx(ee,{htmlFor:"professeur_id",children:"Professeur *"}),e[39]=K):K=e[39];const ye=l.professeur_id;let v;e[40]!==i?(v=t=>i("professeur_id",t),e[40]=i,e[41]=v):v=e[41];let O;e[42]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx(Te,{children:s.jsx(Fe,{placeholder:"SÃ©lectionner un professeur"})}),e[42]=O):O=e[42];let b;e[43]!==se?(b=se.map(Ue),e[43]=se,e[44]=b):b=e[44];let g;e[45]!==b?(g=s.jsx(Ae,{children:b}),e[45]=b,e[46]=g):g=e[46];let N;e[47]!==l.professeur_id||e[48]!==v||e[49]!==g?(N=s.jsxs(De,{value:ye,onValueChange:v,children:[O,g]}),e[47]=l.professeur_id,e[48]=v,e[49]=g,e[50]=N):N=e[50];let Q;e[51]===Symbol.for("react.memo_cache_sentinel")?(Q=s.jsx("p",{className:"text-xs text-muted-foreground",children:"Le professeur actuel est dÃ©jÃ  sÃ©lectionnÃ©"}),e[51]=Q):Q=e[51];let y;e[52]!==a.professeur_id?(y=a.professeur_id&&s.jsx("p",{className:"text-sm text-destructive",children:a.professeur_id}),e[52]=a.professeur_id,e[53]=y):y=e[53];let S;e[54]!==N||e[55]!==y?(S=s.jsxs("div",{className:"space-y-4",children:[K,N,Q,y]}),e[54]=N,e[55]=y,e[56]=S):S=e[56];let W;e[57]===Symbol.for("react.memo_cache_sentinel")?(W=s.jsxs(he,{children:[s.jsx(be,{className:"h-4 w-4"}),s.jsx(_e,{children:"Changer de professeur transfÃ©rera cette configuration de salaire Ã  un autre professeur. Assurez-vous que le nouveau professeur n'a pas dÃ©jÃ  une configuration active."})]}),e[57]=W):W=e[57];let C;e[58]!==S?(C=s.jsxs(ve,{value:"professeur",className:"space-y-6 pt-6",children:[S,W]}),e[58]=S,e[59]=C):C=e[59];let X;e[60]===Symbol.for("react.memo_cache_sentinel")?(X=s.jsx(ee,{children:"Type de salaire *"}),e[60]=X):X=e[60];let w;e[61]!==te||e[62]!==o?(w=s.jsx("div",{className:"grid grid-cols-2 gap-4",children:Ne.map(t=>s.jsx(xe,{className:`cursor-pointer transition-all ${o===t.value?"border-primary ring-2 ring-primary/20":"hover:border-border"}`,onClick:()=>te(t.value),children:s.jsxs(pe,{className:"p-4 flex items-start gap-3",children:[s.jsx("div",{className:"text-2xl",children:t.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:t.label}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:t.description})]}),o===t.value&&s.jsx("div",{className:"h-5 w-5 rounded-full bg-primary flex items-center justify-center",children:s.jsx("div",{className:"h-2 w-2 rounded-full bg-white"})})]})},t.value))}),e[61]=te,e[62]=o,e[63]=w):w=e[63];let $;e[64]!==o?($=s.jsx("input",{type:"hidden",name:"type_salaire",value:o}),e[64]=o,e[65]=$):$=e[65];let T;e[66]!==a.type_salaire?(T=a.type_salaire&&s.jsx("p",{className:"text-sm text-destructive",children:a.type_salaire}),e[66]=a.type_salaire,e[67]=T):T=e[67];let F;e[68]!==w||e[69]!==$||e[70]!==T?(F=s.jsxs("div",{className:"space-y-4",children:[X,w,$,T]}),e[68]=w,e[69]=$,e[70]=T,e[71]=F):F=e[71];let A;e[72]!==l.salaire_fixe||e[73]!==l.taux_horaire||e[74]!==a.salaire_fixe||e[75]!==a.taux_horaire||e[76]!==o||e[77]!==i?(A=o==="horaire"?s.jsxs("div",{className:"space-y-4",children:[s.jsx(ee,{htmlFor:"taux_horaire",children:"Taux horaire ($/heure) *"}),s.jsxs("div",{className:"relative",children:[s.jsx(ue,{id:"taux_horaire",type:"text",value:l.taux_horaire,onChange:t=>{const ce=t.target.value.replace(/[^0-9.,]/g,"");i("taux_horaire",ce)},placeholder:"Ex: 25,50",className:"pl-10"}),s.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-sm text-muted-foreground",children:"$/h"})]}),s.jsx("div",{className:"text-sm",children:s.jsxs("p",{className:"text-muted-foreground",children:["Estimation mensuelle (35h/semaine):"," ",s.jsx("span",{className:"font-semibold",children:l.taux_horaire?`${me((parseFloat(l.taux_horaire.replace(",","."))||0)*35*4.33)} $`:"0,00 $"})]})}),a.taux_horaire&&s.jsx("p",{className:"text-sm text-destructive",children:a.taux_horaire})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx(ee,{htmlFor:"salaire_fixe",children:"Salaire mensuel fixe *"}),s.jsxs("div",{className:"relative",children:[s.jsx(ue,{id:"salaire_fixe",type:"text",value:l.salaire_fixe,onChange:t=>{const ce=t.target.value.replace(/[^0-9.,]/g,"");i("salaire_fixe",ce)},placeholder:"Ex: 2500,00",className:"pl-10"}),s.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-sm text-muted-foreground",children:"$/mois"})]}),s.jsx("div",{className:"text-sm",children:s.jsxs("p",{className:"text-muted-foreground",children:["Estimation annuelle: ",s.jsx("span",{className:"font-semibold",children:l.salaire_fixe?`${me((parseFloat(l.salaire_fixe.replace(",","."))||0)*12)} $`:"0,00 $"})]})}),a.salaire_fixe&&s.jsx("p",{className:"text-sm text-destructive",children:a.salaire_fixe})]}),e[72]=l.salaire_fixe,e[73]=l.taux_horaire,e[74]=a.salaire_fixe,e[75]=a.taux_horaire,e[76]=o,e[77]=i,e[78]=A):A=e[78];let D;e[79]!==F||e[80]!==A?(D=s.jsxs(ve,{value:"salaire",className:"space-y-6 pt-6",children:[F,A]}),e[79]=F,e[80]=A,e[81]=D):D=e[81];let E;e[82]!==C||e[83]!==D?(E=s.jsxs(Pe,{defaultValue:"professeur",className:"w-full",children:[J,C,D]}),e[82]=C,e[83]=D,e[84]=E):E=e[84];let Y;e[85]===Symbol.for("react.memo_cache_sentinel")?(Y=s.jsx(fe,{href:"/prof-salaires",children:s.jsx(de,{type:"button",variant:"outline",children:"Annuler"})}),e[85]=Y):Y=e[85];const ne=I?"Mise Ã  jour en cours...":"Mettre Ã  jour";let L;e[86]!==I||e[87]!==ne?(L=s.jsxs("div",{className:"flex items-center justify-end gap-4 pt-6 border-t",children:[Y,s.jsx(de,{type:"submit",disabled:I,children:ne})]}),e[86]=I,e[87]=ne,e[88]=L):L=e[88];let M;e[89]!==ae||e[90]!==j||e[91]!==E||e[92]!==L?(M=s.jsx(pe,{children:s.jsxs("form",{onSubmit:ae,className:"space-y-6",children:[j,E,L]})}),e[89]=ae,e[90]=j,e[91]=E,e[92]=L,e[93]=M):M=e[93];let R;e[94]!==_||e[95]!==M?(R=s.jsxs(xe,{className:"max-w-3xl mx-auto",children:[_,M]}),e[94]=_,e[95]=M,e[96]=R):R=e[96];let H;e[97]!==h||e[98]!==R?(H=s.jsxs(Ie,{activeRoute:"/prof-salaires",children:[h,R]}),e[97]=h,e[98]=R,e[99]=H):H=e[99];let Z;return e[100]!==H||e[101]!==f?(Z=s.jsxs(s.Fragment,{children:[f,H]}),e[100]=H,e[101]=f,e[102]=Z):Z=e[102],Z}function Ue(n){return s.jsx(Ee,{value:n.id.toString(),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-6 w-6 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-bold",children:n.nom.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:n.nom}),s.jsx("div",{className:"text-xs text-muted-foreground",children:n.email})]})]})},n.id)}function Ge(n){return new Intl.NumberFormat("fr-FR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(n||0)}export{xs as default};
