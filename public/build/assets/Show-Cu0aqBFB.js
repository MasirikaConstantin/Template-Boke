import{c as Ge,j as s,L as z,H as Je}from"./app-In9Nik1Q.js";import{B as a}from"./createLucideIcon-CJEMehIl.js";import{a as K,b as Q,C as X,c as Y,d as Ke}from"./card-B7H-GhDV.js";import{B as Qe}from"./badge-Drw4Wbsc.js";import{p as Xe,h as Ae,g as Oe,D as Ye}from"./DashboardLayout-CEDYoFZ2.js";import{A as Ze,a as es}from"./alert-DhXtjLml.js";import{P as ss}from"./PageHeader-DQTHicRe.js";import{d as ts}from"./index-BIIT_sWW.js";import{S as Ve}from"./square-pen-CP9nvJX8.js";import{C as We}from"./circle-alert-Cwpkfv5g.js";import{C as qe}from"./circle-check-big-Dlwzab6a.js";import{a as Ie}from"./users-ChxHvb98.js";import{C as as}from"./clock-BWGFRVXe.js";import{A as ze}from"./arrow-left-Bto5bA9e.js";import{C as ls}from"./calendar-days-BJVyva_6.js";import{U as rs}from"./user-dx_iuRNG.js";import{P as is}from"./printer-BuS12iyL.js";import{D as ns}from"./download-BlDP4QC8.js";/* empty css            */import"./house-D9zFqT7C.js";function $s(G){const e=Ge.c(140),{avance:t}=G,Ue=ms,Pe=cs;let Z;e[0]!==t.statut?(Z=()=>{const J={demandee:as,approuvee:qe,payee:Oe,deduite:Ie}[t.statut]||We;return s.jsx(J,{className:"h-5 w-5"})},e[0]=t.statut,e[1]=Z):Z=e[1];const $e=Z;let ee;e[2]!==t.statut||e[3]!==t.statut_label||e[4]!==$e?(ee=()=>{const J={demandee:{variant:"warning"},approuvee:{variant:"info"},payee:{variant:"success"},deduite:{variant:"secondary"}}[t.statut]||{variant:"outline"};return s.jsxs(Qe,{variant:J.variant,className:"flex items-center gap-1",children:[$e(),t.statut_label]})},e[2]=t.statut,e[3]=t.statut_label,e[4]=$e,e[5]=ee):ee=e[5];const r=ee,i=t.statut==="demandee"||t.statut==="approuvee",ke=t.statut==="demandee",Re=t.statut==="approuvee";let se;e[6]!==t.formatted_montant?(se=()=>{confirm(`Approuver l'avance de ${t.formatted_montant} ?`)},e[6]=t.formatted_montant,e[7]=se):se=e[7];const Be=se;let te;e[8]!==t.formatted_montant?(te=()=>{confirm(`Marquer comme payée l'avance de ${t.formatted_montant} ?`)},e[8]=t.formatted_montant,e[9]=te):te=e[9];const Le=te,Fe=`Détails de l'avance - ${t.ref}`;let n;e[10]!==Fe?(n=s.jsx(Je,{title:Fe}),e[10]=Fe,e[11]=n):n=e[11];let ae;e[12]===Symbol.for("react.memo_cache_sentinel")?(ae={label:"Dashboard",href:ts().url},e[12]=ae):ae=e[12];let le,re;e[13]===Symbol.for("react.memo_cache_sentinel")?(le={label:"Professeurs",href:Xe.index().url},re={label:"Avances",href:"/avance-salaires"},e[13]=le,e[14]=re):(le=e[13],re=e[14]);const He=`/avance-salaires/${t.id}`;let c;e[15]!==t.ref||e[16]!==He?(c=[ae,le,re,{label:t.ref,href:He}],e[15]=t.ref,e[16]=He,e[17]=c):c=e[17];let ie;e[18]===Symbol.for("react.memo_cache_sentinel")?(ie=s.jsx(z,{href:"/avance-salaires",children:s.jsxs(a,{variant:"outline",children:[s.jsx(ze,{className:"h-4 w-4 mr-2"}),"Retour"]})}),e[18]=ie):ie=e[18];let m;e[19]!==t.id||e[20]!==i?(m=i&&s.jsx(z,{href:`/avance-salaires/${t.id}/edit`,children:s.jsxs(a,{children:[s.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Modifier"]})}),e[19]=t.id,e[20]=i,e[21]=m):m=e[21];let o;e[22]!==m?(o=s.jsxs("div",{className:"flex items-center gap-2",children:[ie,m]}),e[22]=m,e[23]=o):o=e[23];let d;e[24]!==c||e[25]!==o?(d=s.jsx(ss,{title:"Détails de l'avance",breadcrumb:c,actions:o}),e[24]=c,e[25]=o,e[26]=d):d=e[26];let ne;e[27]===Symbol.for("react.memo_cache_sentinel")?(ne=s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ie,{className:"h-5 w-5"}),"Informations de l'avance"]}),e[27]=ne):ne=e[27];let f;e[28]!==r?(f=s.jsxs(K,{className:"flex items-center justify-between",children:[ne,r()]}),e[28]=r,e[29]=f):f=e[29];let ce;e[30]===Symbol.for("react.memo_cache_sentinel")?(ce=s.jsx(Ke,{}),e[30]=ce):ce=e[30];let u;e[31]!==f?(u=s.jsxs(X,{children:[f,ce]}),e[31]=f,e[32]=u):u=e[32];let me;e[33]===Symbol.for("react.memo_cache_sentinel")?(me=s.jsx("p",{className:"text-sm text-muted-foreground",children:"Montant"}),e[33]=me):me=e[33];let p;e[34]!==t.formatted_montant?(p=s.jsxs("div",{className:"space-y-2",children:[me,s.jsx("p",{className:"text-2xl font-bold",children:t.formatted_montant})]}),e[34]=t.formatted_montant,e[35]=p):p=e[35];let oe;e[36]===Symbol.for("react.memo_cache_sentinel")?(oe=s.jsx("p",{className:"text-sm text-muted-foreground",children:"Date de l'avance"}),e[36]=oe):oe=e[36];let de;e[37]===Symbol.for("react.memo_cache_sentinel")?(de=s.jsx(ls,{className:"h-4 w-4"}),e[37]=de):de=e[37];let x;e[38]!==t.date_avance?(x=Ue(t.date_avance),e[38]=t.date_avance,e[39]=x):x=e[39];let h;e[40]!==x?(h=s.jsxs("div",{className:"space-y-2",children:[oe,s.jsxs("div",{className:"font-medium flex items-center gap-2",children:[de,x]})]}),e[40]=x,e[41]=h):h=e[41];let j;e[42]!==p||e[43]!==h?(j=s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p,h]}),e[42]=p,e[43]=h,e[44]=j):j=e[44];let fe;e[45]===Symbol.for("react.memo_cache_sentinel")?(fe=s.jsx(Ae,{}),e[45]=fe):fe=e[45];let ue;e[46]===Symbol.for("react.memo_cache_sentinel")?(ue=s.jsx("p",{className:"text-sm font-medium",children:"Historique"}),e[46]=ue):ue=e[46];let pe;e[47]===Symbol.for("react.memo_cache_sentinel")?(pe=s.jsx("span",{className:"text-muted-foreground",children:"Créée le:"}),e[47]=pe):pe=e[47];let v;e[48]!==t.created_at?(v=Pe(t.created_at),e[48]=t.created_at,e[49]=v):v=e[49];let _;e[50]!==v?(_=s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[pe,s.jsx("span",{className:"font-medium",children:v})]}),e[50]=v,e[51]=_):_=e[51];let N;e[52]!==t.approuve_le?(N=t.approuve_le&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Approuvée le:"}),s.jsx("span",{className:"font-medium",children:Pe(t.approuve_le)})]}),e[52]=t.approuve_le,e[53]=N):N=e[53];let y;e[54]!==t.created_at||e[55]!==t.updated_at?(y=t.updated_at!==t.created_at&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Dernière modification:"}),s.jsx("span",{className:"font-medium",children:Pe(t.updated_at)})]}),e[54]=t.created_at,e[55]=t.updated_at,e[56]=y):y=e[56];let b;e[57]!==_||e[58]!==N||e[59]!==y?(b=s.jsxs("div",{className:"space-y-3",children:[ue,s.jsxs("div",{className:"space-y-2",children:[_,N,y]})]}),e[57]=_,e[58]=N,e[59]=y,e[60]=b):b=e[60];let g;e[61]!==t.raison_rejet?(g=t.raison_rejet&&s.jsxs(s.Fragment,{children:[s.jsx(Ae,{}),s.jsxs(Ze,{variant:"destructive",children:[s.jsx(We,{className:"h-4 w-4"}),s.jsxs(es,{children:[s.jsx("p",{className:"font-medium",children:"Raison du rejet:"}),s.jsx("p",{children:t.raison_rejet})]})]})]}),e[61]=t.raison_rejet,e[62]=g):g=e[62];let w;e[63]!==j||e[64]!==b||e[65]!==g?(w=s.jsxs(Y,{className:"space-y-4",children:[j,fe,b,g]}),e[63]=j,e[64]=b,e[65]=g,e[66]=w):w=e[66];let S;e[67]!==u||e[68]!==w?(S=s.jsxs(Q,{children:[u,w]}),e[67]=u,e[68]=w,e[69]=S):S=e[69];let xe;e[70]===Symbol.for("react.memo_cache_sentinel")?(xe=s.jsx(X,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(rs,{className:"h-5 w-5"}),"Professeur"]})}),e[70]=xe):xe=e[70];let C;e[71]!==t.professeur.nom?(C=t.professeur.nom.charAt(0).toUpperCase(),e[71]=t.professeur.nom,e[72]=C):C=e[72];let D;e[73]!==C?(D=s.jsx("div",{className:"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-xl font-bold",children:C})}),e[73]=C,e[74]=D):D=e[74];let A;e[75]!==t.professeur.nom?(A=s.jsx("p",{className:"font-semibold text-lg",children:t.professeur.nom}),e[75]=t.professeur.nom,e[76]=A):A=e[76];let P;e[77]!==t.professeur.email?(P=s.jsx("p",{className:"text-muted-foreground",children:t.professeur.email}),e[77]=t.professeur.email,e[78]=P):P=e[78];const Me=`/professeurs/${t.professeur.id}`;let $;e[79]!==Me?($=s.jsx(z,{href:Me,className:"text-sm text-primary hover:underline mt-1 inline-block",children:"Voir le profil →"}),e[79]=Me,e[80]=$):$=e[80];let k;e[81]!==A||e[82]!==P||e[83]!==$?(k=s.jsxs("div",{className:"flex-1",children:[A,P,$]}),e[81]=A,e[82]=P,e[83]=$,e[84]=k):k=e[84];let R;e[85]!==D||e[86]!==k?(R=s.jsxs(Q,{children:[xe,s.jsx(Y,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[D,k]})})]}),e[85]=D,e[86]=k,e[87]=R):R=e[87];let B;e[88]!==t.approbateur||e[89]!==t.approuve_le?(B=t.approbateur&&s.jsxs(Q,{children:[s.jsx(X,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(qe,{className:"h-5 w-5"}),"Approbation"]})}),s.jsx(Y,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-bold text-blue-600",children:t.approbateur.nom.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:t.approbateur.nom}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Approbateur"})]})]}),t.approuve_le&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Approuvée le ",Ue(t.approuve_le)]})]})})]}),e[88]=t.approbateur,e[89]=t.approuve_le,e[90]=B):B=e[90];let L;e[91]!==S||e[92]!==R||e[93]!==B?(L=s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[S,R,B]}),e[91]=S,e[92]=R,e[93]=B,e[94]=L):L=e[94];let he;e[95]===Symbol.for("react.memo_cache_sentinel")?(he=s.jsx(X,{children:s.jsx(K,{children:"Actions"})}),e[95]=he):he=e[95];let F;e[96]!==ke||e[97]!==Be?(F=ke&&s.jsxs(a,{variant:"outline",className:"w-full justify-start",onClick:Be,children:[s.jsx(qe,{className:"h-4 w-4 mr-2"}),"Approuver l'avance"]}),e[96]=ke,e[97]=Be,e[98]=F):F=e[98];let H;e[99]!==Re||e[100]!==Le?(H=Re&&s.jsxs(a,{variant:"outline",className:"w-full justify-start",onClick:Le,children:[s.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Marquer comme payée"]}),e[99]=Re,e[100]=Le,e[101]=H):H=e[101];let M;e[102]!==t.id||e[103]!==i?(M=i&&s.jsx(z,{href:`/avance-salaires/${t.id}/edit`,className:"w-full",children:s.jsxs(a,{variant:"outline",className:"w-full justify-start",children:[s.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Modifier"]})}),e[102]=t.id,e[103]=i,e[104]=M):M=e[104];let je;e[105]===Symbol.for("react.memo_cache_sentinel")?(je=s.jsxs(a,{variant:"outline",className:"w-full justify-start",children:[s.jsx(is,{className:"h-4 w-4 mr-2"}),"Imprimer"]}),e[105]=je):je=e[105];let ve;e[106]===Symbol.for("react.memo_cache_sentinel")?(ve=s.jsxs(a,{variant:"outline",className:"w-full justify-start",children:[s.jsx(ns,{className:"h-4 w-4 mr-2"}),"Télécharger PDF"]}),e[106]=ve):ve=e[106];let q;e[107]!==F||e[108]!==H||e[109]!==M?(q=s.jsxs("div",{className:"space-y-2",children:[F,H,M,je,ve]}),e[107]=F,e[108]=H,e[109]=M,e[110]=q):q=e[110];let _e;e[111]===Symbol.for("react.memo_cache_sentinel")?(_e=s.jsx(Ae,{}),e[111]=_e):_e=e[111];let Ne;e[112]===Symbol.for("react.memo_cache_sentinel")?(Ne=s.jsx(z,{href:"/avance-salaires",className:"w-full",children:s.jsxs(a,{variant:"outline",className:"w-full justify-start",children:[s.jsx(ze,{className:"h-4 w-4 mr-2"}),"Retour à la liste"]})}),e[112]=Ne):Ne=e[112];let ye;e[113]===Symbol.for("react.memo_cache_sentinel")?(ye=s.jsxs("div",{className:"space-y-2",children:[Ne,s.jsx(z,{href:"/avance-salaires/create",className:"w-full",children:s.jsxs(a,{variant:"outline",className:"w-full justify-start",children:[s.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Nouvelle avance"]})})]}),e[113]=ye):ye=e[113];let I;e[114]!==q?(I=s.jsxs(Q,{children:[he,s.jsxs(Y,{className:"space-y-3",children:[q,_e,ye]})]}),e[114]=q,e[115]=I):I=e[115];let be;e[116]===Symbol.for("react.memo_cache_sentinel")?(be=s.jsx(X,{children:s.jsx(K,{children:"Statut"})}),e[116]=be):be=e[116];let ge;e[117]===Symbol.for("react.memo_cache_sentinel")?(ge=s.jsx("span",{className:"text-sm text-muted-foreground",children:"Statut actuel:"}),e[117]=ge):ge=e[117];let U;e[118]!==r?(U=s.jsxs("div",{className:"flex items-center justify-between",children:[ge,r()]}),e[118]=r,e[119]=U):U=e[119];let we;e[120]===Symbol.for("react.memo_cache_sentinel")?(we=s.jsx(Ae,{}),e[120]=we):we=e[120];let Se;e[121]===Symbol.for("react.memo_cache_sentinel")?(Se=s.jsx("p",{className:"text-sm font-medium",children:"Workflow d'avance"}),e[121]=Se):Se=e[121];let Ce;e[122]===Symbol.for("react.memo_cache_sentinel")?(Ce=["demandee","approuvee","payee","deduite"],e[122]=Ce):Ce=e[122];let E;e[123]!==t.statut?(E=s.jsxs("div",{className:"space-y-2",children:[Se,s.jsx("div",{className:"space-y-1",children:Ce.map((l,J)=>{const Ee=t.statut===l,Te=["demandee","approuvee","payee","deduite"].indexOf(t.statut)>=J;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`h-4 w-4 rounded-full flex items-center justify-center ${Te?Ee?"bg-primary":"bg-green-500":"bg-gray-200"}`,children:Te&&s.jsx("div",{className:"h-2 w-2 rounded-full bg-white"})}),s.jsxs("span",{className:`text-sm ${Ee?"font-medium":"text-muted-foreground"}`,children:[l==="demandee"&&"Demandée",l==="approuvee"&&"Approuvée",l==="payee"&&"Payée",l==="deduite"&&"Déduite"]})]},l)})})]}),e[123]=t.statut,e[124]=E):E=e[124];let T;e[125]!==U||e[126]!==E?(T=s.jsxs(Q,{children:[be,s.jsxs(Y,{className:"space-y-3",children:[U,we,E]})]}),e[125]=U,e[126]=E,e[127]=T):T=e[127];let O;e[128]!==I||e[129]!==T?(O=s.jsxs("div",{className:"space-y-6",children:[I,T]}),e[128]=I,e[129]=T,e[130]=O):O=e[130];let V;e[131]!==L||e[132]!==O?(V=s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[L,O]}),e[131]=L,e[132]=O,e[133]=V):V=e[133];let W;e[134]!==d||e[135]!==V?(W=s.jsxs(Ye,{activeRoute:"/depenses",children:[d,V]}),e[134]=d,e[135]=V,e[136]=W):W=e[136];let De;return e[137]!==n||e[138]!==W?(De=s.jsxs(s.Fragment,{children:[n,W]}),e[137]=n,e[138]=W,e[139]=De):De=e[139],De}function cs(G){return new Date(G).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}function ms(G){return new Date(G).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}export{$s as default};
