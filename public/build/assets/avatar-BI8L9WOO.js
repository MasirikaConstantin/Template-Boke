import{r as u,j as d,c as S}from"./app-D-231Fnt.js";import{f as $,g as I,h as g,e as A}from"./index-C-s1mqx-.js";import{r as P}from"./index-Dd-cBZrg.js";function k(r,e=[]){let a=[];function n(t,c){const o=u.createContext(c);o.displayName=t+"Context";const i=a.length;a=[...a,c];const l=f=>{const{scope:m,children:x,...v}=f,j=m?.[r]?.[i]||o,R=u.useMemo(()=>v,Object.values(v));return d.jsx(j.Provider,{value:R,children:x})};l.displayName=t+"Provider";function p(f,m){const x=m?.[r]?.[i]||o,v=u.useContext(x);if(v)return v;if(c!==void 0)return c;throw new Error(`\`${f}\` must be used within \`${t}\``)}return[l,p]}const s=()=>{const t=a.map(c=>u.createContext(c));return function(o){const i=o?.[r]||t;return u.useMemo(()=>({[`__scope${r}`]:{...o,[r]:i}}),[o,i])}};return s.scopeName=r,[n,M(s,...e)]}function M(...r){const e=r[0];if(r.length===1)return e;const a=()=>{const n=r.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(t){const c=n.reduce((o,{useScope:i,scopeName:l})=>{const f=i(t)[`__scope${l}`];return{...o,...f}},{});return u.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return a.scopeName=e.scopeName,a}var F=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],h=F.reduce((r,e)=>{const a=$(`Primitive.${e}`),n=u.forwardRef((s,t)=>{const{asChild:c,...o}=s,i=c?a:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(i,{...o,ref:t})});return n.displayName=`Primitive.${e}`,{...r,[e]:n}},{}),z=P();function H(){return z.useSyncExternalStore(T,()=>!0,()=>!1)}function T(){return()=>{}}var C="Avatar",[q,Q]=k(C),[B,L]=q(C),E=u.forwardRef((r,e)=>{const{__scopeAvatar:a,...n}=r,[s,t]=u.useState("idle");return d.jsx(B,{scope:a,imageLoadingStatus:s,onImageLoadingStatusChange:t,children:d.jsx(h.span,{...n,ref:e})})});E.displayName=C;var b="AvatarImage",N=u.forwardRef((r,e)=>{const{__scopeAvatar:a,src:n,onLoadingStatusChange:s=()=>{},...t}=r,c=L(b,a),o=D(n,t),i=I(l=>{s(l),c.onImageLoadingStatusChange(l)});return g(()=>{o!=="idle"&&i(o)},[o,i]),o==="loaded"?d.jsx(h.img,{...t,ref:e,src:n}):null});N.displayName=b;var _="AvatarFallback",y=u.forwardRef((r,e)=>{const{__scopeAvatar:a,delayMs:n,...s}=r,t=L(_,a),[c,o]=u.useState(n===void 0);return u.useEffect(()=>{if(n!==void 0){const i=window.setTimeout(()=>o(!0),n);return()=>window.clearTimeout(i)}},[n]),c&&t.imageLoadingStatus!=="loaded"?d.jsx(h.span,{...s,ref:e}):null});y.displayName=_;function w(r,e){return r?e?(r.src!==e&&(r.src=e),r.complete&&r.naturalWidth>0?"loaded":"loading"):"error":"idle"}function D(r,{referrerPolicy:e,crossOrigin:a}){const n=H(),s=u.useRef(null),t=n?(s.current||(s.current=new window.Image),s.current):null,[c,o]=u.useState(()=>w(t,r));return g(()=>{o(w(t,r))},[t,r]),g(()=>{const i=f=>()=>{o(f)};if(!t)return;const l=i("loaded"),p=i("error");return t.addEventListener("load",l),t.addEventListener("error",p),e&&(t.referrerPolicy=e),typeof a=="string"&&(t.crossOrigin=a),()=>{t.removeEventListener("load",l),t.removeEventListener("error",p)}},[t,a,e]),c}var G=E,K=N,O=y;function U(r){const e=S.c(8);let a,n;e[0]!==r?({className:a,...n}=r,e[0]=r,e[1]=a,e[2]=n):(a=e[1],n=e[2]);let s;e[3]!==a?(s=A("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),e[3]=a,e[4]=s):s=e[4];let t;return e[5]!==n||e[6]!==s?(t=d.jsx(G,{"data-slot":"avatar",className:s,...n}),e[5]=n,e[6]=s,e[7]=t):t=e[7],t}function X(r){const e=S.c(8);let a,n;e[0]!==r?({className:a,...n}=r,e[0]=r,e[1]=a,e[2]=n):(a=e[1],n=e[2]);let s;e[3]!==a?(s=A("aspect-square size-full",a),e[3]=a,e[4]=s):s=e[4];let t;return e[5]!==n||e[6]!==s?(t=d.jsx(K,{"data-slot":"avatar-image",className:s,...n}),e[5]=n,e[6]=s,e[7]=t):t=e[7],t}function Y(r){const e=S.c(8);let a,n;e[0]!==r?({className:a,...n}=r,e[0]=r,e[1]=a,e[2]=n):(a=e[1],n=e[2]);let s;e[3]!==a?(s=A("bg-muted flex size-full items-center justify-center rounded-full",a),e[3]=a,e[4]=s):s=e[4];let t;return e[5]!==n||e[6]!==s?(t=d.jsx(O,{"data-slot":"avatar-fallback",className:s,...n}),e[5]=n,e[6]=s,e[7]=t):t=e[7],t}export{X as A,Y as a,U as b};
