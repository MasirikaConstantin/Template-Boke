import{c as Xe,j as t,L as O,H as Ge}from"./app-D-231Fnt.js";import{B as U}from"./index-C-s1mqx-.js";import{B as Pe}from"./badge-DgIKhVRa.js";import{b as G,c as K,C as Te,a as $e}from"./card-BjtGhsWn.js";import{h as qe,F as Ke,C as Qe,i as Ee,D as We}from"./DashboardLayout-D6ki3XIQ.js";import{C as He}from"./calendar-days-SeL6EA3e.js";import{T as Ye}from"./trending-up-BVl_lIrx.js";import{C as Ze}from"./circle-check-big-DwrXzvBC.js";import{C as et}from"./circle-x-CMaWMXds.js";import{A as Ve}from"./arrow-left-JsMND5gr.js";import{S as ze}from"./square-pen-BBZe8Pwi.js";import{H as tt}from"./hash-CLzVGDrO.js";import{C as st}from"./clock-D-wadlNI.js";/* empty css            */import"./user-DOQl8h22.js";function vt(X){const e=Xe.c(139),{tranche:s}=X,Ie=it,ke=at;let Q;e[0]!==s.date_limite?(Q=(()=>{const Oe=new Date,Ue=new Date(s.date_limite).getTime()-Oe.getTime(),J=Math.ceil(Ue/864e5);return J<0?{label:"Échue",variant:"destructive",description:"La date limite est dépassée"}:J<=7?{label:"Bientôt",variant:"warning",description:`Échéance dans ${J} jour(s)`}:J<=30?{label:"Proche",variant:"default",description:`Échéance dans ${J} jour(s)`}:{label:"Loin",variant:"secondary",description:`Échéance dans ${J} jour(s)`}})(),e[0]=s.date_limite,e[1]=Q):Q=e[1];const a=Q,Fe=`Détails: ${s.nom_tranche}`;let i;e[2]!==Fe?(i=t.jsx(Ge,{title:Fe}),e[2]=Fe,e[3]=i):i=e[3];let l;e[4]!==s.nom_tranche?(l=t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s.nom_tranche}),e[4]=s.nom_tranche,e[5]=l):l=e[5];const Je=s.ordre;let r;e[6]!==s.montant?(r=ke(s.montant),e[6]=s.montant,e[7]=r):r=e[7];let n;e[8]!==r||e[9]!==s.ordre?(n=t.jsxs("p",{className:"text-muted-foreground",children:["Tranche #",Je," - ",r]}),e[8]=r,e[9]=s.ordre,e[10]=n):n=e[10];let c;e[11]!==l||e[12]!==n?(c=t.jsxs("div",{children:[l,n]}),e[11]=l,e[12]=n,e[13]=c):c=e[13];let W;e[14]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(O,{href:"/tranches",children:t.jsxs(U,{variant:"outline",children:[t.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Retour"]})}),e[14]=W):W=e[14];const Me=`/tranches/${s.id}/edit`;let Y;e[15]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsxs(U,{children:[t.jsx(ze,{className:"h-4 w-4 mr-2"}),"Modifier"]}),e[15]=Y):Y=e[15];let m;e[16]!==Me?(m=t.jsxs("div",{className:"flex items-center gap-2",children:[W,t.jsx(O,{href:Me,children:Y})]}),e[16]=Me,e[17]=m):m=e[17];let o;e[18]!==m||e[19]!==c?(o=t.jsxs("div",{className:"flex items-center justify-between",children:[c,m]}),e[18]=m,e[19]=c,e[20]=o):o=e[20];let Z;e[21]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(Te,{children:t.jsxs($e,{className:"flex items-center gap-2",children:[t.jsx(Ke,{className:"h-5 w-5"}),"Informations de la tranche"]})}),e[21]=Z):Z=e[21];let ee;e[22]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Nom de la tranche"}),e[22]=ee):ee=e[22];let d;e[23]!==s.nom_tranche?(d=t.jsxs("div",{className:"space-y-2",children:[ee,t.jsx("div",{className:"text-lg font-semibold",children:s.nom_tranche})]}),e[23]=s.nom_tranche,e[24]=d):d=e[24];let te;e[25]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Montant"}),e[25]=te):te=e[25];let f;e[26]!==s.montant?(f=ke(s.montant),e[26]=s.montant,e[27]=f):f=e[27];let x;e[28]!==f?(x=t.jsxs("div",{className:"space-y-2",children:[te,t.jsx("div",{className:"text-2xl font-bold text-primary",children:f})]}),e[28]=f,e[29]=x):x=e[29];let se;e[30]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Date limite"}),e[30]=se):se=e[30];let ae;e[31]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx(Qe,{className:"h-5 w-5 text-muted-foreground"}),e[31]=ae):ae=e[31];let h;e[32]!==s.date_limite?(h=new Date(s.date_limite).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),e[32]=s.date_limite,e[33]=h):h=e[33];let u;e[34]!==h?(u=t.jsx("div",{className:"font-medium",children:h}),e[34]=h,e[35]=u):u=e[35];let j;e[36]!==a.label||e[37]!==a.variant?(j=t.jsx(Pe,{variant:a.variant,className:"mt-1",children:a.label}),e[36]=a.label,e[37]=a.variant,e[38]=j):j=e[38];let _;e[39]!==u||e[40]!==j?(_=t.jsxs("div",{className:"flex items-center gap-3",children:[ae,t.jsxs("div",{children:[u,j]})]}),e[39]=u,e[40]=j,e[41]=_):_=e[41];let g;e[42]!==a.description?(g=t.jsx("p",{className:"text-sm text-muted-foreground",children:a.description}),e[42]=a.description,e[43]=g):g=e[43];let N;e[44]!==_||e[45]!==g?(N=t.jsxs("div",{className:"space-y-2",children:[se,_,g]}),e[44]=_,e[45]=g,e[46]=N):N=e[46];let ie;e[47]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Ordre"}),e[47]=ie):ie=e[47];let p;e[48]!==s.ordre?(p=t.jsxs(Pe,{variant:"outline",className:"text-lg font-mono px-3 py-1",children:["#",s.ordre]}),e[48]=s.ordre,e[49]=p):p=e[49];let le;e[50]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx("p",{className:"text-sm text-muted-foreground",children:"Position dans le calendrier de paiement"}),e[50]=le):le=e[50];let y;e[51]!==p?(y=t.jsxs("div",{className:"space-y-2",children:[ie,p,le]}),e[51]=p,e[52]=y):y=e[52];let v;e[53]!==d||e[54]!==x||e[55]!==N||e[56]!==y?(v=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d,x,N,y]}),e[53]=d,e[54]=x,e[55]=N,e[56]=y,e[57]=v):v=e[57];let re;e[58]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx(Ee,{}),e[58]=re):re=e[58];let b;e[59]!==s.configuration_frais?(b=s.configuration_frais&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Configuration de frais associée"}),t.jsx(G,{className:"bg-muted/50",children:t.jsx(K,{className:"p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(qe,{className:"h-5 w-5 text-primary"}),t.jsx("h3",{className:"font-semibold",children:s.configuration_frais.nom_frais})]}),t.jsxs("div",{className:"text-sm space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(He,{className:"h-4 w-4"}),t.jsx("span",{children:s.configuration_frais.annee_scolaire})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ye,{className:"h-4 w-4"}),t.jsxs("span",{className:"font-medium",children:["Total: ",ke(s.configuration_frais.montant_total)]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[s.configuration_frais.est_actif?t.jsx(Ze,{className:"h-4 w-4 text-green-500"}):t.jsx(et,{className:"h-4 w-4 text-amber-500"}),t.jsx("span",{children:s.configuration_frais.est_actif?"Actif":"Inactif"})]})]})]}),t.jsx(O,{href:`/configuration-frais/${s.configuration_frais.id}`,children:t.jsx(U,{variant:"outline",size:"sm",children:"Voir"})})]})})})]}),e[59]=s.configuration_frais,e[60]=b):b=e[60];let ne;e[61]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx(Ee,{}),e[61]=ne):ne=e[61];let ce;e[62]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Référence unique"}),e[62]=ce):ce=e[62];let me;e[63]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(tt,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),e[63]=me):me=e[63];let w;e[64]!==s.ref?(w=t.jsxs("div",{className:"space-y-2",children:[ce,t.jsxs("div",{className:"flex items-center gap-2 font-mono text-sm bg-muted p-3 rounded",children:[me,t.jsx("span",{className:"break-all",children:s.ref})]})]}),e[64]=s.ref,e[65]=w):w=e[65];let S;e[66]!==v||e[67]!==b||e[68]!==w?(S=t.jsxs(G,{className:"lg:col-span-2",children:[Z,t.jsxs(K,{className:"space-y-6",children:[v,re,b,ne,w]})]}),e[66]=v,e[67]=b,e[68]=w,e[69]=S):S=e[69];let oe;e[70]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(Te,{children:t.jsxs($e,{className:"flex items-center gap-2",children:[t.jsx(st,{className:"h-5 w-5"}),"Métadonnées"]})}),e[70]=oe):oe=e[70];let de;e[71]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Créé le"}),e[71]=de):de=e[71];let fe;e[72]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(He,{className:"h-4 w-4 text-muted-foreground"}),e[72]=fe):fe=e[72];let C;e[73]!==s.created_at?(C=Ie(s.created_at),e[73]=s.created_at,e[74]=C):C=e[74];let D;e[75]!==C?(D=t.jsxs("div",{className:"space-y-2",children:[de,t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[fe,C]})]}),e[75]=C,e[76]=D):D=e[76];let xe;e[77]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Dernière modification"}),e[77]=xe):xe=e[77];let he;e[78]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx(He,{className:"h-4 w-4 text-muted-foreground"}),e[78]=he):he=e[78];let T;e[79]!==s.updated_at?(T=Ie(s.updated_at),e[79]=s.updated_at,e[80]=T):T=e[80];let $;e[81]!==T?($=t.jsxs("div",{className:"space-y-2",children:[xe,t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[he,T]})]}),e[81]=T,e[82]=$):$=e[82];let ue;e[83]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"ID"}),e[83]=ue):ue=e[83];let k;e[84]!==s.id?(k=t.jsxs("div",{className:"space-y-2",children:[ue,t.jsx("div",{className:"font-mono text-sm bg-muted p-2 rounded",children:s.id})]}),e[84]=s.id,e[85]=k):k=e[85];let F;e[86]!==D||e[87]!==$||e[88]!==k?(F=t.jsxs(G,{children:[oe,t.jsxs(K,{className:"space-y-4",children:[D,$,k]})]}),e[86]=D,e[87]=$,e[88]=k,e[89]=F):F=e[89];let je;e[90]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx(Te,{children:t.jsx($e,{className:"text-base",children:"Actions rapides"})}),e[90]=je):je=e[90];const Re=`/tranches/${s.id}/edit`;let _e;e[91]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsxs(U,{variant:"outline",className:"w-full justify-start",children:[t.jsx(ze,{className:"h-4 w-4 mr-2"}),"Modifier cette tranche"]}),e[91]=_e):_e=e[91];let M;e[92]!==Re?(M=t.jsx(O,{href:Re,className:"block",children:_e}),e[92]=Re,e[93]=M):M=e[93];let R;e[94]!==s.configuration_frais?(R=s.configuration_frais&&t.jsx(O,{href:`/configuration-frais/${s.configuration_frais.id}`,className:"block",children:t.jsxs(U,{variant:"outline",className:"w-full justify-start",children:[t.jsx(qe,{className:"h-4 w-4 mr-2"}),"Voir la configuration"]})}),e[94]=s.configuration_frais,e[95]=R):R=e[95];let ge;e[96]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx(O,{href:"/tranches",className:"block",children:t.jsxs(U,{variant:"outline",className:"w-full justify-start",children:[t.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Retour à la liste"]})}),e[96]=ge):ge=e[96];let L;e[97]!==M||e[98]!==R?(L=t.jsxs(G,{children:[je,t.jsxs(K,{className:"space-y-3",children:[M,R,ge]})]}),e[97]=M,e[98]=R,e[99]=L):L=e[99];let Ne;e[100]===Symbol.for("react.memo_cache_sentinel")?(Ne=t.jsx(Te,{children:t.jsx($e,{className:"text-base",children:"Statistiques"})}),e[100]=Ne):Ne=e[100];let pe;e[101]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsx("span",{className:"text-sm text-muted-foreground",children:"Pourcentage du total"}),e[101]=pe):pe=e[101];let B;e[102]!==s.configuration_frais||e[103]!==s.montant?(B=s.configuration_frais?`${(s.montant/s.configuration_frais.montant_total*100).toFixed(1)}%`:"N/A",e[102]=s.configuration_frais,e[103]=s.montant,e[104]=B):B=e[104];let A;e[105]!==B?(A=t.jsxs("div",{className:"flex items-center justify-between",children:[pe,t.jsx("span",{className:"font-semibold",children:B})]}),e[105]=B,e[106]=A):A=e[106];let ye;e[107]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsx("span",{className:"text-sm text-muted-foreground",children:"Jours restants"}),e[107]=ye):ye=e[107];let ve;e[108]!==s.date_limite?(ve=new Date(s.date_limite).getTime(),e[108]=s.date_limite,e[109]=ve):ve=e[109];let be;e[110]===Symbol.for("react.memo_cache_sentinel")?(be=new Date().getTime(),e[110]=be):be=e[110];const Le=Math.ceil((ve-be)/864e5);let H;e[111]!==Le?(H=t.jsxs("div",{className:"flex items-center justify-between",children:[ye,t.jsx("span",{className:"font-semibold",children:Le})]}),e[111]=Le,e[112]=H):H=e[112];let we;e[113]===Symbol.for("react.memo_cache_sentinel")?(we=t.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Échéance"}),e[113]=we):we=e[113];const Be=`h-2 rounded-full overflow-hidden ${a.variant==="destructive"?"bg-destructive":a.variant==="warning"?"bg-amber-500":"bg-primary"}`;let Se;e[114]!==s.date_limite?(Se=new Date(s.date_limite).getTime(),e[114]=s.date_limite,e[115]=Se):Se=e[115];let Ce;e[116]===Symbol.for("react.memo_cache_sentinel")?(Ce=new Date().getTime(),e[116]=Ce):Ce=e[116];const Ae=`${Math.min(100,Math.max(0,(Se-Ce)/2592e6*100))}%`;let I;e[117]!==Ae?(I={width:Ae},e[117]=Ae,e[118]=I):I=e[118];let P;e[119]!==Be||e[120]!==I?(P=t.jsxs("div",{className:"pt-3",children:[we,t.jsx("div",{className:Be,style:I})]}),e[119]=Be,e[120]=I,e[121]=P):P=e[121];let q;e[122]!==A||e[123]!==H||e[124]!==P?(q=t.jsxs(G,{children:[Ne,t.jsxs(K,{className:"space-y-3",children:[A,H,P]})]}),e[122]=A,e[123]=H,e[124]=P,e[125]=q):q=e[125];let E;e[126]!==F||e[127]!==L||e[128]!==q?(E=t.jsxs("div",{className:"space-y-6",children:[F,L,q]}),e[126]=F,e[127]=L,e[128]=q,e[129]=E):E=e[129];let V;e[130]!==S||e[131]!==E?(V=t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[S,E]}),e[130]=S,e[131]=E,e[132]=V):V=e[132];let z;e[133]!==o||e[134]!==V?(z=t.jsx(We,{activeRoute:"/tranches",children:t.jsxs("div",{className:"space-y-6",children:[o,V]})}),e[133]=o,e[134]=V,e[135]=z):z=e[135];let De;return e[136]!==i||e[137]!==z?(De=t.jsxs(t.Fragment,{children:[i,z]}),e[136]=i,e[137]=z,e[138]=De):De=e[138],De}function at(X){return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"CDF"}).format(X)}function it(X){return new Date(X).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}export{vt as default};
