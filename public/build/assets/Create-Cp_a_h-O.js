import{c as Ns,u as ys,r as cs,j as t,H as Ss,L as ps}from"./app-uwTh8kc8.js";import{B as ds}from"./createLucideIcon-DSBG54g9.js";import{I as p}from"./input-DaOSUk8-.js";import{L as c}from"./label-RJwncgua.js";import{T as Cs}from"./textarea-D0KQKO-r.js";import{S as Vt,b as Xt,a as $t,d,c as qt}from"./select-CmGp7lbF.js";import{A as js,a as _s}from"./alert-CtmFnCz8.js";import{b as os,C as ms,a as fs,c as us,d as Fs}from"./card-BU11wq9A.js";import{F as ws,g as Ds,D as Rs}from"./DashboardLayout-K8fs0Cfm.js";import{W as bs}from"./wallet-Bxbk9uZX.js";import{A as zs}from"./arrow-left-tIpnA9bm.js";import{F as As}from"./folder-BiqWVdBK.js";import{C as Es}from"./users-pKpEsxQA.js";import{U as Bs}from"./upload-CglKDYAd.js";import{S as Ls}from"./save-ByI6Z74q.js";/* empty css            */import"./index-CAUyR_uV.js";import"./index-B9MI8Zig.js";import"./check-_y--m_do.js";import"./user-B129w1wL.js";function ll(f){const e=Ns.c(288),{auth:o,budgets:u,categories:Ht,budget_courant:xs,reference:Ot,flash:m}=f,Wt=xs?.id||"";let Je;e[0]===Symbol.for("react.memo_cache_sentinel")?(Je=new Date().toISOString().split("T"),e[0]=Je):Je=e[0];let Ke;e[1]!==Ot||e[2]!==Wt?(Ke={budget_id:Wt,categorie_depense_id:"",reference:Ot,libelle:"",montant:0,mode_paiement:"espèce",beneficiaire:"",description:"",date_depense:Je[0],numero_piece:"",fichier_joint:null,statut:"brouillon"},e[1]=Ot,e[2]=Wt,e[3]=Ke):Ke=e[3];const{data:s,setData:i,errors:l,processing:Qe,post:Gt}=ys(Ke),[r,gs]=cs.useState(xs),[x,hs]=cs.useState(null);let Ye,Ze;e[4]!==u||e[5]!==s.budget_id?(Ye=()=>{if(s.budget_id){const a=u.find(n=>n.id===parseInt(s.budget_id));gs(a||null)}},Ze=[s.budget_id,u],e[4]=u,e[5]=s.budget_id,e[6]=Ye,e[7]=Ze):(Ye=e[6],Ze=e[7]),cs.useEffect(Ye,Ze);let et;e[8]!==i?(et=a=>{const n=a.target.files?.[0];if(n)if(i("fichier_joint",n),n.type.startsWith("image/")){const h=new FileReader;h.onload=vs=>{hs(vs.target?.result)},h.readAsDataURL(n)}else hs(null)},e[8]=i,e[9]=et):et=e[9];const kt=et;let tt;e[10]!==s||e[11]!==Gt?(tt=a=>{a.preventDefault();const n=new FormData;Object.keys(s).forEach(h=>{s[h]!==null&&s[h]!==void 0&&n.append(h,s[h])}),Gt("/depenses",{data:n,forceFormData:!0})},e[10]=s,e[11]=Gt,e[12]=tt):tt=e[12];const Jt=tt,ke=Ps;let st;e[13]===Symbol.for("react.memo_cache_sentinel")?(st=t.jsx(Ss,{title:"Nouvelle dépense"}),e[13]=st):st=e[13];let lt;e[14]===Symbol.for("react.memo_cache_sentinel")?(lt=t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Nouvelle dépense"}),t.jsx("p",{className:"text-muted-foreground",children:"Créez une nouvelle dépense"})]}),e[14]=lt):lt=e[14];let it;e[15]===Symbol.for("react.memo_cache_sentinel")?(it=t.jsxs("div",{className:"flex items-center justify-between",children:[lt,t.jsx(ps,{href:"/depenses",children:t.jsxs(ds,{variant:"outline",children:[t.jsx(zs,{className:"h-4 w-4 mr-2"}),"Retour à la liste"]})})]}),e[15]=it):it=e[15];let j;e[16]!==m?(j=m?.success&&t.jsx(js,{className:"bg-green-50 border-green-200",children:t.jsx(_s,{children:m.success})}),e[16]=m,e[17]=j):j=e[17];let _;e[18]!==m?(_=m?.error&&t.jsx(js,{variant:"destructive",children:t.jsx(_s,{children:m.error})}),e[18]=m,e[19]=_):_=e[19];let at;e[20]===Symbol.for("react.memo_cache_sentinel")?(at=t.jsxs(ms,{children:[t.jsxs(fs,{className:"flex items-center gap-2",children:[t.jsx(Ds,{className:"h-5 w-5"}),"Informations de la dépense"]}),t.jsx(Fs,{children:"Remplissez les détails de cette dépense"})]}),e[20]=at):at=e[20];let nt;e[21]===Symbol.for("react.memo_cache_sentinel")?(nt=t.jsx(c,{htmlFor:"budget_id",children:"Budget *"}),e[21]=nt):nt=e[21];let b;e[22]!==s.budget_id?(b=s.budget_id.toString(),e[22]=s.budget_id,e[23]=b):b=e[23];let g;e[24]!==i?(g=a=>i("budget_id",parseInt(a)),e[24]=i,e[25]=g):g=e[25];const Kt=l.budget_id?"border-destructive":"";let rt,ct;e[26]===Symbol.for("react.memo_cache_sentinel")?(rt=t.jsx(bs,{className:"h-4 w-4 mr-2"}),ct=t.jsx(Xt,{placeholder:"Sélectionnez un budget"}),e[26]=rt,e[27]=ct):(rt=e[26],ct=e[27]);let v;e[28]!==Kt?(v=t.jsxs($t,{className:Kt,children:[rt,ct]}),e[28]=Kt,e[29]=v):v=e[29];let N;if(e[30]!==u){let a;e[32]===Symbol.for("react.memo_cache_sentinel")?(a=n=>t.jsxs(d,{value:n.id.toString(),children:[n.annee," - ",n.mois," - Restant: ",ke(n.montant_restant)]},n.id),e[32]=a):a=e[32],N=u.map(a),e[30]=u,e[31]=N}else N=e[31];let y;e[33]!==N?(y=t.jsx(qt,{children:N}),e[33]=N,e[34]=y):y=e[34];let S;e[35]!==b||e[36]!==g||e[37]!==v||e[38]!==y?(S=t.jsxs(Vt,{value:b,onValueChange:g,children:[v,y]}),e[35]=b,e[36]=g,e[37]=v,e[38]=y,e[39]=S):S=e[39];let C;e[40]!==l.budget_id?(C=l.budget_id&&t.jsx("p",{className:"text-sm text-destructive",children:l.budget_id}),e[40]=l.budget_id,e[41]=C):C=e[41];let F;e[42]!==S||e[43]!==C?(F=t.jsxs("div",{className:"space-y-2",children:[nt,S,C]}),e[42]=S,e[43]=C,e[44]=F):F=e[44];let dt;e[45]===Symbol.for("react.memo_cache_sentinel")?(dt=t.jsx(c,{htmlFor:"categorie_depense_id",children:"Catégorie *"}),e[45]=dt):dt=e[45];let w;e[46]!==s.categorie_depense_id?(w=s.categorie_depense_id.toString(),e[46]=s.categorie_depense_id,e[47]=w):w=e[47];let D;e[48]!==i?(D=a=>i("categorie_depense_id",parseInt(a)),e[48]=i,e[49]=D):D=e[49];const Qt=l.categorie_depense_id?"border-destructive":"";let ot,mt;e[50]===Symbol.for("react.memo_cache_sentinel")?(ot=t.jsx(As,{className:"h-4 w-4 mr-2"}),mt=t.jsx(Xt,{placeholder:"Sélectionnez une catégorie"}),e[50]=ot,e[51]=mt):(ot=e[50],mt=e[51]);let R;e[52]!==Qt?(R=t.jsxs($t,{className:Qt,children:[ot,mt]}),e[52]=Qt,e[53]=R):R=e[53];let z;e[54]!==Ht?(z=Ht.map(Is),e[54]=Ht,e[55]=z):z=e[55];let A;e[56]!==z?(A=t.jsx(qt,{children:z}),e[56]=z,e[57]=A):A=e[57];let E;e[58]!==w||e[59]!==D||e[60]!==R||e[61]!==A?(E=t.jsxs(Vt,{value:w,onValueChange:D,children:[R,A]}),e[58]=w,e[59]=D,e[60]=R,e[61]=A,e[62]=E):E=e[62];let B;e[63]!==l.categorie_depense_id?(B=l.categorie_depense_id&&t.jsx("p",{className:"text-sm text-destructive",children:l.categorie_depense_id}),e[63]=l.categorie_depense_id,e[64]=B):B=e[64];let L;e[65]!==E||e[66]!==B?(L=t.jsxs("div",{className:"space-y-2",children:[dt,E,B]}),e[65]=E,e[66]=B,e[67]=L):L=e[67];let ft;e[68]===Symbol.for("react.memo_cache_sentinel")?(ft=t.jsx(c,{htmlFor:"reference",children:"Référence *"}),e[68]=ft):ft=e[68];let I;e[69]!==i?(I=a=>i("reference",a.target.value),e[69]=i,e[70]=I):I=e[70];const Yt=l.reference?"border-destructive":"";let P;e[71]!==s.reference||e[72]!==I||e[73]!==Yt?(P=t.jsx(p,{id:"reference",value:s.reference,onChange:I,placeholder:"DEP-XXXXXX",className:Yt,readOnly:!0}),e[71]=s.reference,e[72]=I,e[73]=Yt,e[74]=P):P=e[74];let M;e[75]!==l.reference?(M=l.reference&&t.jsx("p",{className:"text-sm text-destructive",children:l.reference}),e[75]=l.reference,e[76]=M):M=e[76];let T;e[77]!==P||e[78]!==M?(T=t.jsxs("div",{className:"space-y-2",children:[ft,P,M]}),e[77]=P,e[78]=M,e[79]=T):T=e[79];let ut;e[80]===Symbol.for("react.memo_cache_sentinel")?(ut=t.jsx(c,{htmlFor:"date_depense",children:"Date de dépense *"}),e[80]=ut):ut=e[80];let xt;e[81]===Symbol.for("react.memo_cache_sentinel")?(xt=t.jsx(Es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e[81]=xt):xt=e[81];let U;e[82]!==i?(U=a=>i("date_depense",a.target.value),e[82]=i,e[83]=U):U=e[83];const Zt=`pl-10 ${l.date_depense?"border-destructive":""}`;let V;e[84]!==s.date_depense||e[85]!==U||e[86]!==Zt?(V=t.jsxs("div",{className:"relative",children:[xt,t.jsx(p,{id:"date_depense",type:"date",value:s.date_depense,onChange:U,className:Zt})]}),e[84]=s.date_depense,e[85]=U,e[86]=Zt,e[87]=V):V=e[87];let X;e[88]!==l.date_depense?(X=l.date_depense&&t.jsx("p",{className:"text-sm text-destructive",children:l.date_depense}),e[88]=l.date_depense,e[89]=X):X=e[89];let $;e[90]!==V||e[91]!==X?($=t.jsxs("div",{className:"space-y-2",children:[ut,V,X]}),e[90]=V,e[91]=X,e[92]=$):$=e[92];let ht;e[93]===Symbol.for("react.memo_cache_sentinel")?(ht=t.jsx(c,{htmlFor:"libelle",children:"Libellé *"}),e[93]=ht):ht=e[93];let q;e[94]!==i?(q=a=>i("libelle",a.target.value),e[94]=i,e[95]=q):q=e[95];const es=l.libelle?"border-destructive":"";let H;e[96]!==s.libelle||e[97]!==q||e[98]!==es?(H=t.jsx(p,{id:"libelle",value:s.libelle,onChange:q,placeholder:"Ex: Achat de matériel informatique",className:es}),e[96]=s.libelle,e[97]=q,e[98]=es,e[99]=H):H=e[99];let O;e[100]!==l.libelle?(O=l.libelle&&t.jsx("p",{className:"text-sm text-destructive",children:l.libelle}),e[100]=l.libelle,e[101]=O):O=e[101];let W;e[102]!==H||e[103]!==O?(W=t.jsxs("div",{className:"space-y-2",children:[ht,H,O]}),e[102]=H,e[103]=O,e[104]=W):W=e[104];let pt;e[105]===Symbol.for("react.memo_cache_sentinel")?(pt=t.jsx(c,{htmlFor:"montant",children:"Montant ($) *"}),e[105]=pt):pt=e[105];let G;e[106]!==i?(G=a=>i("montant",parseFloat(a.target.value)||0),e[106]=i,e[107]=G):G=e[107];const ts=l.montant?"border-destructive":"";let k;e[108]!==s.montant||e[109]!==G||e[110]!==ts?(k=t.jsx(p,{id:"montant",type:"number",min:"0",step:"0.01",value:s.montant,onChange:G,placeholder:"0.00",className:ts}),e[108]=s.montant,e[109]=G,e[110]=ts,e[111]=k):k=e[111];let J;e[112]!==l.montant?(J=l.montant&&t.jsx("p",{className:"text-sm text-destructive",children:l.montant}),e[112]=l.montant,e[113]=J):J=e[113];let K;e[114]!==k||e[115]!==J?(K=t.jsxs("div",{className:"space-y-2",children:[pt,k,J]}),e[114]=k,e[115]=J,e[116]=K):K=e[116];let jt;e[117]===Symbol.for("react.memo_cache_sentinel")?(jt=t.jsx(c,{htmlFor:"mode_paiement",children:"Mode de paiement *"}),e[117]=jt):jt=e[117];let Q;e[118]!==i?(Q=a=>i("mode_paiement",a),e[118]=i,e[119]=Q):Q=e[119];const ss=l.mode_paiement?"border-destructive":"";let _t;e[120]===Symbol.for("react.memo_cache_sentinel")?(_t=t.jsx(Xt,{placeholder:"Sélectionnez un mode"}),e[120]=_t):_t=e[120];let Y;e[121]!==ss?(Y=t.jsx($t,{className:ss,children:_t}),e[121]=ss,e[122]=Y):Y=e[122];let bt;e[123]===Symbol.for("react.memo_cache_sentinel")?(bt=t.jsxs(qt,{children:[t.jsx(d,{value:"espèce",children:"Espèce"}),t.jsx(d,{value:"chèque",children:"Chèque"}),t.jsx(d,{value:"virement",children:"Virement"}),t.jsx(d,{value:"carte",children:"Carte"})]}),e[123]=bt):bt=e[123];let Z;e[124]!==s.mode_paiement||e[125]!==Q||e[126]!==Y?(Z=t.jsxs(Vt,{value:s.mode_paiement,onValueChange:Q,children:[Y,bt]}),e[124]=s.mode_paiement,e[125]=Q,e[126]=Y,e[127]=Z):Z=e[127];let ee;e[128]!==l.mode_paiement?(ee=l.mode_paiement&&t.jsx("p",{className:"text-sm text-destructive",children:l.mode_paiement}),e[128]=l.mode_paiement,e[129]=ee):ee=e[129];let te;e[130]!==Z||e[131]!==ee?(te=t.jsxs("div",{className:"space-y-2",children:[jt,Z,ee]}),e[130]=Z,e[131]=ee,e[132]=te):te=e[132];let gt;e[133]===Symbol.for("react.memo_cache_sentinel")?(gt=t.jsx(c,{htmlFor:"beneficiaire",children:"Bénéficiaire *"}),e[133]=gt):gt=e[133];let se;e[134]!==i?(se=a=>i("beneficiaire",a.target.value),e[134]=i,e[135]=se):se=e[135];const ls=l.beneficiaire?"border-destructive":"";let le;e[136]!==s.beneficiaire||e[137]!==se||e[138]!==ls?(le=t.jsx(p,{id:"beneficiaire",value:s.beneficiaire,onChange:se,placeholder:"Nom du bénéficiaire",className:ls}),e[136]=s.beneficiaire,e[137]=se,e[138]=ls,e[139]=le):le=e[139];let ie;e[140]!==l.beneficiaire?(ie=l.beneficiaire&&t.jsx("p",{className:"text-sm text-destructive",children:l.beneficiaire}),e[140]=l.beneficiaire,e[141]=ie):ie=e[141];let ae;e[142]!==le||e[143]!==ie?(ae=t.jsxs("div",{className:"space-y-2",children:[gt,le,ie]}),e[142]=le,e[143]=ie,e[144]=ae):ae=e[144];let vt;e[145]===Symbol.for("react.memo_cache_sentinel")?(vt=t.jsx(c,{htmlFor:"numero_piece",children:"Numéro de pièce (optionnel)"}),e[145]=vt):vt=e[145];let ne;e[146]!==i?(ne=a=>i("numero_piece",a.target.value),e[146]=i,e[147]=ne):ne=e[147];const is=l.numero_piece?"border-destructive":"";let re;e[148]!==s.numero_piece||e[149]!==ne||e[150]!==is?(re=t.jsx(p,{id:"numero_piece",value:s.numero_piece,onChange:ne,placeholder:"N° de facture, reçu, etc.",className:is}),e[148]=s.numero_piece,e[149]=ne,e[150]=is,e[151]=re):re=e[151];let ce;e[152]!==l.numero_piece?(ce=l.numero_piece&&t.jsx("p",{className:"text-sm text-destructive",children:l.numero_piece}),e[152]=l.numero_piece,e[153]=ce):ce=e[153];let de;e[154]!==re||e[155]!==ce?(de=t.jsxs("div",{className:"space-y-2",children:[vt,re,ce]}),e[154]=re,e[155]=ce,e[156]=de):de=e[156];let Nt;e[157]===Symbol.for("react.memo_cache_sentinel")?(Nt=t.jsx(c,{htmlFor:"statut",children:"Statut *"}),e[157]=Nt):Nt=e[157];let oe;e[158]!==i?(oe=a=>i("statut",a),e[158]=i,e[159]=oe):oe=e[159];const as=l.statut?"border-destructive":"";let yt;e[160]===Symbol.for("react.memo_cache_sentinel")?(yt=t.jsx(Xt,{placeholder:"Sélectionnez un statut"}),e[160]=yt):yt=e[160];let me;e[161]!==as?(me=t.jsx($t,{className:as,children:yt}),e[161]=as,e[162]=me):me=e[162];let St;e[163]===Symbol.for("react.memo_cache_sentinel")?(St=t.jsxs(qt,{children:[t.jsx(d,{value:"brouillon",children:"Brouillon"}),t.jsx(d,{value:"en_attente",children:"En attente"}),t.jsx(d,{value:"approuve",children:"Approuvé"}),t.jsx(d,{value:"paye",children:"Payé"})]}),e[163]=St):St=e[163];let fe;e[164]!==s.statut||e[165]!==oe||e[166]!==me?(fe=t.jsxs(Vt,{value:s.statut,onValueChange:oe,children:[me,St]}),e[164]=s.statut,e[165]=oe,e[166]=me,e[167]=fe):fe=e[167];let ue;e[168]!==l.statut?(ue=l.statut&&t.jsx("p",{className:"text-sm text-destructive",children:l.statut}),e[168]=l.statut,e[169]=ue):ue=e[169];let xe;e[170]!==fe||e[171]!==ue?(xe=t.jsxs("div",{className:"space-y-2",children:[Nt,fe,ue]}),e[170]=fe,e[171]=ue,e[172]=xe):xe=e[172];let Ct;e[173]===Symbol.for("react.memo_cache_sentinel")?(Ct=t.jsx(c,{htmlFor:"description",children:"Description (optionnelle)"}),e[173]=Ct):Ct=e[173];let he;e[174]!==i?(he=a=>i("description",a.target.value),e[174]=i,e[175]=he):he=e[175];const ns=l.description?"border-destructive":"";let pe;e[176]!==s.description||e[177]!==he||e[178]!==ns?(pe=t.jsx(Cs,{id:"description",value:s.description,onChange:he,placeholder:"Description détaillée de la dépense...",rows:3,className:ns}),e[176]=s.description,e[177]=he,e[178]=ns,e[179]=pe):pe=e[179];let je;e[180]!==l.description?(je=l.description&&t.jsx("p",{className:"text-sm text-destructive",children:l.description}),e[180]=l.description,e[181]=je):je=e[181];let _e;e[182]!==pe||e[183]!==je?(_e=t.jsxs("div",{className:"space-y-2 md:col-span-2",children:[Ct,pe,je]}),e[182]=pe,e[183]=je,e[184]=_e):_e=e[184];let Ft;e[185]===Symbol.for("react.memo_cache_sentinel")?(Ft=t.jsx(c,{htmlFor:"fichier_joint",children:"Fichier joint (optionnel)"}),e[185]=Ft):Ft=e[185];let wt;e[186]===Symbol.for("react.memo_cache_sentinel")?(wt=t.jsx(Bs,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),e[186]=wt):wt=e[186];let Dt;e[187]===Symbol.for("react.memo_cache_sentinel")?(Dt=t.jsx("span",{className:"text-sm text-muted-foreground",children:"Cliquez pour télécharger ou glissez-déposez"}),e[187]=Dt):Dt=e[187];let be;e[188]!==kt?(be=t.jsxs(c,{htmlFor:"fichier-upload",className:"cursor-pointer",children:[Dt,t.jsx(p,{id:"fichier-upload",type:"file",accept:".jpg,.jpeg,.png,.pdf",onChange:kt,className:"hidden"})]}),e[188]=kt,e[189]=be):be=e[189];let Rt;e[190]===Symbol.for("react.memo_cache_sentinel")?(Rt=t.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"JPG, PNG ou PDF (max 2MB)"}),e[190]=Rt):Rt=e[190];let ge;e[191]!==be?(ge=t.jsxs("div",{className:"text-center",children:[wt,be,Rt]}),e[191]=be,e[192]=ge):ge=e[192];let ve;e[193]!==x?(ve=x&&t.jsx("div",{className:"mt-4",children:t.jsx("img",{src:x,alt:"Preview",className:"max-h-32 mx-auto rounded"})}),e[193]=x,e[194]=ve):ve=e[194];let Ne;e[195]!==s.fichier_joint||e[196]!==x?(Ne=s.fichier_joint&&!x&&t.jsxs("div",{className:"mt-4 text-center",children:[t.jsx(ws,{className:"h-8 w-8 mx-auto text-muted-foreground"}),t.jsx("p",{className:"text-sm mt-2",children:s.fichier_joint.name||"Fichier sélectionné"})]}),e[195]=s.fichier_joint,e[196]=x,e[197]=Ne):Ne=e[197];let ye;e[198]!==ge||e[199]!==ve||e[200]!==Ne?(ye=t.jsxs("div",{className:"border-2 border-dashed rounded-lg p-4",children:[ge,ve,Ne]}),e[198]=ge,e[199]=ve,e[200]=Ne,e[201]=ye):ye=e[201];let Se;e[202]!==l.fichier_joint?(Se=l.fichier_joint&&t.jsx("p",{className:"text-sm text-destructive",children:l.fichier_joint}),e[202]=l.fichier_joint,e[203]=Se):Se=e[203];let Ce;e[204]!==ye||e[205]!==Se?(Ce=t.jsxs("div",{className:"space-y-2 md:col-span-2",children:[Ft,ye,Se]}),e[204]=ye,e[205]=Se,e[206]=Ce):Ce=e[206];let Fe;e[207]!==Ce||e[208]!==F||e[209]!==L||e[210]!==T||e[211]!==$||e[212]!==W||e[213]!==K||e[214]!==te||e[215]!==ae||e[216]!==de||e[217]!==xe||e[218]!==_e?(Fe=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[F,L,T,$,W,K,te,ae,de,xe,_e,Ce]}),e[207]=Ce,e[208]=F,e[209]=L,e[210]=T,e[211]=$,e[212]=W,e[213]=K,e[214]=te,e[215]=ae,e[216]=de,e[217]=xe,e[218]=_e,e[219]=Fe):Fe=e[219];let zt;e[220]===Symbol.for("react.memo_cache_sentinel")?(zt=t.jsx(ps,{href:"/depenses",children:t.jsx(ds,{type:"button",variant:"outline",children:"Annuler"})}),e[220]=zt):zt=e[220];let At;e[221]===Symbol.for("react.memo_cache_sentinel")?(At=t.jsx(Ls,{className:"h-4 w-4 mr-2"}),e[221]=At):At=e[221];const rs=Qe?"Enregistrement...":"Créer la dépense";let we;e[222]!==Qe||e[223]!==rs?(we=t.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[zt,t.jsxs(ds,{type:"submit",disabled:Qe,children:[At,rs]})]}),e[222]=Qe,e[223]=rs,e[224]=we):we=e[224];let De;e[225]!==Jt||e[226]!==Fe||e[227]!==we?(De=t.jsxs(os,{className:"lg:col-span-2",children:[at,t.jsx(us,{children:t.jsxs("form",{onSubmit:Jt,className:"space-y-6",children:[Fe,we]})})]}),e[225]=Jt,e[226]=Fe,e[227]=we,e[228]=De):De=e[228];let Et;e[229]===Symbol.for("react.memo_cache_sentinel")?(Et=t.jsx(ms,{children:t.jsx(fs,{className:"text-base",children:"Récapitulatif"})}),e[229]=Et):Et=e[229];let Bt;e[230]===Symbol.for("react.memo_cache_sentinel")?(Bt=t.jsx("span",{className:"text-sm text-muted-foreground",children:"Référence:"}),e[230]=Bt):Bt=e[230];let Re;e[231]!==s.reference?(Re=t.jsxs("div",{className:"flex justify-between items-center",children:[Bt,t.jsx("span",{className:"font-mono font-medium",children:s.reference})]}),e[231]=s.reference,e[232]=Re):Re=e[232];let Lt;e[233]===Symbol.for("react.memo_cache_sentinel")?(Lt=t.jsx("span",{className:"text-sm text-muted-foreground",children:"Date:"}),e[233]=Lt):Lt=e[233];let ze;e[234]!==s.date_depense?(ze=new Date(s.date_depense).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),e[234]=s.date_depense,e[235]=ze):ze=e[235];let Ae;e[236]!==ze?(Ae=t.jsxs("div",{className:"flex justify-between items-center",children:[Lt,t.jsx("span",{className:"font-medium",children:ze})]}),e[236]=ze,e[237]=Ae):Ae=e[237];let It;e[238]===Symbol.for("react.memo_cache_sentinel")?(It=t.jsx("span",{className:"text-sm text-muted-foreground",children:"Mode:"}),e[238]=It):It=e[238];let Ee;e[239]!==s.mode_paiement?(Ee=t.jsxs("div",{className:"flex justify-between items-center",children:[It,t.jsx("span",{className:"font-medium capitalize",children:s.mode_paiement})]}),e[239]=s.mode_paiement,e[240]=Ee):Ee=e[240];let Pt;e[241]===Symbol.for("react.memo_cache_sentinel")?(Pt=t.jsx("span",{className:"text-sm text-muted-foreground",children:"Montant:"}),e[241]=Pt):Pt=e[241];let Be;e[242]!==s.montant?(Be=ke(s.montant),e[242]=s.montant,e[243]=Be):Be=e[243];let Le;e[244]!==Be?(Le=t.jsxs("div",{className:"flex justify-between items-center",children:[Pt,t.jsx("span",{className:"text-xl font-bold text-primary",children:Be})]}),e[244]=Be,e[245]=Le):Le=e[245];let Mt;e[246]===Symbol.for("react.memo_cache_sentinel")?(Mt=t.jsx("span",{className:"text-sm text-muted-foreground",children:"Statut:"}),e[246]=Mt):Mt=e[246];let Ie;e[247]!==s.statut?(Ie=s.statut.replace("_"," "),e[247]=s.statut,e[248]=Ie):Ie=e[248];let Pe;e[249]!==Ie?(Pe=t.jsxs("div",{className:"flex justify-between items-center",children:[Mt,t.jsx("span",{className:"font-medium capitalize",children:Ie})]}),e[249]=Ie,e[250]=Pe):Pe=e[250];let Me;e[251]!==Re||e[252]!==Ae||e[253]!==Ee||e[254]!==Le||e[255]!==Pe?(Me=t.jsxs("div",{className:"space-y-3",children:[Re,Ae,Ee,Le,Pe]}),e[251]=Re,e[252]=Ae,e[253]=Ee,e[254]=Le,e[255]=Pe,e[256]=Me):Me=e[256];let Tt;e[257]===Symbol.for("react.memo_cache_sentinel")?(Tt=t.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Enregistré par:"}),e[257]=Tt):Tt=e[257];let Te;e[258]!==o.user.name?(Te=o.user.name.charAt(0).toUpperCase(),e[258]=o.user.name,e[259]=Te):Te=e[259];let Ue;e[260]!==Te?(Ue=t.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:t.jsx("span",{className:"text-sm font-bold",children:Te})}),e[260]=Te,e[261]=Ue):Ue=e[261];let Ve;e[262]!==o.user.name?(Ve=t.jsx("p",{className:"text-sm font-medium",children:o.user.name}),e[262]=o.user.name,e[263]=Ve):Ve=e[263];let Xe;e[264]!==o.user.email?(Xe=t.jsx("p",{className:"text-xs text-muted-foreground",children:o.user.email}),e[264]=o.user.email,e[265]=Xe):Xe=e[265];let $e;e[266]!==Ve||e[267]!==Xe?($e=t.jsxs("div",{children:[Ve,Xe]}),e[266]=Ve,e[267]=Xe,e[268]=$e):$e=e[268];let qe;e[269]!==Ue||e[270]!==$e?(qe=t.jsxs("div",{className:"pt-4 border-t",children:[Tt,t.jsxs("div",{className:"flex items-center gap-2",children:[Ue,$e]})]}),e[269]=Ue,e[270]=$e,e[271]=qe):qe=e[271];let He;e[272]!==Me||e[273]!==qe?(He=t.jsxs(os,{children:[Et,t.jsxs(us,{className:"space-y-4",children:[Me,qe]})]}),e[272]=Me,e[273]=qe,e[274]=He):He=e[274];let Oe;e[275]!==s.montant||e[276]!==r?(Oe=r&&t.jsxs(os,{children:[t.jsx(ms,{children:t.jsxs(fs,{className:"text-base flex items-center gap-2",children:[t.jsx(bs,{className:"h-4 w-4"}),"Budget sélectionné"]})}),t.jsxs(us,{className:"space-y-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"font-medium",children:r.nom_complet}),t.jsxs("div",{className:"text-sm space-y-1",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Alloué:"}),t.jsx("span",{className:"font-medium",children:ke(r.montant_alloue)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Dépensé:"}),t.jsx("span",{children:ke(r.montant_depense)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Restant:"}),t.jsx("span",{className:`font-semibold ${r.montant_restant<s.montant?"text-destructive":r.montant_restant<r.montant_alloue*.2?"text-amber-600":"text-green-600"}`,children:ke(r.montant_restant)})]})]})]}),r.montant_restant<s.montant&&t.jsx("div",{className:"p-3 bg-destructive/10 text-destructive text-sm rounded-lg",children:"⚠️ Le montant dépasse le budget restant"}),r.montant_restant<r.montant_alloue*.2&&t.jsx("div",{className:"p-3 bg-amber-50 text-amber-800 text-sm rounded-lg",children:"⚠️ Budget presque épuisé"})]})]}),e[275]=s.montant,e[276]=r,e[277]=Oe):Oe=e[277];let We;e[278]!==He||e[279]!==Oe?(We=t.jsxs("div",{className:"space-y-6",children:[He,Oe]}),e[278]=He,e[279]=Oe,e[280]=We):We=e[280];let Ge;e[281]!==De||e[282]!==We?(Ge=t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[De,We]}),e[281]=De,e[282]=We,e[283]=Ge):Ge=e[283];let Ut;return e[284]!==j||e[285]!==_||e[286]!==Ge?(Ut=t.jsxs(t.Fragment,{children:[st,t.jsx(Rs,{activeRoute:"/budgets",children:t.jsxs("div",{className:"space-y-6",children:[it,j,_,Ge]})})]}),e[284]=j,e[285]=_,e[286]=Ge,e[287]=Ut):Ut=e[287],Ut}function Is(f){return t.jsx(d,{value:f.id.toString(),children:f.nom_categorie},f.id)}function Ps(f){return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"USD"}).format(f).replace("$US","$")}export{ll as default};
