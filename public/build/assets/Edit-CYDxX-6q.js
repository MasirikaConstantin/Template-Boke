import{c as yt,u as St,r as ct,j as s,H as Ct,L as ks}from"./app-DGSNNkrG.js";import{B as N}from"./createLucideIcon-Uuj4pdsM.js";import{I as rt}from"./input-XYJxKMah.js";import{L as g}from"./label-CW5PwnjD.js";import{T as wt}from"./textarea-EN-r55lJ.js";import{S as xt,a as pt,b as ft,c as ht,d as dt}from"./select-BpwhUyeJ.js";import{b as Qe,c as Xe,C as zs,a as Hs,d as Tt}from"./card-B5T1-of4.js";import{A as ts,a as as}from"./alert-CXKem-lg.js";import{T as At,a as nt,b as mt,c as Lt}from"./tabs-TFOTmLKD.js";import{B as ot}from"./badge-I5fyqHqU.js";import{D as $t}from"./DashboardLayout-DOd2BJeH.js";import{P as Ft}from"./PageHeader-zCSS31-G.js";import{T as vt}from"./triangle-alert-Cbmv3ohG.js";import{C as Dt}from"./circle-alert-XFBiOR0F.js";import{E as Et}from"./eye-DriWlc66.js";import{A as Mt}from"./arrow-left-DVBRpkvQ.js";import{S as Pt}from"./school-B2qInWgj.js";import{U as _t}from"./users-Bc8nYIP1.js";import{S as Rt}from"./save-6fij_-7b.js";import{H as jt}from"./history-DhpGjcpk.js";/* empty css            */import"./index-DlNuphDD.js";import"./index-Dp6su7tU.js";import"./check-DG9Xblsj.js";import"./user-Cg7A2IXi.js";import"./house-CU0a6S1I.js";function ua(m){const e=yt.c(348),{classe:t,professeurs:Ye,sections:o}=m,Bs=t.section||"",Os=t.professeur_principal_id||"",Us=t.description||"";let ls;e[0]!==t.capacite_max||e[1]!==t.niveau||e[2]!==t.nom_classe||e[3]!==t.statut||e[4]!==Bs||e[5]!==Os||e[6]!==Us?(ls={nom_classe:t.nom_classe,niveau:t.niveau,section:Bs,professeur_principal_id:Os,capacite_max:t.capacite_max,statut:t.statut,description:Us},e[0]=t.capacite_max,e[1]=t.niveau,e[2]=t.nom_classe,e[3]=t.statut,e[4]=Bs,e[5]=Os,e[6]=Us,e[7]=ls):ls=e[7];const{data:a,setData:c,put:qs,processing:y,errors:l,reset:Ws}=St(ls),[d,ut]=ct.useState(!1),[Ze,bt]=ct.useState("infos");let is,cs;e[8]!==t.nombre_eleves||e[9]!==a.statut?(is=()=>{a.statut==="archived"&&t.nombre_eleves>0?ut(!0):ut(!1)},cs=[a.statut,t.nombre_eleves],e[8]=t.nombre_eleves,e[9]=a.statut,e[10]=is,e[11]=cs):(is=e[10],cs=e[11]),ct.useEffect(is,cs);let rs;e[12]!==t.id||e[13]!==qs||e[14]!==d?(rs=n=>{n.preventDefault(),!(d&&!confirm("Cette classe contient des √©l√®ves. Voulez-vous vraiment l'archiver ? Les √©l√®ves devront √™tre r√©affect√©s."))&&qs(`/classes/${t.id}`)},e[12]=t.id,e[13]=qs,e[14]=d,e[15]=rs):rs=e[15];const es=rs;let ns;e[16]!==a.niveau||e[17]!==a.nom_classe||e[18]!==a.section?(ns=()=>a.niveau==="secondaire"&&a.section?`${a.nom_classe} ${a.section}`:a.nom_classe,e[16]=a.niveau,e[17]=a.nom_classe,e[18]=a.section,e[19]=ns):ns=e[19];const ss=ns;let ms;e[20]===Symbol.for("react.memo_cache_sentinel")?(ms=[{value:"primaire",label:"Primaire",icon:"üìö"},{value:"secondaire",label:"Secondaire",icon:"üéì"}],e[20]=ms):ms=e[20];const Nt=ms;let S,C,w,T,r,os,u,A,x,p,f,h,L,v,$,F,_,D,j,b;if(e[21]!==Ze||e[22]!==t.capacite_max||e[23]!==t.created_at||e[24]!==t.id||e[25]!==t.niveau||e[26]!==t.nom_classe||e[27]!==t.nombre_eleves||e[28]!==t.ref||e[29]!==t.section||e[30]!==t.statut||e[31]!==a.capacite_max||e[32]!==a.description||e[33]!==a.niveau||e[34]!==a.nom_classe||e[35]!==a.professeur_principal_id||e[36]!==a.section||e[37]!==a.statut||e[38]!==l.capacite_max||e[39]!==l.description||e[40]!==l.niveau||e[41]!==l.nom_classe||e[42]!==l.professeur_principal_id||e[43]!==l.section||e[44]!==l.statut||e[45]!==ss||e[46]!==es||e[47]!==y||e[48]!==Ye||e[49]!==o||e[50]!==c||e[51]!==d){r=[{value:"active",label:"Active",color:"success"},{value:"inactive",label:"Inactive",color:"warning"},{value:"archived",label:"Archiv√©e",color:"secondary"}];const n=i=>r.find(gt=>gt.value===i)?.color||"default",Qs=`Modifier ${t.nom_classe}`;e[72]!==Qs?(b=s.jsx(Ct,{title:Qs}),e[72]=Qs,e[73]=b):b=e[73],T=$t,D="/classes";const Xs=`Modifier ${t.nom_classe}`,Ys=`R√©f√©rence: ${t.ref}`;let hs,vs;e[74]===Symbol.for("react.memo_cache_sentinel")?(hs={label:"Dashboard",href:"/dashboard"},vs={label:"Classes",href:"/classes"},e[74]=hs,e[75]=vs):(hs=e[74],vs=e[75]);const Zs=`/classes/${t.id}/edit`;let Y;e[76]!==Zs?(Y=[hs,vs,{label:"Modifier",href:Zs}],e[76]=Zs,e[77]=Y):Y=e[77];const et=`/classes/${t.id}`;let _s;e[78]===Symbol.for("react.memo_cache_sentinel")?(_s=s.jsxs(N,{variant:"outline",children:[s.jsx(Et,{className:"h-4 w-4 mr-2"}),"Voir"]}),e[78]=_s):_s=e[78];let Z;e[79]!==et?(Z=s.jsx(ks,{href:et,children:_s}),e[79]=et,e[80]=Z):Z=e[80];let js;e[81]===Symbol.for("react.memo_cache_sentinel")?(js=s.jsx(ks,{href:"/classes",children:s.jsxs(N,{variant:"outline",children:[s.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Retour"]})}),e[81]=js):js=e[81];let ee;e[82]!==Z?(ee=s.jsxs("div",{className:"flex items-center gap-2",children:[Z,js]}),e[82]=Z,e[83]=ee):ee=e[83],e[84]!==Xs||e[85]!==Ys||e[86]!==Y||e[87]!==ee?(j=s.jsx(Ft,{title:Xs,description:Ys,breadcrumb:Y,actions:ee}),e[84]=Xs,e[85]=Ys,e[86]=Y,e[87]=ee,e[88]=j):j=e[88],F="grid grid-cols-1 lg:grid-cols-3 gap-6";let bs;e[89]===Symbol.for("react.memo_cache_sentinel")?(bs=s.jsxs(zs,{children:[s.jsxs(Hs,{className:"flex items-center gap-2",children:[s.jsx(Pt,{className:"h-5 w-5"}),"Modifier la classe"]}),s.jsx(Tt,{children:"Modifiez les informations de la classe"})]}),e[89]=bs):bs=e[89];let se;e[90]!==t.nombre_eleves||e[91]!==d?(se=d&&s.jsxs(ts,{variant:"warning",children:[s.jsx(vt,{className:"h-4 w-4"}),s.jsxs(as,{children:["Cette classe contient ",t.nombre_eleves," √©l√®ve(s). Vous ne pouvez pas archiver une classe contenant des √©l√®ves."]})]}),e[90]=t.nombre_eleves,e[91]=d,e[92]=se):se=e[92];let te;e[93]!==l.nom_classe?(te=l.nom_classe&&s.jsxs(ts,{variant:"destructive",children:[s.jsx(Dt,{className:"h-4 w-4"}),s.jsx(as,{children:l.nom_classe})]}),e[93]=l.nom_classe,e[94]=te):te=e[94];let Ns;e[95]===Symbol.for("react.memo_cache_sentinel")?(Ns=s.jsxs(At,{className:"grid w-full grid-cols-3",children:[s.jsx(nt,{value:"infos",className:"flex items-center gap-2",children:"Informations"}),s.jsx(nt,{value:"configuration",className:"flex items-center gap-2",children:"Configuration"}),s.jsx(nt,{value:"statut",className:"flex items-center gap-2",children:"Statut"})]}),e[95]=Ns):Ns=e[95];let gs;e[96]===Symbol.for("react.memo_cache_sentinel")?(gs=s.jsx(g,{htmlFor:"nom_classe",children:"Nom de la classe *"}),e[96]=gs):gs=e[96];let ae;e[97]!==c?(ae=i=>c("nom_classe",i.target.value),e[97]=c,e[98]=ae):ae=e[98];let le;e[99]!==a.nom_classe||e[100]!==ae?(le=s.jsx(rt,{id:"nom_classe",value:a.nom_classe,onChange:ae,placeholder:"Ex: 6√®me A, Terminale S, CP...",required:!0,autoFocus:!0}),e[99]=a.nom_classe,e[100]=ae,e[101]=le):le=e[101];let ie;e[102]!==ss?(ie=ss(),e[102]=ss,e[103]=ie):ie=e[103];let ce;e[104]!==ie?(ce=s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Nom complet: ",s.jsx("span",{className:"font-medium",children:ie})]}),e[104]=ie,e[105]=ce):ce=e[105];let re;e[106]!==l.nom_classe?(re=l.nom_classe&&s.jsx("p",{className:"text-sm text-destructive",children:l.nom_classe}),e[106]=l.nom_classe,e[107]=re):re=e[107];let ne;e[108]!==le||e[109]!==ce||e[110]!==re?(ne=s.jsxs("div",{className:"space-y-2",children:[gs,le,ce,re]}),e[108]=le,e[109]=ce,e[110]=re,e[111]=ne):ne=e[111];let ys;e[112]===Symbol.for("react.memo_cache_sentinel")?(ys=s.jsx(g,{children:"Niveau *"}),e[112]=ys):ys=e[112];let me;e[113]!==t.nombre_eleves||e[114]!==a.niveau||e[115]!==c?(me=t.nombre_eleves>0?s.jsxs("div",{className:"space-y-2",children:[s.jsx(rt,{value:a.niveau==="primaire"?"Primaire":"Secondaire",disabled:!0,className:"bg-muted"}),s.jsx("p",{className:"text-xs text-amber-600",children:"Le niveau ne peut pas √™tre modifi√© car la classe contient des √©l√®ves."}),s.jsx("input",{type:"hidden",name:"niveau",value:a.niveau})]}):s.jsx("div",{className:"grid grid-cols-2 gap-4",children:Nt.map(i=>s.jsx(Qe,{className:`cursor-pointer transition-all ${a.niveau===i.value?"border-primary ring-2 ring-primary/20":"hover:border-border"}`,onClick:()=>c("niveau",i.value),children:s.jsxs(Xe,{className:"p-4 flex items-center gap-3",children:[s.jsx("div",{className:"text-2xl",children:i.icon}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:i.label}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.value==="primaire"?"CP au CM2":"6√®me √† Terminale"})]})]})},i.value))}),e[113]=t.nombre_eleves,e[114]=a.niveau,e[115]=c,e[116]=me):me=e[116];let oe;e[117]!==l.niveau?(oe=l.niveau&&s.jsx("p",{className:"text-sm text-destructive",children:l.niveau}),e[117]=l.niveau,e[118]=oe):oe=e[118];let de;e[119]!==me||e[120]!==oe?(de=s.jsxs("div",{className:"space-y-2",children:[ys,me,oe]}),e[119]=me,e[120]=oe,e[121]=de):de=e[121];let ue;e[122]!==a.niveau||e[123]!==a.section||e[124]!==l.section||e[125]!==o||e[126]!==c?(ue=a.niveau==="secondaire"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(g,{htmlFor:"section",children:"Section *"}),s.jsxs(xt,{value:a.section,onValueChange:i=>c("section",i),children:[s.jsx(pt,{children:s.jsx(ft,{placeholder:"S√©lectionner une section"})}),s.jsx(ht,{children:Object.entries(o).map(It)})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"La section d√©termine la sp√©cialit√© de la classe"}),l.section&&s.jsx("p",{className:"text-sm text-destructive",children:l.section})]}),e[122]=a.niveau,e[123]=a.section,e[124]=l.section,e[125]=o,e[126]=c,e[127]=ue):ue=e[127];let xe;e[128]!==ne||e[129]!==de||e[130]!==ue?(xe=s.jsxs(mt,{value:"infos",className:"space-y-6 pt-6",children:[ne,de,ue]}),e[128]=ne,e[129]=de,e[130]=ue,e[131]=xe):xe=e[131];let Ss;e[132]===Symbol.for("react.memo_cache_sentinel")?(Ss=s.jsx(g,{htmlFor:"capacite_max",children:"Capacit√© maximale *"}),e[132]=Ss):Ss=e[132];let pe;e[133]!==t.nombre_eleves?(pe=s.jsxs("div",{className:"flex items-center justify-between",children:[Ss,s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Actuellement: ",t.nombre_eleves," √©l√®ve(s)"]})]}),e[133]=t.nombre_eleves,e[134]=pe):pe=e[134];let fe;e[135]!==c?(fe=i=>c("capacite_max",parseInt(i.target.value)||30),e[135]=c,e[136]=fe):fe=e[136];let he;e[137]!==t.nombre_eleves||e[138]!==a.capacite_max||e[139]!==fe?(he=s.jsx(rt,{id:"capacite_max",type:"number",min:t.nombre_eleves,max:"100",value:a.capacite_max,onChange:fe,className:"pl-10"}),e[137]=t.nombre_eleves,e[138]=a.capacite_max,e[139]=fe,e[140]=he):he=e[140];let Cs;e[141]===Symbol.for("react.memo_cache_sentinel")?(Cs=s.jsx(_t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e[141]=Cs):Cs=e[141];let ve;e[142]!==he?(ve=s.jsxs("div",{className:"relative",children:[he,Cs]}),e[142]=he,e[143]=ve):ve=e[143];let _e;e[144]!==t.nombre_eleves?(_e=s.jsxs("span",{className:"text-muted-foreground",children:["Minimum: ",t.nombre_eleves," (nombre d'√©l√®ves actuels)"]}),e[144]=t.nombre_eleves,e[145]=_e):_e=e[145];let ws;e[146]===Symbol.for("react.memo_cache_sentinel")?(ws=s.jsx("span",{className:"text-muted-foreground",children:"Maximum recommand√©: 35"}),e[146]=ws):ws=e[146];let je;e[147]!==_e?(je=s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[_e,ws]}),e[147]=_e,e[148]=je):je=e[148];let be;e[149]!==t.nombre_eleves||e[150]!==a.capacite_max?(be=a.capacite_max<t.nombre_eleves&&s.jsx(ts,{variant:"destructive",className:"py-2",children:s.jsxs(as,{className:"text-xs",children:["La capacit√© ne peut pas √™tre inf√©rieure au nombre d'√©l√®ves actuels (",t.nombre_eleves,")"]})}),e[149]=t.nombre_eleves,e[150]=a.capacite_max,e[151]=be):be=e[151];let Ne;e[152]!==l.capacite_max?(Ne=l.capacite_max&&s.jsx("p",{className:"text-sm text-destructive",children:l.capacite_max}),e[152]=l.capacite_max,e[153]=Ne):Ne=e[153];let ge;e[154]!==pe||e[155]!==ve||e[156]!==je||e[157]!==be||e[158]!==Ne?(ge=s.jsxs("div",{className:"space-y-2",children:[pe,ve,je,be,Ne]}),e[154]=pe,e[155]=ve,e[156]=je,e[157]=be,e[158]=Ne,e[159]=ge):ge=e[159];let Ts;e[160]===Symbol.for("react.memo_cache_sentinel")?(Ts=s.jsx(g,{htmlFor:"professeur_principal_id",children:"Professeur principal"}),e[160]=Ts):Ts=e[160];let ye;e[161]!==a.professeur_principal_id?(ye=a.professeur_principal_id?.toString()||"",e[161]=a.professeur_principal_id,e[162]=ye):ye=e[162];let Se;e[163]!==c?(Se=i=>c("professeur_principal_id",i?parseInt(i):""),e[163]=c,e[164]=Se):Se=e[164];let As;e[165]===Symbol.for("react.memo_cache_sentinel")?(As=s.jsx(pt,{children:s.jsx(ft,{placeholder:"S√©lectionner un professeur"})}),e[165]=As):As=e[165];let Ls;e[166]===Symbol.for("react.memo_cache_sentinel")?(Ls=s.jsx(dt,{value:"",children:"Aucun"}),e[166]=Ls):Ls=e[166];let Ce;e[167]!==Ye?(Ce=Ye.map(Vt),e[167]=Ye,e[168]=Ce):Ce=e[168];let we;e[169]!==Ce?(we=s.jsxs(ht,{children:[Ls,Ce]}),e[169]=Ce,e[170]=we):we=e[170];let Te;e[171]!==ye||e[172]!==Se||e[173]!==we?(Te=s.jsxs(xt,{value:ye,onValueChange:Se,children:[As,we]}),e[171]=ye,e[172]=Se,e[173]=we,e[174]=Te):Te=e[174];let $s;e[175]===Symbol.for("react.memo_cache_sentinel")?($s=s.jsx("p",{className:"text-xs text-muted-foreground",children:"Le professeur principal sera responsable de cette classe"}),e[175]=$s):$s=e[175];let Ae;e[176]!==l.professeur_principal_id?(Ae=l.professeur_principal_id&&s.jsx("p",{className:"text-sm text-destructive",children:l.professeur_principal_id}),e[176]=l.professeur_principal_id,e[177]=Ae):Ae=e[177];let Le;e[178]!==Te||e[179]!==Ae?(Le=s.jsxs("div",{className:"space-y-2",children:[Ts,Te,$s,Ae]}),e[178]=Te,e[179]=Ae,e[180]=Le):Le=e[180];let Fs;e[181]===Symbol.for("react.memo_cache_sentinel")?(Fs=s.jsx(g,{htmlFor:"description",children:"Description"}),e[181]=Fs):Fs=e[181];let $e;e[182]!==c?($e=i=>c("description",i.target.value),e[182]=c,e[183]=$e):$e=e[183];let Fe;e[184]!==a.description||e[185]!==$e?(Fe=s.jsx(wt,{id:"description",value:a.description,onChange:$e,placeholder:"Informations suppl√©mentaires sur la classe...",rows:4}),e[184]=a.description,e[185]=$e,e[186]=Fe):Fe=e[186];let Ds;e[187]===Symbol.for("react.memo_cache_sentinel")?(Ds=s.jsx("p",{className:"text-xs text-muted-foreground",children:"Optionnel - Maximum 500 caract√®res"}),e[187]=Ds):Ds=e[187];const st=a.description?.length||0;let De;e[188]!==st?(De=s.jsxs("div",{className:"flex justify-between",children:[Ds,s.jsxs("p",{className:"text-xs text-muted-foreground",children:[st,"/500"]})]}),e[188]=st,e[189]=De):De=e[189];let Ee;e[190]!==l.description?(Ee=l.description&&s.jsx("p",{className:"text-sm text-destructive",children:l.description}),e[190]=l.description,e[191]=Ee):Ee=e[191];let Me;e[192]!==Fe||e[193]!==De||e[194]!==Ee?(Me=s.jsxs("div",{className:"space-y-2",children:[Fs,Fe,De,Ee]}),e[192]=Fe,e[193]=De,e[194]=Ee,e[195]=Me):Me=e[195];let Pe;e[196]!==ge||e[197]!==Le||e[198]!==Me?(Pe=s.jsxs(mt,{value:"configuration",className:"space-y-6 pt-6",children:[ge,Le,Me]}),e[196]=ge,e[197]=Le,e[198]=Me,e[199]=Pe):Pe=e[199];let Es;e[200]===Symbol.for("react.memo_cache_sentinel")?(Es=s.jsxs("div",{children:[s.jsx(g,{htmlFor:"statut",children:"Statut de la classe *"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"D√©termine si la classe est active, inactive ou archiv√©e"})]}),e[200]=Es):Es=e[200];const tt=s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.map(i=>s.jsx(Qe,{className:`cursor-pointer transition-all ${a.statut===i.value?"border-primary ring-2 ring-primary/20":"hover:border-border"}`,onClick:()=>{i.value==="archived"&&t.nombre_eleves>0?confirm(`Cette classe contient ${t.nombre_eleves} √©l√®ve(s). Voulez-vous vraiment l'archiver ?`)&&c("statut",i.value):c("statut",i.value)},children:s.jsx(Xe,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col items-center text-center gap-2",children:[s.jsx(ot,{variant:i.color,className:"mb-2",children:i.label}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.value==="active"&&"La classe est active et peut recevoir des √©l√®ves",i.value==="inactive"&&"La classe est inactive (maintenance, etc.)",i.value==="archived"&&"La classe est archiv√©e (historique)"]})]})})},i.value))});let Re;e[201]!==t.nombre_eleves||e[202]!==a.statut?(Re=a.statut==="archived"&&t.nombre_eleves>0&&s.jsxs(ts,{variant:"warning",children:[s.jsx(vt,{className:"h-4 w-4"}),s.jsxs(as,{children:[s.jsx("p",{className:"font-medium mb-1",children:"Attention !"}),s.jsxs("p",{children:["Cette classe contient ",t.nombre_eleves," √©l√®ve(s). L'archivage n'est pas recommand√©. Consid√©rez plut√¥t :"]}),s.jsxs("ul",{className:"list-disc list-inside mt-2 text-sm",children:[s.jsx("li",{children:"Transf√©rer les √©l√®ves vers une autre classe"}),s.jsx("li",{children:"Attendre la fin de l'ann√©e scolaire"}),s.jsx("li",{children:'Utiliser le statut "inactive" temporairement'})]})]})]}),e[201]=t.nombre_eleves,e[202]=a.statut,e[203]=Re):Re=e[203];let Ve;e[204]!==l.statut?(Ve=l.statut&&s.jsx(ts,{variant:"destructive",children:s.jsx(as,{children:l.statut})}),e[204]=l.statut,e[205]=Ve):Ve=e[205];let Ie;e[206]!==tt||e[207]!==Re||e[208]!==Ve?(Ie=s.jsx(mt,{value:"statut",className:"space-y-6 pt-6",children:s.jsxs("div",{className:"space-y-4",children:[Es,tt,Re,Ve]})}),e[206]=tt,e[207]=Re,e[208]=Ve,e[209]=Ie):Ie=e[209];let ke;e[210]!==Ze||e[211]!==xe||e[212]!==Pe||e[213]!==Ie?(ke=s.jsxs(Lt,{value:Ze,onValueChange:bt,children:[Ns,xe,Pe,Ie]}),e[210]=Ze,e[211]=xe,e[212]=Pe,e[213]=Ie,e[214]=ke):ke=e[214];let ze;e[215]!==t.ref?(ze=s.jsxs("p",{children:["R√©f√©rence: ",s.jsx("span",{className:"font-mono",children:t.ref})]}),e[215]=t.ref,e[216]=ze):ze=e[216];let He;e[217]!==t.created_at?(He=new Date(t.created_at).toLocaleDateString("fr-FR"),e[217]=t.created_at,e[218]=He):He=e[218];let Be;e[219]!==He?(Be=s.jsxs("p",{children:["Cr√©√©e le: ",He]}),e[219]=He,e[220]=Be):Be=e[220];let Oe;e[221]!==ze||e[222]!==Be?(Oe=s.jsxs("div",{className:"text-sm text-muted-foreground",children:[ze,Be]}),e[221]=ze,e[222]=Be,e[223]=Oe):Oe=e[223];let Ms;e[224]===Symbol.for("react.memo_cache_sentinel")?(Ms=s.jsx(ks,{href:"/classes",children:s.jsx(N,{type:"button",variant:"outline",children:"Annuler"})}),e[224]=Ms):Ms=e[224];const at=y||a.capacite_max<t.nombre_eleves;let Ue;e[225]!==y?(Ue=y?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"animate-spin mr-2",children:"‚ü≥"}),"Enregistrement..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Enregistrer les modifications"]}),e[225]=y,e[226]=Ue):Ue=e[226];let qe;e[227]!==at||e[228]!==Ue?(qe=s.jsxs("div",{className:"flex items-center gap-4",children:[Ms,s.jsx(N,{type:"submit",disabled:at,children:Ue})]}),e[227]=at,e[228]=Ue,e[229]=qe):qe=e[229];let We;e[230]!==Oe||e[231]!==qe?(We=s.jsxs("div",{className:"flex items-center justify-between pt-6 border-t",children:[Oe,qe]}),e[230]=Oe,e[231]=qe,e[232]=We):We=e[232],e[233]!==es||e[234]!==We||e[235]!==se||e[236]!==te||e[237]!==ke?(_=s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(Qe,{children:[bs,s.jsx(Xe,{children:s.jsxs("form",{onSubmit:es,className:"space-y-6",children:[se,te,ke,We]})})]})}),e[233]=es,e[234]=We,e[235]=se,e[236]=te,e[237]=ke,e[238]=_):_=e[238],$="space-y-6",w=Qe,e[239]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx(zs,{children:s.jsx(Hs,{className:"text-sm font-medium",children:"R√©sum√©"})}),e[239]=v):v=e[239],C=Xe,L="space-y-4",A="space-y-3";let Ps;e[240]===Symbol.for("react.memo_cache_sentinel")?(Ps=s.jsx("p",{className:"text-xs text-muted-foreground",children:"Nom actuel"}),e[240]=Ps):Ps=e[240],e[241]!==t.nom_classe?(x=s.jsxs("div",{children:[Ps,s.jsx("p",{className:"font-medium",children:t.nom_classe})]}),e[241]=t.nom_classe,e[242]=x):x=e[242];let Rs;e[243]===Symbol.for("react.memo_cache_sentinel")?(Rs=s.jsx("p",{className:"text-xs text-muted-foreground",children:"Niveau actuel"}),e[243]=Rs):Rs=e[243];const lt=t.niveau==="primaire"?"default":"secondary",it=t.niveau==="primaire"?"Primaire":"Secondaire";e[244]!==lt||e[245]!==it?(p=s.jsxs("div",{children:[Rs,s.jsx(ot,{variant:lt,children:it})]}),e[244]=lt,e[245]=it,e[246]=p):p=e[246],e[247]!==t.section||e[248]!==o?(f=t.section&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Section"}),s.jsx("p",{className:"font-medium",children:o[t.section]||t.section})]}),e[247]=t.section,e[248]=o,e[249]=f):f=e[249];let Vs;e[250]===Symbol.for("react.memo_cache_sentinel")?(Vs=s.jsx("p",{className:"text-xs text-muted-foreground",children:"√âl√®ves actuels"}),e[250]=Vs):Vs=e[250];let Is;e[251]===Symbol.for("react.memo_cache_sentinel")?(Is=s.jsx(_t,{className:"h-4 w-4 text-primary"}),e[251]=Is):Is=e[251];let Ge;e[252]!==t.capacite_max||e[253]!==t.nombre_eleves?(Ge=s.jsxs("span",{className:"font-medium",children:[t.nombre_eleves," / ",t.capacite_max]}),e[252]=t.capacite_max,e[253]=t.nombre_eleves,e[254]=Ge):Ge=e[254];let Je;e[255]!==t.capacite_max||e[256]!==t.nombre_eleves?(Je=Math.round(t.nombre_eleves/t.capacite_max*100),e[255]=t.capacite_max,e[256]=t.nombre_eleves,e[257]=Je):Je=e[257];let Ke;e[258]!==Je?(Ke=s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Je,"%)"]}),e[258]=Je,e[259]=Ke):Ke=e[259],e[260]!==Ge||e[261]!==Ke?(h=s.jsxs("div",{children:[Vs,s.jsxs("div",{className:"flex items-center gap-2",children:[Is,Ge,Ke]})]}),e[260]=Ge,e[261]=Ke,e[262]=h):h=e[262],e[263]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx("p",{className:"text-xs text-muted-foreground",children:"Statut actuel"}),e[263]=u):u=e[263],S=ot,os=n(t.statut),e[21]=Ze,e[22]=t.capacite_max,e[23]=t.created_at,e[24]=t.id,e[25]=t.niveau,e[26]=t.nom_classe,e[27]=t.nombre_eleves,e[28]=t.ref,e[29]=t.section,e[30]=t.statut,e[31]=a.capacite_max,e[32]=a.description,e[33]=a.niveau,e[34]=a.nom_classe,e[35]=a.professeur_principal_id,e[36]=a.section,e[37]=a.statut,e[38]=l.capacite_max,e[39]=l.description,e[40]=l.niveau,e[41]=l.nom_classe,e[42]=l.professeur_principal_id,e[43]=l.section,e[44]=l.statut,e[45]=ss,e[46]=es,e[47]=y,e[48]=Ye,e[49]=o,e[50]=c,e[51]=d,e[52]=S,e[53]=C,e[54]=w,e[55]=T,e[56]=r,e[57]=os,e[58]=u,e[59]=A,e[60]=x,e[61]=p,e[62]=f,e[63]=h,e[64]=L,e[65]=v,e[66]=$,e[67]=F,e[68]=_,e[69]=D,e[70]=j,e[71]=b}else S=e[52],C=e[53],w=e[54],T=e[55],r=e[56],os=e[57],u=e[58],A=e[59],x=e[60],p=e[61],f=e[62],h=e[63],L=e[64],v=e[65],$=e[66],F=e[67],_=e[68],D=e[69],j=e[70],b=e[71];const Gs=os,Js=r.find(n=>n.value===t.statut)?.label||t.statut;let E;e[264]!==S||e[265]!==Gs||e[266]!==Js?(E=s.jsx(S,{variant:Gs,children:Js}),e[264]=S,e[265]=Gs,e[266]=Js,e[267]=E):E=e[267];let M;e[268]!==u||e[269]!==E?(M=s.jsxs("div",{children:[u,E]}),e[268]=u,e[269]=E,e[270]=M):M=e[270];let P;e[271]!==A||e[272]!==x||e[273]!==p||e[274]!==f||e[275]!==h||e[276]!==M?(P=s.jsxs("div",{className:A,children:[x,p,f,h,M]}),e[271]=A,e[272]=x,e[273]=p,e[274]=f,e[275]=h,e[276]=M,e[277]=P):P=e[277];let R;e[278]!==C||e[279]!==L||e[280]!==P?(R=s.jsx(C,{className:L,children:P}),e[278]=C,e[279]=L,e[280]=P,e[281]=R):R=e[281];let V;e[282]!==w||e[283]!==v||e[284]!==R?(V=s.jsxs(w,{children:[v,R]}),e[282]=w,e[283]=v,e[284]=R,e[285]=V):V=e[285];let ds;e[286]===Symbol.for("react.memo_cache_sentinel")?(ds=s.jsx(zs,{children:s.jsxs(Hs,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(jt,{className:"h-4 w-4"}),"Aper√ßu des changements"]})}),e[286]=ds):ds=e[286];let I;e[287]!==t.nom_classe||e[288]!==a.nom_classe?(I=a.nom_classe!==t.nom_classe&&s.jsxs("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[s.jsx("p",{className:"font-medium text-amber-800",children:"Nom modifi√©"}),s.jsxs("p",{className:"text-amber-700",children:[s.jsx("span",{className:"line-through",children:t.nom_classe})," ‚Üí ",s.jsx("span",{className:"font-medium",children:a.nom_classe})]})]}),e[287]=t.nom_classe,e[288]=a.nom_classe,e[289]=I):I=e[289];let k;e[290]!==t.niveau||e[291]!==a.niveau?(k=a.niveau!==t.niveau&&s.jsxs("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[s.jsx("p",{className:"font-medium text-amber-800",children:"Niveau modifi√©"}),s.jsxs("p",{className:"text-amber-700",children:[s.jsx("span",{className:"line-through",children:t.niveau==="primaire"?"Primaire":"Secondaire"})," ‚Üí ",s.jsx("span",{className:"font-medium",children:a.niveau==="primaire"?"Primaire":"Secondaire"})]})]}),e[290]=t.niveau,e[291]=a.niveau,e[292]=k):k=e[292];let z;e[293]!==t.capacite_max||e[294]!==a.capacite_max?(z=a.capacite_max!==t.capacite_max&&s.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("p",{className:"font-medium text-blue-800",children:"Capacit√© modifi√©e"}),s.jsxs("p",{className:"text-blue-700",children:[s.jsx("span",{className:"line-through",children:t.capacite_max})," ‚Üí ",s.jsx("span",{className:"font-medium",children:a.capacite_max})]})]}),e[293]=t.capacite_max,e[294]=a.capacite_max,e[295]=z):z=e[295];let H;e[296]!==t.statut||e[297]!==a.statut||e[298]!==r?(H=a.statut!==t.statut&&s.jsxs("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[s.jsx("p",{className:"font-medium text-purple-800",children:"Statut modifi√©"}),s.jsxs("p",{className:"text-purple-700",children:[s.jsx("span",{className:"line-through",children:r.find(n=>n.value===t.statut)?.label||t.statut})," ‚Üí ",s.jsx("span",{className:"font-medium",children:r.find(n=>n.value===a.statut)?.label||a.statut})]})]}),e[296]=t.statut,e[297]=a.statut,e[298]=r,e[299]=H):H=e[299];let B;e[300]!==t.capacite_max||e[301]!==t.niveau||e[302]!==t.nom_classe||e[303]!==t.statut||e[304]!==a.capacite_max||e[305]!==a.niveau||e[306]!==a.nom_classe||e[307]!==a.statut?(B=a.nom_classe===t.nom_classe&&a.niveau===t.niveau&&a.capacite_max===t.capacite_max&&a.statut===t.statut&&s.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Aucun changement d√©tect√©"}),e[300]=t.capacite_max,e[301]=t.niveau,e[302]=t.nom_classe,e[303]=t.statut,e[304]=a.capacite_max,e[305]=a.niveau,e[306]=a.nom_classe,e[307]=a.statut,e[308]=B):B=e[308];let O;e[309]!==I||e[310]!==k||e[311]!==z||e[312]!==H||e[313]!==B?(O=s.jsxs(Qe,{children:[ds,s.jsx(Xe,{children:s.jsxs("div",{className:"space-y-3 text-sm",children:[I,k,z,H,B]})})]}),e[309]=I,e[310]=k,e[311]=z,e[312]=H,e[313]=B,e[314]=O):O=e[314];let us;e[315]===Symbol.for("react.memo_cache_sentinel")?(us=s.jsx(zs,{children:s.jsx(Hs,{className:"text-sm font-medium",children:"Actions rapides"})}),e[315]=us):us=e[315];const Ks=`/classes/${t.id}/rapport`;let xs;e[316]===Symbol.for("react.memo_cache_sentinel")?(xs=s.jsxs(N,{variant:"outline",className:"w-full justify-start",children:[s.jsx(jt,{className:"h-4 w-4 mr-2"}),"G√©n√©rer un rapport"]}),e[316]=xs):xs=e[316];let U;e[317]!==Ks?(U=s.jsx(ks,{href:Ks,className:"block",children:xs}),e[317]=Ks,e[318]=U):U=e[318];let q;e[319]!==Ws?(q=()=>{confirm("Voulez-vous vraiment r√©initialiser tous les champs ?")&&Ws()},e[319]=Ws,e[320]=q):q=e[320];let ps;e[321]===Symbol.for("react.memo_cache_sentinel")?(ps=s.jsx("span",{className:"mr-2",children:"‚Ü∫"}),e[321]=ps):ps=e[321];let W;e[322]!==q?(W=s.jsxs(N,{variant:"outline",className:"w-full justify-start",onClick:q,children:[ps,"R√©initialiser le formulaire"]}),e[322]=q,e[323]=W):W=e[323];let G;e[324]!==t.nom_classe||e[325]!==t.nombre_eleves?(G=t.nombre_eleves===0&&s.jsx(N,{variant:"destructive",className:"w-full",onClick:()=>{confirm(`√ätes-vous s√ªr de vouloir supprimer la classe "${t.nom_classe}" ? Cette action est irr√©versible.`)},children:"Supprimer la classe"}),e[324]=t.nom_classe,e[325]=t.nombre_eleves,e[326]=G):G=e[326];let J;e[327]!==U||e[328]!==W||e[329]!==G?(J=s.jsxs(Qe,{children:[us,s.jsxs(Xe,{className:"space-y-3",children:[U,W,G]})]}),e[327]=U,e[328]=W,e[329]=G,e[330]=J):J=e[330];let K;e[331]!==$||e[332]!==V||e[333]!==O||e[334]!==J?(K=s.jsxs("div",{className:$,children:[V,O,J]}),e[331]=$,e[332]=V,e[333]=O,e[334]=J,e[335]=K):K=e[335];let Q;e[336]!==F||e[337]!==_||e[338]!==K?(Q=s.jsxs("div",{className:F,children:[_,K]}),e[336]=F,e[337]=_,e[338]=K,e[339]=Q):Q=e[339];let X;e[340]!==T||e[341]!==D||e[342]!==j||e[343]!==Q?(X=s.jsxs(T,{activeRoute:D,children:[j,Q]}),e[340]=T,e[341]=D,e[342]=j,e[343]=Q,e[344]=X):X=e[344];let fs;return e[345]!==b||e[346]!==X?(fs=s.jsxs(s.Fragment,{children:[b,X]}),e[345]=b,e[346]=X,e[347]=fs):fs=e[347],fs}function Vt(m){return s.jsx(dt,{value:m.id.toString(),children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:m.name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:m.email})]})},m.id)}function It(m){const[e,t]=m;return s.jsx(dt,{value:e,children:t},e)}export{ua as default};
