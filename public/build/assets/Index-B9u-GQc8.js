import{c as Wt,r as kt,R as Xt,j as t,L as ht,b as pe,H as Yt}from"./app-DZJrMNxY.js";import{c as Zt,B as be}from"./createLucideIcon-BS6ALbkr.js";import{I as Mt}from"./input-BckMPTlJ.js";import{T as $t,a as m,b as h,c as es,d as ts,e as ss}from"./table-CCFYgkA5.js";import{a as Ft,b as It,c as Vt,d as Ne,e as qt,r as ls,S as as,F as rs,D as ns}from"./DashboardLayout-vWMxdFqe.js";import{a as xt,b as ft,c as ut,d as o,S as jt}from"./select-DGsaUEvB.js";import{B as At}from"./badge-CeBFvwGD.js";import{C as Bt}from"./checkbox-BKAAZ-oL.js";import{A as Ht,a as Ut}from"./alert-TWt91VRb.js";import{P as is}from"./pagination-DQr5AstA.js";import{P as cs}from"./PageHeader-7wFCOOoD.js";import{b as os,C as ds,a as ms,c as hs}from"./card-BBrqGEX4.js";import{R as pt}from"./receipt-BrmoikGi.js";import{D as xs}from"./download-DDtpQZcN.js";import{T as Lt}from"./trash-2-DjSieKno.js";import{E as fs}from"./ellipsis-vertical-DaCQ7zKb.js";import{E as us}from"./eye-FQZ_RcsU.js";import{S as js}from"./square-pen-CqzDT6RU.js";import{C as ps}from"./clock-CnEx6Jp8.js";import{P as gs}from"./plus-B4tHpUlF.js";import{C as vs,a as zt,U as bs}from"./users-suUgY7hg.js";import{T as Ns}from"./trending-up-CEovwgWH.js";import{F as _s}from"./funnel-B1eRbD1B.js";/* empty css            */import"./index-DPdNmvR6.js";import"./user-BrzOplp3.js";import"./index-ehOYwFgY.js";import"./check-BQdHNVlQ.js";import"./house-CA3_dIaa.js";/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],ys=Zt("chart-no-axes-column-increasing",Ss);function cl(l){const e=Wt.c(201),{paiements:r,filters:n,stats:a,eleves:gt,tranches:vt,flash:x}=l;let _e;e[0]===Symbol.for("react.memo_cache_sentinel")?(_e=[],e[0]=_e):_e=e[0];const[c,ge]=kt.useState(_e),[f,Gt]=kt.useState(n.search||""),bt=n.date_debut||"",Nt=n.date_fin||"";let Se;e[1]!==bt||e[2]!==Nt?(Se={debut:bt,fin:Nt},e[1]=bt,e[2]=Nt,e[3]=Se):Se=e[3];const[i,Et]=kt.useState(Se);let ye,we;e[4]!==f?(ye=()=>{const s=setTimeout(()=>{pe.get("/paiements",{search:f},{preserveState:!0,replace:!0})},500);return()=>clearTimeout(s)},we=[f],e[4]=f,e[5]=ye,e[6]=we):(ye=e[5],we=e[6]),Xt.useEffect(ye,we);let Ce;e[7]!==n?(Ce=(s,ve)=>{pe.get("/paiements",{...n,[s]:ve},{preserveState:!0,replace:!0})},e[7]=n,e[8]=Ce):Ce=e[8];const d=Ce;let Te;e[9]!==i.debut||e[10]!==i.fin||e[11]!==n?(Te=()=>{pe.get("/paiements",{...n,date_debut:i.debut,date_fin:i.fin},{preserveState:!0,replace:!0})},e[9]=i.debut,e[10]=i.fin,e[11]=n,e[12]=Te):Te=e[12];const _t=Te;let De;e[13]!==r.data?(De=s=>{ge(s?r.data.map(Ms):[])},e[13]=r.data,e[14]=De):De=e[14];const St=De;let Pe;e[15]!==c?(Pe=(s,ve)=>{ge(ve?[...c,s]:c.filter(Qt=>Qt!==s))},e[15]=c,e[16]=Pe):Pe=e[16];const yt=Pe;let Re;e[17]!==c?(Re=s=>{c.length!==0&&confirm(`Êtes-vous sûr de vouloir effectuer cette action sur ${c.length} paiement(s) ?`)&&pe.post("/paiements/bulk-action",{ids:c,action:s},{onSuccess:()=>ge([])})},e[17]=c,e[18]=Re):Re=e[18];const ke=Re,Ot=ks,u=Rs,wt=Ps,Jt=Ds;let Me;e[19]===Symbol.for("react.memo_cache_sentinel")?(Me=t.jsx(Yt,{title:"Gestion des paiements"}),e[19]=Me):Me=e[19];const Kt=r.total;let $e;e[20]!==a.montant_total?($e=u(a.montant_total),e[20]=a.montant_total,e[21]=$e):$e=e[21];const Ct=`${Kt} paiements - Total: ${$e}`;let Ae;e[22]===Symbol.for("react.memo_cache_sentinel")?(Ae=[{label:"Dashboard",href:"/dashboard"},{label:"Paiements",href:"/paiements"}],e[22]=Ae):Ae=e[22];let j;e[23]!==ke||e[24]!==c.length?(j=c.length>0&&t.jsxs(Ft,{children:[t.jsx(It,{asChild:!0,children:t.jsxs(be,{variant:"outline",children:[t.jsx(pt,{className:"h-4 w-4 mr-2"}),"Actions (",c.length,")"]})}),t.jsxs(Vt,{align:"end",children:[t.jsxs(Ne,{onClick:()=>ke("export"),children:[t.jsx(xs,{className:"h-4 w-4 mr-2"}),"Exporter"]}),t.jsx(qt,{}),t.jsxs(Ne,{onClick:()=>ke("delete"),className:"text-destructive",children:[t.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Supprimer"]})]})]}),e[23]=ke,e[24]=c.length,e[25]=j):j=e[25];let Ee;e[26]===Symbol.for("react.memo_cache_sentinel")?(Ee=ls(),e[26]=Ee):Ee=e[26];let Fe;e[27]===Symbol.for("react.memo_cache_sentinel")?(Fe=t.jsx(ht,{href:Ee.url,children:t.jsxs(be,{variant:"outline",children:[t.jsx(ys,{className:"h-4 w-4 mr-2"}),"Rapport"]})}),e[27]=Fe):Fe=e[27];let Ie;e[28]===Symbol.for("react.memo_cache_sentinel")?(Ie=t.jsx(ht,{href:"/paiements/create",children:t.jsxs(be,{children:[t.jsx(gs,{className:"h-4 w-4 mr-2"}),"Nouveau paiement"]})}),e[28]=Ie):Ie=e[28];let p;e[29]!==j?(p=t.jsxs("div",{className:"flex items-center gap-2",children:[j,Fe,Ie]}),e[29]=j,e[30]=p):p=e[30];let g;e[31]!==Ct||e[32]!==p?(g=t.jsx(cs,{title:"Paiements",description:Ct,breadcrumb:Ae,actions:p}),e[31]=Ct,e[32]=p,e[33]=g):g=e[33];let v;e[34]!==x?(v=x?.success&&t.jsx(Ht,{className:"mb-6",children:t.jsx(Ut,{children:x.success})}),e[34]=x,e[35]=v):v=e[35];let b;e[36]!==x?(b=x?.error&&t.jsx(Ht,{variant:"destructive",className:"mb-6",children:t.jsx(Ut,{children:x.error})}),e[36]=x,e[37]=b):b=e[37];let Ve;e[38]===Symbol.for("react.memo_cache_sentinel")?(Ve=t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total paiements"}),e[38]=Ve):Ve=e[38];let N;e[39]!==a.total?(N=t.jsx("p",{className:"text-2xl font-bold",children:a.total}),e[39]=a.total,e[40]=N):N=e[40];let _;e[41]!==a.montant_total?(_=u(a.montant_total),e[41]=a.montant_total,e[42]=_):_=e[42];let S;e[43]!==_?(S=t.jsx("p",{className:"text-sm text-muted-foreground",children:_}),e[43]=_,e[44]=S):S=e[44];let y;e[45]!==N||e[46]!==S?(y=t.jsxs("div",{children:[Ve,N,S]}),e[45]=N,e[46]=S,e[47]=y):y=e[47];let qe;e[48]===Symbol.for("react.memo_cache_sentinel")?(qe=t.jsx(pt,{className:"h-8 w-8 text-primary"}),e[48]=qe):qe=e[48];let w;e[49]!==y?(w=t.jsx("div",{className:"bg-card rounded-lg border p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[y,qe]})}),e[49]=y,e[50]=w):w=e[50];let Be;e[51]===Symbol.for("react.memo_cache_sentinel")?(Be=t.jsx("p",{className:"text-sm text-muted-foreground",children:"Aujourd'hui"}),e[51]=Be):Be=e[51];let C;e[52]!==a.aujourdhui.count?(C=t.jsx("p",{className:"text-2xl font-bold",children:a.aujourdhui.count}),e[52]=a.aujourdhui.count,e[53]=C):C=e[53];let T;e[54]!==a.aujourdhui.total?(T=u(a.aujourdhui.total),e[54]=a.aujourdhui.total,e[55]=T):T=e[55];let D;e[56]!==T?(D=t.jsx("p",{className:"text-sm text-muted-foreground",children:T}),e[56]=T,e[57]=D):D=e[57];let P;e[58]!==C||e[59]!==D?(P=t.jsxs("div",{children:[Be,C,D]}),e[58]=C,e[59]=D,e[60]=P):P=e[60];let He;e[61]===Symbol.for("react.memo_cache_sentinel")?(He=t.jsx(vs,{className:"h-8 w-8 text-green-500"}),e[61]=He):He=e[61];let R;e[62]!==P?(R=t.jsx("div",{className:"bg-card rounded-lg border p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[P,He]})}),e[62]=P,e[63]=R):R=e[63];let Ue;e[64]===Symbol.for("react.memo_cache_sentinel")?(Ue=t.jsx("p",{className:"text-sm text-muted-foreground",children:"Ce mois"}),e[64]=Ue):Ue=e[64];let k;e[65]!==a.ce_mois.count?(k=t.jsx("p",{className:"text-2xl font-bold",children:a.ce_mois.count}),e[65]=a.ce_mois.count,e[66]=k):k=e[66];let M;e[67]!==a.ce_mois.total?(M=u(a.ce_mois.total),e[67]=a.ce_mois.total,e[68]=M):M=e[68];let $;e[69]!==M?($=t.jsx("p",{className:"text-sm text-muted-foreground",children:M}),e[69]=M,e[70]=$):$=e[70];let A;e[71]!==k||e[72]!==$?(A=t.jsxs("div",{children:[Ue,k,$]}),e[71]=k,e[72]=$,e[73]=A):A=e[73];let Le;e[74]===Symbol.for("react.memo_cache_sentinel")?(Le=t.jsx(Ns,{className:"h-8 w-8 text-blue-500"}),e[74]=Le):Le=e[74];let E;e[75]!==A?(E=t.jsx("div",{className:"bg-card rounded-lg border p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[A,Le]})}),e[75]=A,e[76]=E):E=e[76];let ze;e[77]===Symbol.for("react.memo_cache_sentinel")?(ze=t.jsx("p",{className:"text-sm text-muted-foreground",children:"Par mode"}),e[77]=ze):ze=e[77];let F;e[78]!==a.par_mode?(F=t.jsxs("div",{children:[ze,t.jsx("div",{className:"flex gap-1 mt-1",children:Object.entries(a.par_mode).map(Ts)})]}),e[78]=a.par_mode,e[79]=F):F=e[79];let Ge;e[80]===Symbol.for("react.memo_cache_sentinel")?(Ge=t.jsx(zt,{className:"h-8 w-8 text-purple-500"}),e[80]=Ge):Ge=e[80];let I;e[81]!==F?(I=t.jsx("div",{className:"bg-card rounded-lg border p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[F,Ge]})}),e[81]=F,e[82]=I):I=e[82];let V;e[83]!==w||e[84]!==R||e[85]!==E||e[86]!==I?(V=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[w,R,E,I]}),e[83]=w,e[84]=R,e[85]=E,e[86]=I,e[87]=V):V=e[87];let Oe;e[88]===Symbol.for("react.memo_cache_sentinel")?(Oe=t.jsx(as,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e[88]=Oe):Oe=e[88];let Je;e[89]===Symbol.for("react.memo_cache_sentinel")?(Je=s=>Gt(s.target.value),e[89]=Je):Je=e[89];let q;e[90]!==f?(q=t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[Oe,t.jsx(Mt,{placeholder:"Rechercher par référence ou élève...",value:f,onChange:Je,className:"pl-10"})]})}),e[90]=f,e[91]=q):q=e[91];const Tt=n.mode_paiement||"";let B;e[92]!==d?(B=s=>d("mode_paiement",s),e[92]=d,e[93]=B):B=e[93];let Ke;e[94]===Symbol.for("react.memo_cache_sentinel")?(Ke=t.jsxs(xt,{className:"w-[140px]",children:[t.jsx(zt,{className:"h-4 w-4 mr-2"}),t.jsx(ft,{placeholder:"Mode"})]}),e[94]=Ke):Ke=e[94];let Qe;e[95]===Symbol.for("react.memo_cache_sentinel")?(Qe=t.jsxs(ut,{children:[t.jsx(o,{value:"all",children:"Tous modes"}),t.jsx(o,{value:"espèce",children:"Espèce"}),t.jsx(o,{value:"chèque",children:"Chèque"}),t.jsx(o,{value:"virement",children:"Virement"}),t.jsx(o,{value:"mobile_money",children:"Mobile Money"})]}),e[95]=Qe):Qe=e[95];let H;e[96]!==Tt||e[97]!==B?(H=t.jsxs(jt,{value:Tt,onValueChange:B,children:[Ke,Qe]}),e[96]=Tt,e[97]=B,e[98]=H):H=e[98];const Dt=n.eleve_id||"";let U;e[99]!==d?(U=s=>d("eleve_id",s),e[99]=d,e[100]=U):U=e[100];let We;e[101]===Symbol.for("react.memo_cache_sentinel")?(We=t.jsxs(xt,{className:"w-[180px]",children:[t.jsx(bs,{className:"h-4 w-4 mr-2"}),t.jsx(ft,{placeholder:"Élève"})]}),e[101]=We):We=e[101];let Xe;e[102]===Symbol.for("react.memo_cache_sentinel")?(Xe=t.jsx(o,{value:"all",children:"Tous les élèves"}),e[102]=Xe):Xe=e[102];let L;e[103]!==gt?(L=gt.map(Cs),e[103]=gt,e[104]=L):L=e[104];let z;e[105]!==L?(z=t.jsxs(ut,{children:[Xe,L]}),e[105]=L,e[106]=z):z=e[106];let G;e[107]!==Dt||e[108]!==U||e[109]!==z?(G=t.jsxs(jt,{value:Dt,onValueChange:U,children:[We,z]}),e[107]=Dt,e[108]=U,e[109]=z,e[110]=G):G=e[110];const Pt=n.tranche_id||"";let O;e[111]!==d?(O=s=>d("tranche_id",s),e[111]=d,e[112]=O):O=e[112];let Ye;e[113]===Symbol.for("react.memo_cache_sentinel")?(Ye=t.jsxs(xt,{className:"w-[180px]",children:[t.jsx(rs,{className:"h-4 w-4 mr-2"}),t.jsx(ft,{placeholder:"Tranche"})]}),e[113]=Ye):Ye=e[113];let Ze;e[114]===Symbol.for("react.memo_cache_sentinel")?(Ze=t.jsx(o,{value:"all",children:"Toutes tranches"}),e[114]=Ze):Ze=e[114];let J;e[115]!==vt?(J=vt.map(ws),e[115]=vt,e[116]=J):J=e[116];let K;e[117]!==J?(K=t.jsxs(ut,{children:[Ze,J]}),e[117]=J,e[118]=K):K=e[118];let Q;e[119]!==Pt||e[120]!==O||e[121]!==K?(Q=t.jsxs(jt,{value:Pt,onValueChange:O,children:[Ye,K]}),e[119]=Pt,e[120]=O,e[121]=K,e[122]=Q):Q=e[122];let W;e[123]!==H||e[124]!==G||e[125]!==Q?(W=t.jsxs("div",{className:"flex gap-2 flex-wrap",children:[H,G,Q]}),e[123]=H,e[124]=G,e[125]=Q,e[126]=W):W=e[126];let X;e[127]!==q||e[128]!==W?(X=t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[q,W]}),e[127]=q,e[128]=W,e[129]=X):X=e[129];let Y;e[130]!==i?(Y=s=>Et({...i,debut:s.target.value}),e[130]=i,e[131]=Y):Y=e[131];let Z;e[132]!==i.debut||e[133]!==Y?(Z=t.jsx("div",{className:"flex-1",children:t.jsx(Mt,{type:"date",value:i.debut,onChange:Y,placeholder:"Date début",className:"w-full"})}),e[132]=i.debut,e[133]=Y,e[134]=Z):Z=e[134];let ee;e[135]!==i?(ee=s=>Et({...i,fin:s.target.value}),e[135]=i,e[136]=ee):ee=e[136];let te;e[137]!==i.fin||e[138]!==ee?(te=t.jsx("div",{className:"flex-1",children:t.jsx(Mt,{type:"date",value:i.fin,onChange:ee,placeholder:"Date fin",className:"w-full"})}),e[137]=i.fin,e[138]=ee,e[139]=te):te=e[139];let et;e[140]===Symbol.for("react.memo_cache_sentinel")?(et=t.jsx(_s,{className:"h-4 w-4 mr-2"}),e[140]=et):et=e[140];let se;e[141]!==_t?(se=t.jsxs(be,{onClick:_t,variant:"outline",children:[et,"Filtrer"]}),e[141]=_t,e[142]=se):se=e[142];let le;e[143]!==Z||e[144]!==te||e[145]!==se?(le=t.jsxs("div",{className:"flex gap-2",children:[Z,te,se]}),e[143]=Z,e[144]=te,e[145]=se,e[146]=le):le=e[146];let ae;e[147]!==n.per_page?(ae=n.per_page?.toString()||"15",e[147]=n.per_page,e[148]=ae):ae=e[148];let re;e[149]!==d?(re=s=>d("per_page",s),e[149]=d,e[150]=re):re=e[150];let tt;e[151]===Symbol.for("react.memo_cache_sentinel")?(tt=t.jsx(xt,{className:"w-[100px]",children:t.jsx(ft,{placeholder:"Par page"})}),e[151]=tt):tt=e[151];let st;e[152]===Symbol.for("react.memo_cache_sentinel")?(st=t.jsxs(ut,{children:[t.jsx(o,{value:"10",children:"10"}),t.jsx(o,{value:"15",children:"15"}),t.jsx(o,{value:"25",children:"25"}),t.jsx(o,{value:"50",children:"50"})]}),e[152]=st):st=e[152];let ne;e[153]!==ae||e[154]!==re?(ne=t.jsx("div",{className:"flex gap-2 ml-auto",children:t.jsxs(jt,{value:ae,onValueChange:re,children:[tt,st]})}),e[153]=ae,e[154]=re,e[155]=ne):ne=e[155];let ie;e[156]!==le||e[157]!==ne?(ie=t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[le,ne]}),e[156]=le,e[157]=ne,e[158]=ie):ie=e[158];let ce;e[159]!==X||e[160]!==ie?(ce=t.jsx("div",{className:"bg-card rounded-lg border p-4 mb-6",children:t.jsxs("div",{className:"flex flex-col gap-4",children:[X,ie]})}),e[159]=X,e[160]=ie,e[161]=ce):ce=e[161];const Rt=c.length===r.data.length&&r.data.length>0;let oe;e[162]!==St||e[163]!==Rt?(oe=t.jsx(h,{className:"w-12",children:t.jsx(Bt,{checked:Rt,onCheckedChange:St})}),e[162]=St,e[163]=Rt,e[164]=oe):oe=e[164];let lt,at,rt,nt,it,ct,ot,dt;e[165]===Symbol.for("react.memo_cache_sentinel")?(lt=t.jsx(h,{children:"Référence"}),at=t.jsx(h,{children:"Élève"}),rt=t.jsx(h,{children:"Tranche"}),nt=t.jsx(h,{children:"Montant"}),it=t.jsx(h,{children:"Mode"}),ct=t.jsx(h,{children:"Date"}),ot=t.jsx(h,{children:"Enregistré par"}),dt=t.jsx(h,{className:"text-right",children:"Actions"}),e[165]=lt,e[166]=at,e[167]=rt,e[168]=nt,e[169]=it,e[170]=ct,e[171]=ot,e[172]=dt):(lt=e[165],at=e[166],rt=e[167],nt=e[168],it=e[169],ct=e[170],ot=e[171],dt=e[172]);let de;e[173]!==oe?(de=t.jsx(es,{children:t.jsxs($t,{children:[oe,lt,at,rt,nt,it,ct,ot,dt]})}),e[173]=oe,e[174]=de):de=e[174];let me;e[175]!==yt||e[176]!==r.data||e[177]!==c?(me=r.data.length===0?t.jsx($t,{children:t.jsxs(m,{colSpan:9,className:"text-center py-8 text-muted-foreground",children:[t.jsx(pt,{className:"h-12 w-12 mx-auto mb-4 opacity-20"}),t.jsx("p",{className:"text-lg",children:"Aucun paiement trouvé"})]})}):r.data.map(s=>t.jsxs($t,{className:"hover:bg-muted/50",children:[t.jsx(m,{children:t.jsx(Bt,{checked:c.includes(s.id),onCheckedChange:ve=>yt(s.id,ve===!0)})}),t.jsx(m,{children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium font-mono",children:s.reference}),s.numero_cheque&&t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Chèque: ",s.numero_cheque]})]})}),t.jsx(m,{children:s.eleve?t.jsxs("div",{children:[t.jsxs("div",{className:"font-medium",children:[s.eleve.nom," ",s.eleve.prenom]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Réf: ",s.eleve.ref]})]}):t.jsx("span",{className:"text-sm text-muted-foreground",children:"Non assigné"})}),t.jsx(m,{children:s.tranche?t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:s.tranche.nom_tranche}),s.tranche.configuration_frais&&t.jsx("div",{className:"text-xs text-muted-foreground",children:s.tranche.configuration_frais.nom_frais})]}):t.jsx("span",{className:"text-sm text-muted-foreground",children:"Non spécifiée"})}),t.jsx(m,{className:"font-semibold",children:u(s.montant)}),t.jsx(m,{children:Jt(s.mode_paiement)}),t.jsx(m,{children:t.jsx("div",{className:"text-sm",children:wt(s.date_paiement)})}),t.jsx(m,{children:t.jsxs("div",{className:"text-sm",children:[t.jsx("div",{className:"font-medium",children:s.user.name}),t.jsx("div",{className:"text-xs text-muted-foreground",children:wt(s.created_at)})]})}),t.jsx(m,{className:"text-right",children:t.jsxs(Ft,{children:[t.jsx(It,{asChild:!0,children:t.jsx(be,{variant:"ghost",size:"icon",children:t.jsx(fs,{className:"h-4 w-4"})})}),t.jsxs(Vt,{align:"end",children:[t.jsx(ht,{href:`/paiements/${s.id}`,children:t.jsxs(Ne,{children:[t.jsx(us,{className:"h-4 w-4 mr-2"}),"Voir"]})}),t.jsx(ht,{href:`/paiements/${s.id}/edit`,children:t.jsxs(Ne,{children:[t.jsx(js,{className:"h-4 w-4 mr-2"}),"Modifier"]})}),t.jsx(qt,{}),t.jsxs(Ne,{onClick:()=>Ot(s),className:"text-destructive",children:[t.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Annuler"]})]})]})})]},s.id)),e[175]=yt,e[176]=r.data,e[177]=c,e[178]=me):me=e[178];let he;e[179]!==me?(he=t.jsx(ts,{children:me}),e[179]=me,e[180]=he):he=e[180];let xe;e[181]!==he||e[182]!==de?(xe=t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(ss,{children:[de,he]})}),e[181]=he,e[182]=de,e[183]=xe):xe=e[183];let fe;e[184]!==n||e[185]!==r.current_page||e[186]!==r.last_page?(fe=r.last_page>1&&t.jsx("div",{className:"border-t p-4",children:t.jsx(is,{currentPage:r.current_page,totalPages:r.last_page,onPageChange:s=>{pe.get("/paiements",{...n,page:s},{preserveState:!0,replace:!0})}})}),e[184]=n,e[185]=r.current_page,e[186]=r.last_page,e[187]=fe):fe=e[187];let ue;e[188]!==xe||e[189]!==fe?(ue=t.jsxs("div",{className:"bg-card rounded-lg border overflow-hidden",children:[xe,fe]}),e[188]=xe,e[189]=fe,e[190]=ue):ue=e[190];let je;e[191]!==a.recent?(je=a.recent.length>0&&t.jsxs(os,{className:"mt-6",children:[t.jsx(ds,{children:t.jsxs(ms,{className:"text-lg flex items-center gap-2",children:[t.jsx(ps,{className:"h-5 w-5"}),"Paiements récents"]})}),t.jsx(hs,{children:t.jsx("div",{className:"space-y-3",children:a.recent.map(s=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:t.jsx(pt,{className:"h-5 w-5 text-primary"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:s.reference}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.eleve?`${s.eleve.nom} ${s.eleve.prenom}`:"Non assigné"," • ",u(s.montant)]})]})]}),t.jsx(At,{variant:"outline",children:wt(s.date_paiement)})]},s.id))})})]}),e[191]=a.recent,e[192]=je):je=e[192];let mt;return e[193]!==ue||e[194]!==je||e[195]!==g||e[196]!==v||e[197]!==b||e[198]!==V||e[199]!==ce?(mt=t.jsxs(t.Fragment,{children:[Me,t.jsxs(ns,{activeRoute:"/paiements",children:[g,v,b,V,ce,ue,je]})]}),e[193]=ue,e[194]=je,e[195]=g,e[196]=v,e[197]=b,e[198]=V,e[199]=ce,e[200]=mt):mt=e[200],mt}function ws(l){return t.jsxs(o,{value:l.id.toString(),children:[l.nom_tranche,l.configuration_frais&&` (${l.configuration_frais.nom_frais})`]},l.id)}function Cs(l){return t.jsxs(o,{value:l.id.toString(),children:[l.nom," ",l.prenom]},l.id)}function Ts(l){const[e,r]=l;return t.jsx(At,{variant:"outline",className:"text-xs",children:r.count},e)}function Ds(l){const e={espèce:"default",chèque:"secondary",virement:"outline",mobile_money:"default"},r={espèce:"bg-green-100 text-green-800 border-green-200",chèque:"bg-blue-100 text-blue-800 border-blue-200",virement:"bg-purple-100 text-purple-800 border-purple-200",mobile_money:"bg-orange-100 text-orange-800 border-orange-200"};return t.jsx(At,{variant:e[l]||"outline",className:`${r[l]} border`,children:l.charAt(0).toUpperCase()+l.slice(1)})}function Ps(l){return new Date(l).toLocaleDateString("fr-FR")}function Rs(l){return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"USD"}).format(l).replace("$US","$")}function ks(l){confirm(`Êtes-vous sûr de vouloir annuler le paiement "${l.reference}" ?`)&&pe.delete(`/paiements/${l.id}`)}function Ms(l){return l.id}export{cl as default};
