import{c as D,j as s,r as N,H as _a}from"./app-CyulpZ4l.js";import{c as xa,a as Ye,B as d}from"./createLucideIcon-BQY_2rDi.js";import{d as Ke,C as P,a as F,b,c as y,e as ft}from"./card-DaAbqQTT.js";import{a as ht,T as wa,b as ut,c as Sa}from"./tabs-Dt9svxqC.js";import{B as o}from"./badge-CzRquX7r.js";import{P as pt}from"./progress-_851Ia8p.js";import{e as Ot,c as Ut,T as We,b as h,d as Gt,a as u}from"./table-C6noO-ui.js";import{T as Ca,C as Da,n as Ma,o as Ta,p as Pa,q as Fa,X as Ba,O as Ea}from"./sheet-Cxg_ZlmL.js";import{T as ka}from"./textarea-BWXcQ9Qw.js";import{L as Jt}from"./label-CRMtvrZY.js";import{D as Ra}from"./DashboardLayout-CJuE1ZNF.js";import{M as Xt,P as $a}from"./ParentLayout-CTpoylhb.js";import{C as fa}from"./circle-check-big-B9kmu0mx.js";import{C as ha}from"./circle-x-Dvx7atPi.js";import{C as gt}from"./clock-Cky82KXM.js";import{C as aa}from"./circle-alert-DzeTemcr.js";import{T as na}from"./trending-up-vHO8iMjj.js";import{T as La}from"./trending-down-KMx7-Vtt.js";import{U as za,C as Aa}from"./users-oYdqotjr.js";import{B as qa,F as Qt}from"./file-text-Dg4dGPiw.js";import{U as ca}from"./user-B3FC1fbi.js";import{B as Kt}from"./book-open-BNn02EQd.js";import{C as jt}from"./calendar-days-BZyJedH7.js";import{E as Wt}from"./eye-DDyiKe5G.js";import{D as ts}from"./download-CVv9JMZ8.js";import{P as Ha}from"./phone-6z72NLgb.js";import{M as Va}from"./mail-DQ7b5bl8.js";import{M as Ia}from"./map-pin-gq2Vz0JV.js";import{P as oa}from"./printer-CDRCavok.js";/* empty css            */import"./separator-C9WSIPQc.js";import"./index-DwM1dw0K.js";import"./calendar-CKoc8gf1.js";import"./dollar-sign-BTVKeyIs.js";import"./input-DZO_bzLb.js";import"./house-CbOgEd2s.js";/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],ma=xa("message-circle",Oa);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],da=xa("send",Ua);function Yt(e){const t=D.c(4);let r;t[0]!==e?({...r}=e,t[0]=e,t[1]=r):r=t[1];let i;return t[2]!==r?(i=s.jsx(Ma,{"data-slot":"dialog",...r}),t[2]=r,t[3]=i):i=t[3],i}function Ga(e){const t=D.c(4);let r;t[0]!==e?({...r}=e,t[0]=e,t[1]=r):r=t[1];let i;return t[2]!==r?(i=s.jsx(Pa,{"data-slot":"dialog-portal",...r}),t[2]=r,t[3]=i):i=t[3],i}function Ja(e){const t=D.c(8);let r,i;t[0]!==e?({className:r,...i}=e,t[0]=e,t[1]=r,t[2]=i):(r=t[1],i=t[2]);let a;t[3]!==r?(a=Ye("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",r),t[3]=r,t[4]=a):a=t[4];let c;return t[5]!==i||t[6]!==a?(c=s.jsx(Ea,{"data-slot":"dialog-overlay",className:a,...i}),t[5]=i,t[6]=a,t[7]=c):c=t[7],c}function Zt(e){const t=D.c(15);let r,i,a,c;t[0]!==e?({className:i,children:r,showCloseButton:c,...a}=e,t[0]=e,t[1]=r,t[2]=i,t[3]=a,t[4]=c):(r=t[1],i=t[2],a=t[3],c=t[4]);const M=c===void 0?!0:c;let p;t[5]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(Ja,{}),t[5]=p):p=t[5];let T;t[6]!==i?(T=Ye("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",i),t[6]=i,t[7]=T):T=t[7];let _;t[8]!==M?(_=M&&s.jsxs(Fa,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[s.jsx(Ba,{}),s.jsx("span",{className:"sr-only",children:"Close"})]}),t[8]=M,t[9]=_):_=t[9];let m;return t[10]!==r||t[11]!==a||t[12]!==T||t[13]!==_?(m=s.jsxs(Ga,{"data-slot":"dialog-portal",children:[p,s.jsxs(Da,{"data-slot":"dialog-content",className:T,...a,children:[r,_]})]}),t[10]=r,t[11]=a,t[12]=T,t[13]=_,t[14]=m):m=t[14],m}function ea(e){const t=D.c(8);let r,i;t[0]!==e?({className:r,...i}=e,t[0]=e,t[1]=r,t[2]=i):(r=t[1],i=t[2]);let a;t[3]!==r?(a=Ye("flex flex-col gap-2 text-center sm:text-left",r),t[3]=r,t[4]=a):a=t[4];let c;return t[5]!==i||t[6]!==a?(c=s.jsx("div",{"data-slot":"dialog-header",className:a,...i}),t[5]=i,t[6]=a,t[7]=c):c=t[7],c}function sa(e){const t=D.c(8);let r,i;t[0]!==e?({className:r,...i}=e,t[0]=e,t[1]=r,t[2]=i):(r=t[1],i=t[2]);let a;t[3]!==r?(a=Ye("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",r),t[3]=r,t[4]=a):a=t[4];let c;return t[5]!==i||t[6]!==a?(c=s.jsx("div",{"data-slot":"dialog-footer",className:a,...i}),t[5]=i,t[6]=a,t[7]=c):c=t[7],c}function ta(e){const t=D.c(8);let r,i;t[0]!==e?({className:r,...i}=e,t[0]=e,t[1]=r,t[2]=i):(r=t[1],i=t[2]);let a;t[3]!==r?(a=Ye("text-lg leading-none font-semibold",r),t[3]=r,t[4]=a):a=t[4];let c;return t[5]!==i||t[6]!==a?(c=s.jsx(Ca,{"data-slot":"dialog-title",className:a,...i}),t[5]=i,t[6]=a,t[7]=c):c=t[7],c}function Xa(e){const t=D.c(8);let r,i;t[0]!==e?({className:r,...i}=e,t[0]=e,t[1]=r,t[2]=i):(r=t[1],i=t[2]);let a;t[3]!==r?(a=Ye("text-muted-foreground text-sm",r),t[3]=r,t[4]=a):a=t[4];let c;return t[5]!==i||t[6]!==a?(c=s.jsx(Ta,{"data-slot":"dialog-description",className:a,...i}),t[5]=i,t[6]=a,t[7]=c):c=t[7],c}function Xl(){const e=D.c(268);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[0]=t):t=e[0];const[r,i]=N.useState(t),[a,c]=N.useState(null);let M;e[1]===Symbol.for("react.memo_cache_sentinel")?(M=[],e[1]=M):M=e[1];const[p,T]=N.useState(M);let _;e[2]===Symbol.for("react.memo_cache_sentinel")?(_=[],e[2]=_):_=e[2];const[m,ua]=N.useState(_);let as;e[3]===Symbol.for("react.memo_cache_sentinel")?(as=[],e[3]=as):as=e[3];const[j,Nt]=N.useState(as);let ls;e[4]===Symbol.for("react.memo_cache_sentinel")?(ls=[],e[4]=ls):ls=e[4];const[C,pa]=N.useState(ls),[w,la]=N.useState(""),[vt,bt]=N.useState("question"),[yt,_t]=N.useState(!1),[x,ja]=N.useState(null),[wt,St]=N.useState(!1),[f,ga]=N.useState(null),[Ct,Dt]=N.useState(!1),[S,Na]=N.useState(null);let rs,is;e[5]===Symbol.for("react.memo_cache_sentinel")?(rs=()=>{const n=[{id:1,matricule:"ELEV2024001",nom:"Dupont",prenom:"Lucas",photo:"https://api.dicebear.com/7.x/avataaars/svg?seed=lucas",classe:{id:1,nom:"Terminale S",niveau:"Lycée",professeur_principal:"Mme. Martin"},date_naissance:"2006-05-15",age:17},{id:2,matricule:"ELEV2024002",nom:"Dupont",prenom:"Emma",photo:"https://api.dicebear.com/7.x/avataaars/svg?seed=emma",classe:{id:2,nom:"4ème C",niveau:"Collège",professeur_principal:"M. Bernard"},date_naissance:"2009-08-22",age:14}],l=[{id:1,matiere:"Mathématiques",professeur:"M. Dubois",type:"Devoir",note:16,note_sur:20,date:"2024-03-10",appreciation:"Très bon travail",coefficient:3},{id:2,matiere:"Physique-Chimie",professeur:"Mme. Robert",type:"TP",note:14,note_sur:20,date:"2024-03-08",appreciation:"Bon effort",coefficient:2},{id:3,matiere:"Français",professeur:"M. Thomas",type:"Interrogation",note:18,note_sur:20,date:"2024-03-05",appreciation:"Excellent",coefficient:3},{id:4,matiere:"Histoire-Géographie",professeur:"Mme. Richard",type:"Examen",note:12,note_sur:20,date:"2024-03-01",appreciation:"Peut mieux faire",coefficient:4},{id:5,matiere:"Anglais",professeur:"M. Petit",type:"Devoir",note:15,note_sur:20,date:"2024-02-28",appreciation:"Bon travail",coefficient:2},{id:6,matiere:"SVT",professeur:"Mme. Durand",type:"TP",note:17,note_sur:20,date:"2024-02-25",appreciation:"Très bien",coefficient:2}],g=[{id:1,date:"2024-03-12",statut:"present",heure_arrivee:"08:05",heure_depart:"16:30",cours:["Math","Français","Anglais"]},{id:2,date:"2024-03-11",statut:"retard",heure_arrivee:"08:35",heure_depart:"16:45",cours:["Physique","Histoire"],retard_minutes:35},{id:3,date:"2024-03-08",statut:"absent",cours:[],raison_absence:"Maladie",justificatif:!0},{id:4,date:"2024-03-07",statut:"present",heure_arrivee:"07:55",heure_depart:"16:15",cours:["Math","SVT","Sport"]},{id:5,date:"2024-03-06",statut:"present",heure_arrivee:"08:00",heure_depart:"16:30",cours:["Français","Anglais","Arts"]},{id:6,date:"2024-03-05",statut:"malade",cours:[],raison_absence:"Fièvre",justificatif:!0}],es=[{id:1,type:"culturel",titre:"Journée culturelle - 25 Mars",message:"L'école organise une journée culturelle le 25 Mars. Participation: 15$ par élève.",date:"2024-03-10",emetteur:"Direction",lu:!1,important:!0},{id:2,type:"financier",titre:"Échéance des frais scolaires",message:"Rappel: les frais du 2ème trimestre sont à régler avant le 31 Mars.",date:"2024-03-08",emetteur:"Comptabilité",lu:!0,important:!0},{id:3,type:"info",titre:"Réunion parents-professeurs",message:"La réunion parents-professeurs est prévue le 20 Mars à 18h dans la salle polyvalente.",date:"2024-03-05",emetteur:"Vie scolaire",lu:!0,important:!1},{id:4,type:"urgence",titre:"Fermeture exceptionnelle",message:"L'école sera exceptionnellement fermée le 15 Mars pour travaux.",date:"2024-03-03",emetteur:"Direction",lu:!1,important:!0},{id:5,type:"general",titre:"Informations cantine",message:"Le menu de la semaine du 11 Mars est disponible sur l'espace parents.",date:"2024-03-01",emetteur:"Service restauration",lu:!0,important:!1}],v=[{id:1,periode:"1er Trimestre 2023-2024",moyenne_generale:14.5,rang:8,effectif_classe:32,appreciation:"Élève sérieux et appliqué. Bonnes résultats dans l'ensemble.",matieres:[{matiere:"Mathématiques",moyenne:16,coefficient:4,appreciation:"Excellent"},{matiere:"Physique-Chimie",moyenne:14,coefficient:3,appreciation:"Bon"},{matiere:"Français",moyenne:15,coefficient:4,appreciation:"Très bien"},{matiere:"Histoire-Géographie",moyenne:13,coefficient:3,appreciation:"Satisfaisant"},{matiere:"Anglais",moyenne:16,coefficient:2,appreciation:"Excellent"},{matiere:"SVT",moyenne:15,coefficient:2,appreciation:"Très bien"},{matiere:"EPS",moyenne:17,coefficient:1,appreciation:"Remarquable"}]},{id:2,periode:"2ème Trimestre 2023-2024",moyenne_generale:15.2,rang:5,effectif_classe:32,appreciation:"Progression notable. Continue tes efforts.",matieres:[{matiere:"Mathématiques",moyenne:17,coefficient:4,appreciation:"Excellent"},{matiere:"Physique-Chimie",moyenne:15,coefficient:3,appreciation:"Très bien"},{matiere:"Français",moyenne:14,coefficient:4,appreciation:"Bon"},{matiere:"Histoire-Géographie",moyenne:14,coefficient:3,appreciation:"Bon"},{matiere:"Anglais",moyenne:17,coefficient:2,appreciation:"Excellent"},{matiere:"SVT",moyenne:16,coefficient:2,appreciation:"Très bien"},{matiere:"EPS",moyenne:16,coefficient:1,appreciation:"Très bien"}]}];i(n),c(n[0]),T(l),ua(g),Nt(es),pa(v)},is=[],e[5]=rs,e[6]=is):(rs=e[5],is=e[6]),N.useEffect(rs,is);const ra=dl,va=ml,ia=ol,Ze=cl;let ns;e[7]!==j||e[8]!==w?(ns=()=>{if(!w.trim())return;const n={id:Date.now(),type:"general",titre:"Message de parent",message:w,date:new Date().toISOString().split("T")[0],emetteur:"Parent",lu:!1,important:!0};Nt([n,...j]),la(""),alert("Votre message a été envoyé à l'école. Vous recevrez une réponse dans les meilleurs délais.")},e[7]=j,e[8]=w,e[9]=ns):ns=e[9];const Mt=ns;let cs;e[10]===Symbol.for("react.memo_cache_sentinel")?(cs=n=>{Nt(l=>l.map(g=>g.id===n?{...g,lu:!0}:g))},e[10]=cs):cs=e[10];const ba=cs;if(!a){let n;return e[11]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(Ra,{children:s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsxs("div",{className:"text-center",children:[s.jsx(za,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-lg",children:"Chargement des données..."})]})})}),e[11]=n):n=e[11],n}let os;e[12]===Symbol.for("react.memo_cache_sentinel")?(os=s.jsx(_a,{title:"Espace Parent"}),e[12]=os):os=e[12];let ms;e[13]===Symbol.for("react.memo_cache_sentinel")?(ms=s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Espace Parent"}),s.jsx("p",{className:"text-muted-foreground",children:"Suivez la scolarité de vos enfants en temps réel"})]}),e[13]=ms):ms=e[13];let ds;e[14]===Symbol.for("react.memo_cache_sentinel")?(ds=s.jsx(qa,{className:"h-5 w-5"}),e[14]=ds):ds=e[14];let B;e[15]!==j?(B=j.filter(nl),e[15]=j,e[16]=B):B=e[16];const Tt=j.filter(il).length>1?"s":"",Pt=j.filter(rl).length>1?"s":"";let E;e[17]!==B.length||e[18]!==Tt||e[19]!==Pt?(E=s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[ms,s.jsxs("div",{className:"flex items-center gap-3",children:[ds,s.jsxs("span",{className:"text-sm",children:[B.length," notification",Tt," non lue",Pt]})]})]}),e[17]=B.length,e[18]=Tt,e[19]=Pt,e[20]=E):E=e[20];let k;if(e[21]!==r||e[22]!==a.id){let n;e[24]!==a.id?(n=l=>s.jsx(b,{className:`cursor-pointer transition-all hover:border-primary ${a.id===l.id?"ring-2 ring-primary":""}`,onClick:()=>c(l),children:s.jsx(y,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center overflow-hidden",children:l.photo?s.jsx("img",{src:l.photo,alt:`${l.prenom} ${l.nom}`,className:"h-full w-full object-cover"}):s.jsx(ca,{className:"h-8 w-8"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-bold text-lg",children:[l.prenom," ",l.nom]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.classe.nom," • ",l.age," ans"]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Matricule: ",l.matricule]})]})]})})},l.id),e[24]=a.id,e[25]=n):n=e[25],k=r.map(n),e[21]=r,e[22]=a.id,e[23]=k}else k=e[23];let R;e[26]!==k?(R=s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:k}),e[26]=k,e[27]=R):R=e[27];let $;e[28]!==E||e[29]!==R?($=s.jsxs("div",{className:"mb-8",children:[E,R]}),e[28]=E,e[29]=R,e[30]=$):$=e[30];let xs;e[31]===Symbol.for("react.memo_cache_sentinel")?(xs=s.jsxs(ht,{value:"notes",className:"flex items-center gap-2",children:[s.jsx(Kt,{className:"h-4 w-4"}),"Notes"]}),e[31]=xs):xs=e[31];let fs;e[32]===Symbol.for("react.memo_cache_sentinel")?(fs=s.jsxs(ht,{value:"presences",className:"flex items-center gap-2",children:[s.jsx(jt,{className:"h-4 w-4"}),"Présences"]}),e[32]=fs):fs=e[32];let hs;e[33]===Symbol.for("react.memo_cache_sentinel")?(hs=s.jsxs(ht,{value:"communications",className:"flex items-center gap-2",children:[s.jsx(Xt,{className:"h-4 w-4"}),"Communications"]}),e[33]=hs):hs=e[33];let us;e[34]===Symbol.for("react.memo_cache_sentinel")?(us=s.jsxs(wa,{className:"grid w-full grid-cols-4",children:[xs,fs,hs,s.jsxs(ht,{value:"bulletins",className:"flex items-center gap-2",children:[s.jsx(Qt,{className:"h-4 w-4"}),"Bulletins"]})]}),e[34]=us):us=e[34];let ps;e[35]===Symbol.for("react.memo_cache_sentinel")?(ps=s.jsx(Kt,{className:"h-5 w-5"}),e[35]=ps):ps=e[35];let L;e[36]!==a.prenom?(L=s.jsxs("div",{className:"flex items-center gap-2",children:[ps,"Notes récentes de ",a.prenom]}),e[36]=a.prenom,e[37]=L):L=e[37];const Ft=p.reduce(ll,0)/p.length;let z;e[38]!==Ft?(z=s.jsxs(o,{variant:"outline",children:["Moyenne: ",Ft," / 20"]}),e[38]=Ft,e[39]=z):z=e[39];let A;e[40]!==L||e[41]!==z?(A=s.jsxs(F,{className:"flex items-center justify-between",children:[L,z]}),e[40]=L,e[41]=z,e[42]=A):A=e[42];let js;e[43]===Symbol.for("react.memo_cache_sentinel")?(js=s.jsx(Ke,{children:"Dernières évaluations et résultats"}),e[43]=js):js=e[43];let q;e[44]!==A?(q=s.jsxs(P,{children:[A,js]}),e[44]=A,e[45]=q):q=e[45];let gs;e[46]===Symbol.for("react.memo_cache_sentinel")?(gs=s.jsx(Ut,{children:s.jsxs(We,{children:[s.jsx(h,{children:"Matière"}),s.jsx(h,{children:"Type"}),s.jsx(h,{children:"Note"}),s.jsx(h,{children:"Date"}),s.jsx(h,{children:"Professeur"}),s.jsx(h,{className:"text-right",children:"Actions"})]})}),e[46]=gs):gs=e[46];let H;if(e[47]!==p){let n;e[49]===Symbol.for("react.memo_cache_sentinel")?(n=l=>s.jsxs(We,{className:"hover:bg-muted/50",children:[s.jsx(u,{className:"font-medium",children:l.matiere}),s.jsx(u,{children:s.jsx(o,{variant:"outline",children:l.type})}),s.jsxs(u,{children:[s.jsxs("div",{className:`font-bold ${ia(l.note,l.note_sur)}`,children:[l.note," / ",l.note_sur]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Coef. ",l.coefficient]})]}),s.jsx(u,{children:new Date(l.date).toLocaleDateString("fr-FR")}),s.jsx(u,{className:"text-sm",children:l.professeur}),s.jsx(u,{className:"text-right",children:s.jsx(d,{variant:"ghost",size:"sm",onClick:()=>{ja(l),_t(!0)},children:s.jsx(Wt,{className:"h-4 w-4"})})})]},l.id),e[49]=n):n=e[49],H=p.map(n),e[47]=p,e[48]=H}else H=e[48];let V;e[50]!==H?(V=s.jsx(y,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ot,{children:[gs,s.jsx(Gt,{children:H})]})})}),e[50]=H,e[51]=V):V=e[51];const Bt=p.length>1?"s":"";let I;e[52]!==p.length||e[53]!==Bt?(I=s.jsxs("div",{className:"text-sm text-muted-foreground",children:[p.length," note",Bt," ce trimestre"]}),e[52]=p.length,e[53]=Bt,e[54]=I):I=e[54];let Ns;e[55]===Symbol.for("react.memo_cache_sentinel")?(Ns=s.jsxs(d,{variant:"outline",size:"sm",children:[s.jsx(ts,{className:"h-4 w-4 mr-2"}),"Télécharger toutes les notes"]}),e[55]=Ns):Ns=e[55];let O;e[56]!==I?(O=s.jsxs(ft,{className:"flex justify-between",children:[I,Ns]}),e[56]=I,e[57]=O):O=e[57];let U;e[58]!==q||e[59]!==V||e[60]!==O?(U=s.jsxs(b,{children:[q,V,O]}),e[58]=q,e[59]=V,e[60]=O,e[61]=U):U=e[61];let vs;e[62]===Symbol.for("react.memo_cache_sentinel")?(vs=s.jsx("p",{className:"text-sm text-muted-foreground",children:"Moyenne générale"}),e[62]=vs):vs=e[62];const Et=p.reduce(al,0)/p.length;let G;e[63]!==Et?(G=Et.toFixed(2),e[63]=Et,e[64]=G):G=e[64];let J;e[65]!==G?(J=s.jsxs("p",{className:"text-3xl font-bold",children:[G," / 20"]}),e[65]=G,e[66]=J):J=e[66];let bs;e[67]===Symbol.for("react.memo_cache_sentinel")?(bs=s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(na,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-green-600",children:"+0.5 point"}),s.jsx("span",{className:"text-muted-foreground",children:"vs dernier mois"})]}),e[67]=bs):bs=e[67];let X;e[68]!==J?(X=s.jsx(b,{children:s.jsx(y,{className:"pt-6",children:s.jsxs("div",{className:"space-y-2",children:[vs,J,bs]})})}),e[68]=J,e[69]=X):X=e[69];let ys;e[70]===Symbol.for("react.memo_cache_sentinel")?(ys=s.jsx("p",{className:"text-sm text-muted-foreground",children:"Meilleure matière"}),e[70]=ys):ys=e[70];let _s;e[71]===Symbol.for("react.memo_cache_sentinel")?(_s=s.jsx(b,{children:s.jsx(y,{className:"pt-6",children:s.jsxs("div",{className:"space-y-2",children:[ys,s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-xl font-bold",children:"Mathématiques"}),s.jsx(o,{variant:"success",children:"16.5/20"})]}),s.jsx(pt,{value:82.5,className:"h-2"})]})})}),e[71]=_s):_s=e[71];let ws;e[72]===Symbol.for("react.memo_cache_sentinel")?(ws=s.jsx("p",{className:"text-sm text-muted-foreground",children:"À améliorer"}),e[72]=ws):ws=e[72];let Ss;e[73]===Symbol.for("react.memo_cache_sentinel")?(Ss=s.jsx(b,{children:s.jsx(y,{className:"pt-6",children:s.jsxs("div",{className:"space-y-2",children:[ws,s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-xl font-bold",children:"Histoire-Géo"}),s.jsx(o,{variant:"destructive",children:"12/20"})]}),s.jsx(pt,{value:60,className:"h-2 bg-red-500"})]})})}),e[73]=Ss):Ss=e[73];let Q;e[74]!==X?(Q=s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[X,_s,Ss]}),e[74]=X,e[75]=Q):Q=e[75];let K;e[76]!==U||e[77]!==Q?(K=s.jsxs(ut,{value:"notes",className:"space-y-6",children:[U,Q]}),e[76]=U,e[77]=Q,e[78]=K):K=e[78];let Cs;e[79]===Symbol.for("react.memo_cache_sentinel")?(Cs=s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jt,{className:"h-5 w-5"}),"Présences du mois"]}),e[79]=Cs):Cs=e[79];let W;e[80]!==m?(W=m.filter(tl),e[80]=m,e[81]=W):W=e[81];let Y;e[82]!==W.length?(Y=s.jsxs(o,{variant:"success",children:[W.length," jours présents"]}),e[82]=W.length,e[83]=Y):Y=e[83];let Z;e[84]!==m?(Z=m.filter(sl),e[84]=m,e[85]=Z):Z=e[85];let ee;e[86]!==Z.length?(ee=s.jsxs(o,{variant:"destructive",children:[Z.length," absences"]}),e[86]=Z.length,e[87]=ee):ee=e[87];let se;e[88]!==Y||e[89]!==ee?(se=s.jsxs(F,{className:"flex items-center justify-between",children:[Cs,s.jsxs("div",{className:"flex items-center gap-2",children:[Y,ee]})]}),e[88]=Y,e[89]=ee,e[90]=se):se=e[90];let te;e[91]!==a.prenom?(te=s.jsxs(Ke,{children:["Suivi des présences et absences de ",a.prenom]}),e[91]=a.prenom,e[92]=te):te=e[92];let ae;e[93]!==se||e[94]!==te?(ae=s.jsxs(P,{children:[se,te]}),e[93]=se,e[94]=te,e[95]=ae):ae=e[95];let Ds;e[96]===Symbol.for("react.memo_cache_sentinel")?(Ds=s.jsx(Ut,{children:s.jsxs(We,{children:[s.jsx(h,{children:"Date"}),s.jsx(h,{children:"Jour"}),s.jsx(h,{children:"Statut"}),s.jsx(h,{children:"Horaires"}),s.jsx(h,{children:"Cours"}),s.jsx(h,{className:"text-right",children:"Détails"})]})}),e[96]=Ds):Ds=e[96];let le;if(e[97]!==m){let n;e[99]===Symbol.for("react.memo_cache_sentinel")?(n=l=>s.jsxs(We,{className:"hover:bg-muted/50",children:[s.jsx(u,{children:new Date(l.date).toLocaleDateString("fr-FR")}),s.jsx(u,{children:new Date(l.date).toLocaleDateString("fr-FR",{weekday:"long"})}),s.jsxs(u,{children:[ra(l.statut),l.raison_absence&&s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[l.raison_absence,l.justificatif&&s.jsx(o,{variant:"outline",className:"ml-1 text-xs",children:"Justifié"})]})]}),s.jsx(u,{children:l.heure_arrivee?s.jsxs("div",{className:"text-sm",children:[l.heure_arrivee," - ",l.heure_depart||"--:--",l.retard_minutes&&s.jsxs("div",{className:"text-xs text-amber-600",children:["Retard: ",l.retard_minutes," min"]})]}):s.jsx("span",{className:"text-sm text-muted-foreground",children:"Non applicable"})}),s.jsx(u,{children:l.cours.length>0?s.jsx("div",{className:"flex flex-wrap gap-1",children:l.cours.map(el)}):s.jsx("span",{className:"text-sm text-muted-foreground",children:"Aucun cours"})}),s.jsx(u,{className:"text-right",children:s.jsx(d,{variant:"ghost",size:"sm",onClick:()=>{ga(l),St(!0)},children:s.jsx(Wt,{className:"h-4 w-4"})})})]},l.id),e[99]=n):n=e[99],le=m.map(n),e[97]=m,e[98]=le}else le=e[98];let re;e[100]!==le?(re=s.jsx(y,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ot,{children:[Ds,s.jsx(Gt,{children:le})]})})}),e[100]=le,e[101]=re):re=e[101];let Ms;e[102]!==m?(Ms=m.filter(Za),e[102]=m,e[103]=Ms):Ms=e[103];const kt=Ms.length/m.length*100;let ie;e[104]!==kt?(ie=kt.toFixed(1),e[104]=kt,e[105]=ie):ie=e[105];let ne;e[106]!==ie?(ne=s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Taux de présence: ",ie,"%"]}),e[106]=ie,e[107]=ne):ne=e[107];let Ts;e[108]===Symbol.for("react.memo_cache_sentinel")?(Ts=s.jsxs(d,{variant:"outline",size:"sm",children:[s.jsx(ma,{className:"h-4 w-4 mr-2"}),"Justifier une absence"]}),e[108]=Ts):Ts=e[108];let ce;e[109]!==ne?(ce=s.jsxs(ft,{className:"flex justify-between",children:[ne,Ts]}),e[109]=ne,e[110]=ce):ce=e[110];let oe;e[111]!==ae||e[112]!==re||e[113]!==ce?(oe=s.jsxs(b,{children:[ae,re,ce]}),e[111]=ae,e[112]=re,e[113]=ce,e[114]=oe):oe=e[114];let Ps;e[115]===Symbol.for("react.memo_cache_sentinel")?(Ps=s.jsxs(P,{children:[s.jsx(F,{children:"Calendrier mensuel"}),s.jsx(Ke,{children:"Vue d'ensemble des présences sur le mois"})]}),e[115]=Ps):Ps=e[115];let Fs;e[116]===Symbol.for("react.memo_cache_sentinel")?(Fs=["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"].map(Ya),e[116]=Fs):Fs=e[116];let me;e[117]!==m?(me=s.jsxs("div",{className:"grid grid-cols-7 gap-2 text-center",children:[Fs,Array.from({length:31},(n,l)=>{const g=l+1,es=`2024-03-${g.toString().padStart(2,"0")}`,v=m.find(ya=>ya.date===es);let ss="bg-gray-100";return v&&(v.statut==="present"?ss="bg-green-100":v.statut==="absent"?ss="bg-red-100":v.statut==="retard"?ss="bg-amber-100":v.statut==="malade"&&(ss="bg-blue-100")),s.jsxs("div",{className:`${ss} rounded-lg p-2 min-h-[60px]`,children:[s.jsx("div",{className:"font-medium",children:g}),v&&s.jsxs("div",{className:"mt-1",children:[v.statut==="present"&&s.jsx(fa,{className:"h-4 w-4 mx-auto text-green-600"}),v.statut==="absent"&&s.jsx(ha,{className:"h-4 w-4 mx-auto text-red-600"}),v.statut==="retard"&&s.jsx(gt,{className:"h-4 w-4 mx-auto text-amber-600"}),v.statut==="malade"&&s.jsx(aa,{className:"h-4 w-4 mx-auto text-blue-600"})]})]},g)})]}),e[117]=m,e[118]=me):me=e[118];let Bs;e[119]===Symbol.for("react.memo_cache_sentinel")?(Bs=s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500"}),s.jsx("span",{className:"text-sm",children:"Présent"})]}),e[119]=Bs):Bs=e[119];let Es;e[120]===Symbol.for("react.memo_cache_sentinel")?(Es=s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-3 w-3 rounded-full bg-red-500"}),s.jsx("span",{className:"text-sm",children:"Absent"})]}),e[120]=Es):Es=e[120];let ks;e[121]===Symbol.for("react.memo_cache_sentinel")?(ks=s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-3 w-3 rounded-full bg-amber-500"}),s.jsx("span",{className:"text-sm",children:"Retard"})]}),e[121]=ks):ks=e[121];let Rs;e[122]===Symbol.for("react.memo_cache_sentinel")?(Rs=s.jsxs("div",{className:"mt-6 flex flex-wrap gap-4",children:[Bs,Es,ks,s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-500"}),s.jsx("span",{className:"text-sm",children:"Malade"})]})]}),e[122]=Rs):Rs=e[122];let de;e[123]!==me?(de=s.jsxs(b,{children:[Ps,s.jsxs(y,{children:[me,Rs]})]}),e[123]=me,e[124]=de):de=e[124];let xe;e[125]!==oe||e[126]!==de?(xe=s.jsxs(ut,{value:"presences",className:"space-y-6",children:[oe,de]}),e[125]=oe,e[126]=de,e[127]=xe):xe=e[127];let $s;e[128]===Symbol.for("react.memo_cache_sentinel")?($s=s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xt,{className:"h-5 w-5"}),"Messages de l'école"]}),e[128]=$s):$s=e[128];let fe;e[129]!==j?(fe=j.filter(Wa),e[129]=j,e[130]=fe):fe=e[130];const Rt=j.filter(Ka).length>1?"s":"";let he;e[131]!==fe.length||e[132]!==Rt?(he=s.jsx(P,{children:s.jsxs(F,{className:"flex items-center justify-between",children:[$s,s.jsxs(o,{variant:"outline",children:[fe.length," non lu",Rt]})]})}),e[131]=fe.length,e[132]=Rt,e[133]=he):he=e[133];let ue;if(e[134]!==j){let n;e[136]===Symbol.for("react.memo_cache_sentinel")?(n=l=>s.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors hover:bg-muted/50 ${l.lu?"":"bg-gray-500 border-blue-200"} ${l.important?"border-red-100 bg-accent":""}`,onClick:()=>ba(l.id),children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[va(l.type),l.important&&s.jsx(o,{variant:"destructive",children:"Important"}),!l.lu&&s.jsx(o,{variant:"outline",className:"bg-blue-100",children:"Nouveau"})]}),s.jsx("h4",{className:"font-semibold text-lg mb-1",children:l.titre}),s.jsx("p",{className:"text-muted-foreground mb-2",children:l.message}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"text-muted-foreground",children:[s.jsx(jt,{className:"h-3 w-3 inline mr-1"}),new Date(l.date).toLocaleDateString("fr-FR")]}),s.jsxs("span",{className:"text-muted-foreground",children:[s.jsx(ca,{className:"h-3 w-3 inline mr-1"}),l.emetteur]})]}),l.type==="financier"&&s.jsxs(d,{size:"sm",variant:"outline",children:[s.jsx(Aa,{className:"h-3 w-3 mr-1"}),"Payer en ligne"]})]})]})})},l.id),e[136]=n):n=e[136],ue=j.map(n),e[134]=j,e[135]=ue}else ue=e[135];let pe;e[137]!==ue?(pe=s.jsx(y,{children:s.jsx("div",{className:"space-y-4",children:ue})}),e[137]=ue,e[138]=pe):pe=e[138];let je;e[139]!==he||e[140]!==pe?(je=s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsxs(b,{children:[he,pe]})}),e[139]=he,e[140]=pe,e[141]=je):je=e[141];let Ls;e[142]===Symbol.for("react.memo_cache_sentinel")?(Ls=s.jsxs(P,{children:[s.jsxs(F,{className:"flex items-center gap-2",children:[s.jsx(da,{className:"h-5 w-5"}),"Contacter l'école"]}),s.jsx(Ke,{children:"Envoyez un message à l'administration"})]}),e[142]=Ls):Ls=e[142];let zs;e[143]===Symbol.for("react.memo_cache_sentinel")?(zs=s.jsx(Jt,{children:"Type de message"}),e[143]=zs):zs=e[143];const $t=vt==="question"?"default":"outline";let As;e[144]===Symbol.for("react.memo_cache_sentinel")?(As=()=>bt("question"),e[144]=As):As=e[144];let ge;e[145]!==$t?(ge=s.jsx(d,{variant:$t,size:"sm",onClick:As,children:"Question"}),e[145]=$t,e[146]=ge):ge=e[146];const Lt=vt==="information"?"default":"outline";let qs;e[147]===Symbol.for("react.memo_cache_sentinel")?(qs=()=>bt("information"),e[147]=qs):qs=e[147];let Ne;e[148]!==Lt?(Ne=s.jsx(d,{variant:Lt,size:"sm",onClick:qs,children:"Information"}),e[148]=Lt,e[149]=Ne):Ne=e[149];const zt=vt==="urgence"?"default":"outline";let Hs;e[150]===Symbol.for("react.memo_cache_sentinel")?(Hs=()=>bt("urgence"),e[150]=Hs):Hs=e[150];let ve;e[151]!==zt?(ve=s.jsx(d,{variant:zt,size:"sm",onClick:Hs,children:"Urgence"}),e[151]=zt,e[152]=ve):ve=e[152];let be;e[153]!==ge||e[154]!==Ne||e[155]!==ve?(be=s.jsxs("div",{className:"space-y-2",children:[zs,s.jsxs("div",{className:"flex flex-wrap gap-2",children:[ge,Ne,ve]})]}),e[153]=ge,e[154]=Ne,e[155]=ve,e[156]=be):be=e[156];let Vs;e[157]===Symbol.for("react.memo_cache_sentinel")?(Vs=s.jsx(Jt,{children:"Destinataire"}),e[157]=Vs):Vs=e[157];let Is;e[158]===Symbol.for("react.memo_cache_sentinel")?(Is=s.jsxs("div",{className:"space-y-2",children:[Vs,s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(o,{variant:"outline",children:"Direction"}),s.jsx(o,{variant:"outline",children:"Vie scolaire"}),s.jsx(o,{variant:"outline",children:"Professeur principal"}),s.jsx(o,{variant:"outline",children:"Comptabilité"})]})]}),e[158]=Is):Is=e[158];let Os;e[159]===Symbol.for("react.memo_cache_sentinel")?(Os=s.jsx(Jt,{children:"Votre message"}),e[159]=Os):Os=e[159];let Us;e[160]===Symbol.for("react.memo_cache_sentinel")?(Us=n=>la(n.target.value),e[160]=Us):Us=e[160];let ye;e[161]!==w?(ye=s.jsxs("div",{className:"space-y-2",children:[Os,s.jsx(ka,{placeholder:"Écrivez votre message ici...",value:w,onChange:Us,rows:4})]}),e[161]=w,e[162]=ye):ye=e[162];let _e;e[163]!==ye||e[164]!==be?(_e=s.jsx(y,{children:s.jsxs("div",{className:"space-y-4",children:[be,Is,ye]})}),e[163]=ye,e[164]=be,e[165]=_e):_e=e[165];let Gs;e[166]!==w?(Gs=w.trim(),e[166]=w,e[167]=Gs):Gs=e[167];const At=!Gs;let Js;e[168]===Symbol.for("react.memo_cache_sentinel")?(Js=s.jsx(da,{className:"h-4 w-4 mr-2"}),e[168]=Js):Js=e[168];let we;e[169]!==Mt||e[170]!==At?(we=s.jsx(ft,{children:s.jsxs(d,{className:"w-full",onClick:Mt,disabled:At,children:[Js,"Envoyer le message"]})}),e[169]=Mt,e[170]=At,e[171]=we):we=e[171];let Se;e[172]!==_e||e[173]!==we?(Se=s.jsxs(b,{children:[Ls,_e,we]}),e[172]=_e,e[173]=we,e[174]=Se):Se=e[174];let Xs;e[175]===Symbol.for("react.memo_cache_sentinel")?(Xs=s.jsx(P,{children:s.jsx(F,{children:"Contacts rapides"})}),e[175]=Xs):Xs=e[175];let Qs;e[176]===Symbol.for("react.memo_cache_sentinel")?(Qs=s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[s.jsx(Ha,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Secrétariat"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"01 23 45 67 89"})]})]}),e[176]=Qs):Qs=e[176];let Ks;e[177]===Symbol.for("react.memo_cache_sentinel")?(Ks=s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[s.jsx(Va,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Email général"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"contact@ecole.fr"})]})]}),e[177]=Ks):Ks=e[177];let Ws;e[178]===Symbol.for("react.memo_cache_sentinel")?(Ws=s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[s.jsx(Ia,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Adresse"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"123 Rue de l'École, 75000 Paris"})]})]}),e[178]=Ws):Ws=e[178];let Ys;e[179]===Symbol.for("react.memo_cache_sentinel")?(Ys=s.jsxs(b,{children:[Xs,s.jsxs(y,{className:"space-y-3",children:[Qs,Ks,Ws,s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[s.jsx(gt,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Horaires secrétariat"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Lun-Ven: 8h-12h, 13h-17h"})]})]})]})]}),e[179]=Ys):Ys=e[179];let Ce;e[180]!==Se?(Ce=s.jsxs("div",{className:"space-y-6",children:[Se,Ys]}),e[180]=Se,e[181]=Ce):Ce=e[181];let De;e[182]!==Ce||e[183]!==je?(De=s.jsx(ut,{value:"communications",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[je,Ce]})}),e[182]=Ce,e[183]=je,e[184]=De):De=e[184];let Zs;e[185]===Symbol.for("react.memo_cache_sentinel")?(Zs=s.jsxs(F,{className:"flex items-center gap-2",children:[s.jsx(Qt,{className:"h-5 w-5"}),"Bulletins scolaires"]}),e[185]=Zs):Zs=e[185];let Me;e[186]!==a.prenom?(Me=s.jsxs(P,{children:[Zs,s.jsxs(Ke,{children:["Bulletins trimestriels de ",a.prenom]})]}),e[186]=a.prenom,e[187]=Me):Me=e[187];let Te;if(e[188]!==C||e[189]!==a.classe.nom){let n;e[191]!==a.classe.nom?(n=l=>s.jsxs("div",{className:"p-6 border rounded-lg hover:border-primary transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg",children:l.periode}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Classe: ",a.classe.nom]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`text-3xl font-bold ${Ze(l.moyenne_generale)}`,children:[l.moyenne_generale.toFixed(2)," / 20"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Rang: ",l.rang,"/",l.effectif_classe]})]})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("p",{className:"text-sm italic text-muted-foreground",children:['"',l.appreciation,'"']})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:l.matieres.slice(0,4).map((g,es)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:g.matiere}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Coef. ",g.coefficient]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:`font-bold ${Ze(g.moyenne)}`,children:[g.moyenne.toFixed(1)," / 20"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:g.appreciation})]})]},es))}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.matieres.length," matières"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(d,{variant:"outline",size:"sm",onClick:()=>{Na(l),Dt(!0)},children:[s.jsx(Wt,{className:"h-4 w-4 mr-2"}),"Voir détail"]}),s.jsxs(d,{variant:"outline",size:"sm",children:[s.jsx(ts,{className:"h-4 w-4 mr-2"}),"PDF"]}),s.jsxs(d,{variant:"outline",size:"sm",children:[s.jsx(oa,{className:"h-4 w-4 mr-2"}),"Imprimer"]})]})]})]},l.id),e[191]=a.classe.nom,e[192]=n):n=e[192],Te=C.map(n),e[188]=C,e[189]=a.classe.nom,e[190]=Te}else Te=e[190];let Pe;e[193]!==Te?(Pe=s.jsx(y,{children:s.jsx("div",{className:"space-y-4",children:Te})}),e[193]=Te,e[194]=Pe):Pe=e[194];let et;e[195]===Symbol.for("react.memo_cache_sentinel")?(et=s.jsx("div",{className:"text-sm text-muted-foreground",children:"Prochain bulletin: Fin Avril 2024"}),e[195]=et):et=e[195];let st;e[196]===Symbol.for("react.memo_cache_sentinel")?(st=s.jsxs(ft,{className:"flex justify-between",children:[et,s.jsxs(d,{variant:"outline",children:[s.jsx(ts,{className:"h-4 w-4 mr-2"}),"Télécharger tous les bulletins"]})]}),e[196]=st):st=e[196];let Fe;e[197]!==Me||e[198]!==Pe?(Fe=s.jsxs(b,{children:[Me,Pe,st]}),e[197]=Me,e[198]=Pe,e[199]=Fe):Fe=e[199];let tt;e[200]===Symbol.for("react.memo_cache_sentinel")?(tt=s.jsxs(P,{children:[s.jsx(F,{children:"Évolution des résultats"}),s.jsx(Ke,{children:"Progression de la moyenne générale"})]}),e[200]=tt):tt=e[200];let Be;e[201]!==C?(Be=C.map((n,l)=>s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-sm font-medium",children:n.periode}),s.jsxs("span",{className:`text-sm font-bold ${Ze(n.moyenne_generale)}`,children:[n.moyenne_generale.toFixed(2)," / 20"]})]}),s.jsx(pt,{value:n.moyenne_generale*5,className:"h-3"}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mt-1",children:[s.jsxs("span",{children:["Rang: ",n.rang,"/",n.effectif_classe]}),l>0&&s.jsxs("span",{className:n.moyenne_generale>C[l-1].moyenne_generale?"text-green-600":"text-red-600",children:[n.moyenne_generale>C[l-1].moyenne_generale?"↗":"↘",Math.abs(n.moyenne_generale-C[l-1].moyenne_generale).toFixed(2)," pts"]})]})]})},n.id)),e[201]=C,e[202]=Be):Be=e[202];let Ee;e[203]!==Be?(Ee=s.jsxs(b,{children:[tt,s.jsx(y,{children:s.jsx("div",{className:"space-y-4",children:Be})})]}),e[203]=Be,e[204]=Ee):Ee=e[204];let ke;e[205]!==Fe||e[206]!==Ee?(ke=s.jsxs(ut,{value:"bulletins",className:"space-y-6",children:[Fe,Ee]}),e[205]=Fe,e[206]=Ee,e[207]=ke):ke=e[207];let Re;e[208]!==De||e[209]!==ke||e[210]!==K||e[211]!==xe?(Re=s.jsxs(Sa,{defaultValue:"notes",className:"space-y-6",children:[us,K,xe,De,ke]}),e[208]=De,e[209]=ke,e[210]=K,e[211]=xe,e[212]=Re):Re=e[212];let at;e[213]===Symbol.for("react.memo_cache_sentinel")?(at=s.jsx(ea,{children:s.jsxs(ta,{className:"flex items-center gap-2",children:[s.jsx(Kt,{className:"h-5 w-5"}),"Détail de la note"]})}),e[213]=at):at=e[213];let $e;e[214]!==x?($e=x&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Matière"}),s.jsx("p",{className:"font-medium",children:x.matiere})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),s.jsx(o,{variant:"outline",children:x.type})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Note"}),s.jsxs("p",{className:`text-2xl font-bold ${ia(x.note,x.note_sur)}`,children:[x.note," / ",x.note_sur]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pourcentage"}),s.jsxs("p",{className:"font-medium",children:[(x.note/x.note_sur*100).toFixed(1),"%"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),s.jsx("p",{className:"font-medium",children:new Date(x.date).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Professeur"}),s.jsx("p",{className:"font-medium",children:x.professeur})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Coefficient"}),s.jsx("p",{className:"font-medium",children:x.coefficient})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Appréciation"}),s.jsx("div",{className:"p-3 bg-muted rounded-lg",children:s.jsx("p",{className:"italic",children:x.appreciation})})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Impact sur la moyenne"}),s.jsx(pt,{value:x.note/x.note_sur*100,className:"h-2"}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[s.jsx("span",{children:"0"}),s.jsx("span",{children:"10"}),s.jsx("span",{children:"20"})]})]})]}),e[214]=x,e[215]=$e):$e=e[215];let lt;e[216]===Symbol.for("react.memo_cache_sentinel")?(lt=s.jsx(d,{variant:"outline",onClick:()=>_t(!1),children:"Fermer"}),e[216]=lt):lt=e[216];let rt;e[217]===Symbol.for("react.memo_cache_sentinel")?(rt=s.jsxs(sa,{children:[lt,s.jsxs(d,{children:[s.jsx(ts,{className:"h-4 w-4 mr-2"}),"Télécharger"]})]}),e[217]=rt):rt=e[217];let Le;e[218]!==$e?(Le=s.jsxs(Zt,{className:"sm:max-w-md",children:[at,$e,rt]}),e[218]=$e,e[219]=Le):Le=e[219];let ze;e[220]!==yt||e[221]!==Le?(ze=s.jsx(Yt,{open:yt,onOpenChange:_t,children:Le}),e[220]=yt,e[221]=Le,e[222]=ze):ze=e[222];let it;e[223]===Symbol.for("react.memo_cache_sentinel")?(it=s.jsx(ea,{children:s.jsxs(ta,{className:"flex items-center gap-2",children:[s.jsx(jt,{className:"h-5 w-5"}),"Détail de la présence"]})}),e[223]=it):it=e[223];let Ae;e[224]!==f?(Ae=f&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),s.jsx("p",{className:"font-medium text-lg",children:new Date(f.date).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),ra(f.statut)]}),f.heure_arrivee&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Heure d'arrivée"}),s.jsx("p",{className:"font-medium",children:f.heure_arrivee})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Heure de départ"}),s.jsx("p",{className:"font-medium",children:f.heure_depart||"--:--"})]})]}),f.retard_minutes&&s.jsx("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gt,{className:"h-4 w-4 text-amber-600"}),s.jsxs("p",{className:"font-medium text-amber-800",children:["Retard de ",f.retard_minutes," minutes"]})]})}),f.raison_absence&&s.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-medium text-blue-800",children:"Raison de l'absence"}),s.jsx("p",{className:"text-blue-700",children:f.raison_absence}),f.justificatif&&s.jsx(o,{variant:"outline",className:"bg-green-100",children:"Justificatif fourni"})]})}),f.cours.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cours de la journée"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:f.cours.map(Qa)})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Action"}),s.jsxs("div",{className:"flex gap-2",children:[f.statut==="absent"&&!f.justificatif&&s.jsxs(d,{className:"flex-1",children:[s.jsx(ma,{className:"h-4 w-4 mr-2"}),"Envoyer justificatif"]}),s.jsxs(d,{variant:"outline",className:"flex-1",children:[s.jsx(Xt,{className:"h-4 w-4 mr-2"}),"Contacter l'école"]})]})]})]}),e[224]=f,e[225]=Ae):Ae=e[225];let nt;e[226]===Symbol.for("react.memo_cache_sentinel")?(nt=s.jsx(sa,{children:s.jsx(d,{variant:"outline",onClick:()=>St(!1),children:"Fermer"})}),e[226]=nt):nt=e[226];let qe;e[227]!==Ae?(qe=s.jsxs(Zt,{className:"sm:max-w-md",children:[it,Ae,nt]}),e[227]=Ae,e[228]=qe):qe=e[228];let He;e[229]!==wt||e[230]!==qe?(He=s.jsx(Yt,{open:wt,onOpenChange:St,children:qe}),e[229]=wt,e[230]=qe,e[231]=He):He=e[231];let ct;e[232]===Symbol.for("react.memo_cache_sentinel")?(ct=s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qt,{className:"h-5 w-5"}),"Bulletin scolaire"]}),e[232]=ct):ct=e[232];const qt=a?.classe.nom;let Ve;e[233]!==qt?(Ve=s.jsx(o,{variant:"outline",children:qt}),e[233]=qt,e[234]=Ve):Ve=e[234];const Ht=S?.periode;let Ie;e[235]!==Ht?(Ie=s.jsx(o,{variant:"outline",children:Ht}),e[235]=Ht,e[236]=Ie):Ie=e[236];let Oe;e[237]!==Ve||e[238]!==Ie?(Oe=s.jsxs(ta,{className:"flex items-center justify-between",children:[ct,s.jsxs("div",{className:"flex items-center gap-2",children:[Ve,Ie]})]}),e[237]=Ve,e[238]=Ie,e[239]=Oe):Oe=e[239];const Vt=a?.prenom,It=a?.nom;let Ue;e[240]!==Vt||e[241]!==It?(Ue=s.jsxs(Xa,{children:["Détail complet du bulletin de ",Vt," ",It]}),e[240]=Vt,e[241]=It,e[242]=Ue):Ue=e[242];let Ge;e[243]!==Oe||e[244]!==Ue?(Ge=s.jsxs(ea,{children:[Oe,Ue]}),e[243]=Oe,e[244]=Ue,e[245]=Ge):Ge=e[245];let Je;e[246]!==S||e[247]!==a.classe.nom||e[248]!==a.classe.professeur_principal||e[249]!==a.matricule||e[250]!==a.nom||e[251]!==a.prenom?(Je=S&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"border rounded-lg p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Élève"}),s.jsxs("p",{className:"font-bold text-lg",children:[a?.prenom," ",a?.nom]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Matricule: ",a?.matricule]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Classe"}),s.jsx("p",{className:"font-bold text-lg",children:a?.classe.nom}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Professeur principal: ",a?.classe.professeur_principal]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Moyenne générale"}),s.jsxs("p",{className:`text-4xl font-bold ${Ze(S.moyenne_generale)}`,children:[S.moyenne_generale.toFixed(2)," / 20"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Rang: ",S.rang,"/",S.effectif_classe]})]})]})}),s.jsxs("div",{className:"border rounded-lg p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"Appréciation générale"}),s.jsxs("p",{className:"text-muted-foreground italic",children:['"',S.appreciation,'"']})]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Ot,{children:[s.jsx(Ut,{children:s.jsxs(We,{children:[s.jsx(h,{children:"Matière"}),s.jsx(h,{children:"Coefficient"}),s.jsx(h,{children:"Moyenne"}),s.jsx(h,{children:"Appréciation"}),s.jsx(h,{children:"Évolution"})]})}),s.jsx(Gt,{children:S.matieres.map((n,l)=>s.jsxs(We,{children:[s.jsx(u,{className:"font-medium",children:n.matiere}),s.jsx(u,{children:n.coefficient}),s.jsx(u,{children:s.jsxs("span",{className:`font-bold ${Ze(n.moyenne)}`,children:[n.moyenne.toFixed(1)," / 20"]})}),s.jsx(u,{children:s.jsx("div",{className:"text-sm",children:n.appreciation})}),s.jsx(u,{children:l%3===0?s.jsxs("div",{className:"flex items-center text-green-600",children:[s.jsx(na,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:"+1.2"})]}):l%3===1?s.jsxs("div",{className:"flex items-center text-red-600",children:[s.jsx(La,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:"-0.5"})]}):s.jsx("div",{className:"flex items-center text-gray-600",children:s.jsx("span",{children:"→"})})})]},l))})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Meilleure matière"}),s.jsx("p",{className:"font-bold text-lg text-green-600",children:"Mathématiques: 16.0"})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"À améliorer"}),s.jsx("p",{className:"font-bold text-lg text-red-600",children:"Histoire-Géo: 13.0"})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Progression"}),s.jsx("p",{className:"font-bold text-lg text-green-600",children:"+0.7 points"})]})]}),s.jsxs("div",{className:"flex justify-between pt-6 border-t",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Signature du professeur principal"}),s.jsx("p",{className:"font-medium",children:a?.classe.professeur_principal})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Date d'édition"}),s.jsx("p",{className:"font-medium",children:new Date().toLocaleDateString("fr-FR")})]})]})]}),e[246]=S,e[247]=a.classe.nom,e[248]=a.classe.professeur_principal,e[249]=a.matricule,e[250]=a.nom,e[251]=a.prenom,e[252]=Je):Je=e[252];let ot;e[253]===Symbol.for("react.memo_cache_sentinel")?(ot=s.jsxs(d,{variant:"outline",children:[s.jsx(oa,{className:"h-4 w-4 mr-2"}),"Imprimer"]}),e[253]=ot):ot=e[253];let mt;e[254]===Symbol.for("react.memo_cache_sentinel")?(mt=s.jsxs(d,{variant:"outline",children:[s.jsx(ts,{className:"h-4 w-4 mr-2"}),"PDF"]}),e[254]=mt):mt=e[254];let dt;e[255]===Symbol.for("react.memo_cache_sentinel")?(dt=s.jsxs(sa,{className:"gap-2",children:[ot,mt,s.jsx(d,{onClick:()=>Dt(!1),children:"Fermer"})]}),e[255]=dt):dt=e[255];let Xe;e[256]!==Ge||e[257]!==Je?(Xe=s.jsxs(Zt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[Ge,Je,dt]}),e[256]=Ge,e[257]=Je,e[258]=Xe):Xe=e[258];let Qe;e[259]!==Ct||e[260]!==Xe?(Qe=s.jsx(Yt,{open:Ct,onOpenChange:Dt,children:Xe}),e[259]=Ct,e[260]=Xe,e[261]=Qe):Qe=e[261];let xt;return e[262]!==Re||e[263]!==ze||e[264]!==He||e[265]!==Qe||e[266]!==$?(xt=s.jsxs(s.Fragment,{children:[os,s.jsxs($a,{activeRoute:"/parent/dashboard",children:[$,Re,ze,He,Qe]})]}),e[262]=Re,e[263]=ze,e[264]=He,e[265]=Qe,e[266]=$,e[267]=xt):xt=e[267],xt}function Qa(e,t){return s.jsx(o,{variant:"outline",className:"text-sm",children:e},t)}function Ka(e){return!e.lu}function Wa(e){return!e.lu}function Ya(e){return s.jsx("div",{className:"font-medium text-sm py-2",children:e},e)}function Za(e){return e.statut==="present"}function el(e,t){return s.jsx(o,{variant:"outline",className:"text-xs",children:e},t)}function sl(e){return e.statut==="absent"}function tl(e){return e.statut==="present"}function al(e,t){return e+t.note}function ll(e,t){return e+t.note}function rl(e){return!e.lu}function il(e){return!e.lu}function nl(e){return!e.lu}function cl(e){return e>=15?"text-green-600":e>=12?"text-amber-600":"text-red-600"}function ol(e,t){const r=e/t*100;return r>=80?"text-green-600":r>=60?"text-amber-600":"text-red-600"}function ml(e){const t={info:{variant:"default",label:"Information"},urgence:{variant:"destructive",label:"Urgent"},culturel:{variant:"outline",label:"Culturel"},financier:{variant:"secondary",label:"Financier"},general:{variant:"outline",label:"Général"}},{variant:r,label:i}=t[e];return s.jsx(o,{variant:r,children:i})}function dl(e){const t={present:{variant:"success",icon:fa,label:"Présent"},absent:{variant:"destructive",icon:ha,label:"Absent"},retard:{variant:"warning",icon:gt,label:"Retard"},exclu:{variant:"secondary",icon:aa,label:"Exclu"},malade:{variant:"info",icon:aa,label:"Malade"}},{variant:r,icon:i,label:a}=t[e];return s.jsxs(o,{variant:r,className:"flex items-center gap-1",children:[s.jsx(i,{className:"h-3 w-3"}),a]})}export{Xl as default};
