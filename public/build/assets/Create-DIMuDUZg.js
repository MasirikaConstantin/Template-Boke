import{c as Ae,u as De,r as Le,j as s,H as Fe,L as ue}from"./app-D-231Fnt.js";import{B as fe}from"./index-C-s1mqx-.js";import{I as he}from"./input-sUimVrWt.js";import{L as V}from"./label-BpHohAFE.js";import{T as Ie}from"./textarea-BTp-jQ2g.js";import{S as _e,a as je,b as ve,c as be,d as xe}from"./select-X6BbxeMk.js";import{b as Ne,c as ye,C as Pe,a as Ee,d as He}from"./card-BjtGhsWn.js";import{A as Re,a as Ve}from"./alert-Fsv0Ayvc.js";import{T as ke,a as Se,b as ge,c as Be}from"./tabs-Bo3V_eSu.js";import{c as Me,D as Oe}from"./DashboardLayout-D6ki3XIQ.js";import{P as $e}from"./PageHeader-odzADJsY.js";import{C as qe}from"./circle-alert-BtBp8amo.js";import{A as ze}from"./arrow-left-JsMND5gr.js";import{S as Ue}from"./school-QCZKb4t8.js";/* empty css            */import"./index-DSBDNaI8.js";import"./user-DOQl8h22.js";import"./house-Bh8iUq9b.js";function ps(c){const e=Ae.c(108),{professeurs:k,sections:B}=c;let M;e[0]===Symbol.for("react.memo_cache_sentinel")?(M={nom_classe:"",niveau:"primaire",section:"",professeur_principal_id:"",capacite_max:30,description:""},e[0]=M):M=e[0];const{data:i,setData:a,post:oe,processing:O,errors:t}=De(M),[r,Ce]=Le.useState("primaire");let $;e[1]!==oe?($=l=>{l.preventDefault(),oe("/classes")},e[1]=oe,e[2]=$):$=e[2];const me=$;let q;e[3]!==a?(q=l=>{Ce(l),a("niveau",l),l==="primaire"&&a("section","")},e[3]=a,e[4]=q):q=e[4];const de=q;let z;e[5]===Symbol.for("react.memo_cache_sentinel")?(z=[{value:"primaire",label:"Primaire",icon:"üìö"},{value:"secondaire",label:"Secondaire",icon:"üéì"}],e[5]=z):z=e[5];const Te=z;console.log(B);let U;e[6]===Symbol.for("react.memo_cache_sentinel")?(U=s.jsx(Fe,{title:"Cr√©er une classe"}),e[6]=U):U=e[6];let G;e[7]===Symbol.for("react.memo_cache_sentinel")?(G=[{label:"Dashboard",href:"/dashboard"},{label:"Classes",href:"/classes"},{label:"Cr√©er",href:"/classes/create"}],e[7]=G):G=e[7];let J;e[8]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsx($e,{title:"Cr√©er une classe",breadcrumb:G,actions:s.jsx(ue,{href:"/classes",children:s.jsxs(fe,{variant:"outline",children:[s.jsx(ze,{className:"h-4 w-4 mr-2"}),"Retour"]})})}),e[8]=J):J=e[8];let K;e[9]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsxs(Pe,{children:[s.jsxs(Ee,{className:"flex items-center gap-2",children:[s.jsx(Ue,{className:"h-5 w-5"}),"Nouvelle classe"]}),s.jsx(He,{children:"Cr√©ez une nouvelle classe en remplissant les informations ci-dessous"})]}),e[9]=K):K=e[9];let n;e[10]!==t.nom_classe?(n=t.nom_classe&&s.jsxs(Re,{variant:"destructive",children:[s.jsx(qe,{className:"h-4 w-4"}),s.jsx(Ve,{children:t.nom_classe})]}),e[10]=t.nom_classe,e[11]=n):n=e[11];let Q;e[12]===Symbol.for("react.memo_cache_sentinel")?(Q=s.jsxs(ke,{className:"grid w-full grid-cols-2",children:[s.jsx(Se,{value:"infos",children:"Informations"}),s.jsx(Se,{value:"details",children:"D√©tails"})]}),e[12]=Q):Q=e[12];let W;e[13]===Symbol.for("react.memo_cache_sentinel")?(W=s.jsx(V,{htmlFor:"nom_classe",children:"Nom de la classe *"}),e[13]=W):W=e[13];let o;e[14]!==a?(o=l=>a("nom_classe",l.target.value),e[14]=a,e[15]=o):o=e[15];let m;e[16]!==i.nom_classe||e[17]!==o?(m=s.jsx(he,{id:"nom_classe",value:i.nom_classe,onChange:o,placeholder:"Ex: 6√®me A, Terminale S, CP...",required:!0,autoFocus:!0}),e[16]=i.nom_classe,e[17]=o,e[18]=m):m=e[18];let d;e[19]!==t.nom_classe?(d=t.nom_classe&&s.jsx("p",{className:"text-sm text-destructive",children:t.nom_classe}),e[19]=t.nom_classe,e[20]=d):d=e[20];let p;e[21]!==m||e[22]!==d?(p=s.jsxs("div",{className:"space-y-2",children:[W,m,d]}),e[21]=m,e[22]=d,e[23]=p):p=e[23];let X;e[24]===Symbol.for("react.memo_cache_sentinel")?(X=s.jsx(V,{children:"Niveau *"}),e[24]=X):X=e[24];let f;e[25]!==de||e[26]!==r?(f=s.jsx("div",{className:"grid grid-cols-2 gap-4",children:Te.map(l=>s.jsx(Ne,{className:`cursor-pointer transition-all ${r===l.value?"border-primary ring-2 ring-primary/20":"hover:border-border"}`,onClick:()=>de(l.value),children:s.jsxs(ye,{className:"p-4 flex items-center gap-3",children:[s.jsx("div",{className:"text-2xl",children:l.icon}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:l.label}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.value==="primaire"?"CP au CM2":"6√®me √† Terminale"})]})]})},l.value))}),e[25]=de,e[26]=r,e[27]=f):f=e[27];let x;e[28]!==r?(x=s.jsx("input",{type:"hidden",name:"niveau",value:r}),e[28]=r,e[29]=x):x=e[29];let u;e[30]!==t.niveau?(u=t.niveau&&s.jsx("p",{className:"text-sm text-destructive",children:t.niveau}),e[30]=t.niveau,e[31]=u):u=e[31];let h;e[32]!==f||e[33]!==x||e[34]!==u?(h=s.jsxs("div",{className:"space-y-2",children:[X,f,x,u]}),e[32]=f,e[33]=x,e[34]=u,e[35]=h):h=e[35];let _;e[36]!==i.section||e[37]!==t.section||e[38]!==B||e[39]!==r||e[40]!==a?(_=r==="secondaire"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"section",children:"Section *"}),s.jsxs(_e,{value:i.section,onValueChange:l=>a("section",l),children:[s.jsx(je,{children:s.jsx(ve,{placeholder:"S√©lectionner une section"})}),s.jsx(be,{children:Object.entries(B).map(Je)})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"La section d√©termine la sp√©cialit√© de la classe"}),t.section&&s.jsx("p",{className:"text-sm text-destructive",children:t.section})]}),e[36]=i.section,e[37]=t.section,e[38]=B,e[39]=r,e[40]=a,e[41]=_):_=e[41];let Y;e[42]===Symbol.for("react.memo_cache_sentinel")?(Y=s.jsx(V,{htmlFor:"capacite_max",children:"Capacit√© maximale *"}),e[42]=Y):Y=e[42];let j;e[43]!==a?(j=l=>a("capacite_max",parseInt(l.target.value)||30),e[43]=a,e[44]=j):j=e[44];let v;e[45]!==i.capacite_max||e[46]!==j?(v=s.jsx(he,{id:"capacite_max",type:"number",min:"1",max:"100",value:i.capacite_max,onChange:j,className:"pl-10"}),e[45]=i.capacite_max,e[46]=j,e[47]=v):v=e[47];let Z;e[48]===Symbol.for("react.memo_cache_sentinel")?(Z=s.jsx(Me,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e[48]=Z):Z=e[48];let b;e[49]!==v?(b=s.jsxs("div",{className:"relative",children:[v,Z]}),e[49]=v,e[50]=b):b=e[50];let ee;e[51]===Symbol.for("react.memo_cache_sentinel")?(ee=s.jsx("p",{className:"text-xs text-muted-foreground",children:"Nombre maximum d'√©l√®ves dans la classe"}),e[51]=ee):ee=e[51];let N;e[52]!==t.capacite_max?(N=t.capacite_max&&s.jsx("p",{className:"text-sm text-destructive",children:t.capacite_max}),e[52]=t.capacite_max,e[53]=N):N=e[53];let y;e[54]!==b||e[55]!==N?(y=s.jsxs("div",{className:"space-y-2",children:[Y,b,ee,N]}),e[54]=b,e[55]=N,e[56]=y):y=e[56];let S;e[57]!==p||e[58]!==h||e[59]!==_||e[60]!==y?(S=s.jsxs(ge,{value:"infos",className:"space-y-6 pt-6",children:[p,h,_,y]}),e[57]=p,e[58]=h,e[59]=_,e[60]=y,e[61]=S):S=e[61];let se;e[62]===Symbol.for("react.memo_cache_sentinel")?(se=s.jsx(V,{htmlFor:"professeur_principal_id",children:"Professeur principal"}),e[62]=se):se=e[62];const we=i.professeur_principal_id;let g;e[63]!==a?(g=l=>a("professeur_principal_id",l),e[63]=a,e[64]=g):g=e[64];let te;e[65]===Symbol.for("react.memo_cache_sentinel")?(te=s.jsx(je,{children:s.jsx(ve,{placeholder:"S√©lectionner un professeur"})}),e[65]=te):te=e[65];let le;e[66]===Symbol.for("react.memo_cache_sentinel")?(le=s.jsx(xe,{value:"rien",children:"Aucun (√† assigner plus tard)"}),e[66]=le):le=e[66];let C;e[67]!==k?(C=k.map(Ge),e[67]=k,e[68]=C):C=e[68];let T;e[69]!==C?(T=s.jsxs(be,{children:[le,C]}),e[69]=C,e[70]=T):T=e[70];let w;e[71]!==i.professeur_principal_id||e[72]!==g||e[73]!==T?(w=s.jsxs(_e,{value:we,onValueChange:g,children:[te,T]}),e[71]=i.professeur_principal_id,e[72]=g,e[73]=T,e[74]=w):w=e[74];let ae;e[75]===Symbol.for("react.memo_cache_sentinel")?(ae=s.jsx("p",{className:"text-xs text-muted-foreground",children:"Le professeur principal sera responsable de cette classe"}),e[75]=ae):ae=e[75];let A;e[76]!==t.professeur_principal_id?(A=t.professeur_principal_id&&s.jsx("p",{className:"text-sm text-destructive",children:t.professeur_principal_id}),e[76]=t.professeur_principal_id,e[77]=A):A=e[77];let D;e[78]!==w||e[79]!==A?(D=s.jsxs("div",{className:"space-y-2",children:[se,w,ae,A]}),e[78]=w,e[79]=A,e[80]=D):D=e[80];let ie;e[81]===Symbol.for("react.memo_cache_sentinel")?(ie=s.jsx(V,{htmlFor:"description",children:"Description"}),e[81]=ie):ie=e[81];let L;e[82]!==a?(L=l=>a("description",l.target.value),e[82]=a,e[83]=L):L=e[83];let F;e[84]!==i.description||e[85]!==L?(F=s.jsx(Ie,{id:"description",value:i.description,onChange:L,placeholder:"Informations suppl√©mentaires sur la classe...",rows:4}),e[84]=i.description,e[85]=L,e[86]=F):F=e[86];let re;e[87]===Symbol.for("react.memo_cache_sentinel")?(re=s.jsx("p",{className:"text-xs text-muted-foreground",children:"Optionnel - Maximum 500 caract√®res"}),e[87]=re):re=e[87];let I;e[88]!==t.description?(I=t.description&&s.jsx("p",{className:"text-sm text-destructive",children:t.description}),e[88]=t.description,e[89]=I):I=e[89];let P;e[90]!==F||e[91]!==I?(P=s.jsxs("div",{className:"space-y-2",children:[ie,F,re,I]}),e[90]=F,e[91]=I,e[92]=P):P=e[92];let E;e[93]!==D||e[94]!==P?(E=s.jsxs(ge,{value:"details",className:"space-y-6 pt-6",children:[D,P]}),e[93]=D,e[94]=P,e[95]=E):E=e[95];let H;e[96]!==S||e[97]!==E?(H=s.jsxs(Be,{defaultValue:"infos",className:"w-full",children:[Q,S,E]}),e[96]=S,e[97]=E,e[98]=H):H=e[98];let ce;e[99]===Symbol.for("react.memo_cache_sentinel")?(ce=s.jsx(ue,{href:"/classes",children:s.jsx(fe,{type:"button",variant:"outline",children:"Annuler"})}),e[99]=ce):ce=e[99];const pe=O?"Cr√©ation en cours...":"Cr√©er la classe";let R;e[100]!==O||e[101]!==pe?(R=s.jsxs("div",{className:"flex items-center justify-end gap-4 pt-6 border-t",children:[ce,s.jsx(fe,{type:"submit",disabled:O,children:pe})]}),e[100]=O,e[101]=pe,e[102]=R):R=e[102];let ne;return e[103]!==me||e[104]!==H||e[105]!==R||e[106]!==n?(ne=s.jsxs(s.Fragment,{children:[U,s.jsxs(Oe,{activeRoute:"/classes",children:[J,s.jsxs(Ne,{className:"max-w-4xl mx-auto",children:[K,s.jsx(ye,{children:s.jsxs("form",{onSubmit:me,className:"space-y-6",children:[n,H,R]})})]})]})]}),e[103]=me,e[104]=H,e[105]=R,e[106]=n,e[107]=ne):ne=e[107],ne}function Ge(c){return s.jsxs(xe,{value:c.id.toString(),children:[c.name," - ",c.email]},c.id)}function Je(c){const[e,k]=c;return s.jsx(xe,{value:e,children:k},e)}export{ps as default};
