import{c as Pe,u as Qe,j as t,H as We,L as Ve}from"./app-In9Nik1Q.js";import{B as He}from"./createLucideIcon-CJEMehIl.js";import{I as Xe}from"./input-BKhsy59J.js";import{L as de}from"./label-Cm8C5Mii.js";import{T as Ze}from"./textarea-D9aySDp_.js";import{C as et}from"./checkbox-BB6ahrso.js";import{c as Ie,S as Ue,b as $e,a as Ye,d as Je}from"./select-mmo_1uEQ.js";import{A as qe,a as Ge}from"./alert-DhXtjLml.js";import{b as tt,C as st,a as lt,d as nt,c as it}from"./card-B7H-GhDV.js";import{D as at,g as rt}from"./DashboardLayout-CEDYoFZ2.js";import{A as ot}from"./arrow-left-Bto5bA9e.js";import{C as ct}from"./users-ChxHvb98.js";import{S as mt}from"./save-MqOHBf40.js";/* empty css            */import"./index-BIIT_sWW.js";import"./index-4tvNYTB1.js";import"./check-DMKTNXWm.js";import"./user-dx_iuRNG.js";function kt(a){const e=Pe.c(182),{budget:s,flash:r}=a,Le=s.description||"";let pe;e[0]!==s.annee||e[1]!==s.est_actif||e[2]!==s.mois||e[3]!==s.montant_alloue||e[4]!==Le?(pe={annee:s.annee,mois:s.mois,montant_alloue:s.montant_alloue,description:Le,est_actif:s.est_actif},e[0]=s.annee,e[1]=s.est_actif,e[2]=s.mois,e[3]=s.montant_alloue,e[4]=Le,e[5]=pe):pe=e[5];const{data:n,setData:i,errors:l,processing:he,put:fe}=Qe(pe);let b,g,v,y,N,_,o,S,C,c,F,m,d,f,D,u,M,w,p,h,A,x,T;if(e[6]!==s.annee||e[7]!==s.id||e[8]!==s.mois||e[9]!==s.montant_depense||e[10]!==n.annee||e[11]!==n.mois||e[12]!==l.annee||e[13]!==l.mois||e[14]!==r||e[15]!==fe||e[16]!==i){const j=["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"];let Se;e[40]===Symbol.for("react.memo_cache_sentinel")?(Se=Array.from({length:5},pt),e[40]=Se):Se=e[40];const Ke=Se;let Ce;e[41]!==s.id||e[42]!==fe?(Ce=ue=>{ue.preventDefault(),fe(`/budgets/${s.id}`)},e[41]=s.id,e[42]=fe,e[43]=Ce):Ce=e[43];const Oe=Ce;_=ut,e[44]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsx(We,{title:"Modifier le budget"}),e[44]=u):u=e[44],N=at,D="/budgets",F="space-y-6";let le;e[45]!==s.annee||e[46]!==s.mois?(le=t.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:["Modifier le budget ",s.mois," ",s.annee]}),e[45]=s.annee,e[46]=s.mois,e[47]=le):le=e[47];let ne;e[48]!==s.montant_depense?(ne=_(s.montant_depense),e[48]=s.montant_depense,e[49]=ne):ne=e[49];let ie;e[50]!==ne?(ie=t.jsxs("p",{className:"text-muted-foreground",children:["Montant déjà dépensé: ",ne]}),e[50]=ne,e[51]=ie):ie=e[51];let ae;e[52]!==le||e[53]!==ie?(ae=t.jsxs("div",{children:[le,ie]}),e[52]=le,e[53]=ie,e[54]=ae):ae=e[54];let Fe;e[55]===Symbol.for("react.memo_cache_sentinel")?(Fe=t.jsx(Ve,{href:"/budgets",children:t.jsxs(He,{variant:"outline",children:[t.jsx(ot,{className:"h-4 w-4 mr-2"}),"Retour à la liste"]})}),e[55]=Fe):Fe=e[55],e[56]!==ae?(m=t.jsxs("div",{className:"flex items-center justify-between",children:[ae,Fe]}),e[56]=ae,e[57]=m):m=e[57],e[58]!==r?(d=r?.success&&t.jsx(qe,{className:"bg-green-50 border-green-200",children:t.jsx(Ge,{children:r.success})}),e[58]=r,e[59]=d):d=e[59],e[60]!==r?(f=r?.error&&t.jsx(qe,{variant:"destructive",children:t.jsx(Ge,{children:r.error})}),e[60]=r,e[61]=f):f=e[61],y=tt,e[62]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsxs(st,{children:[t.jsxs(lt,{className:"flex items-center gap-2",children:[t.jsx(rt,{className:"h-5 w-5"}),"Informations du budget"]}),t.jsx(nt,{children:"Modifiez les détails de ce budget"})]}),e[62]=c):c=e[62],v=it,S=Oe,C="space-y-6",T="grid grid-cols-1 md:grid-cols-2 gap-6";let De;e[63]===Symbol.for("react.memo_cache_sentinel")?(De=t.jsx(de,{htmlFor:"annee",children:"Année *"}),e[63]=De):De=e[63];let re;e[64]!==i?(re=ue=>i("annee",ue),e[64]=i,e[65]=re):re=e[65];const ze=l.annee?"border-destructive":"";let Me,we;e[66]===Symbol.for("react.memo_cache_sentinel")?(Me=t.jsx(ct,{className:"h-4 w-4 mr-2"}),we=t.jsx($e,{placeholder:"Sélectionnez l'année"}),e[66]=Me,e[67]=we):(Me=e[66],we=e[67]);let oe;e[68]!==ze?(oe=t.jsxs(Ye,{className:ze,children:[Me,we]}),e[68]=ze,e[69]=oe):oe=e[69];let Ae;e[70]===Symbol.for("react.memo_cache_sentinel")?(Ae=t.jsx(Ie,{children:Ke.map(ft)}),e[70]=Ae):Ae=e[70];let ce;e[71]!==n.annee||e[72]!==re||e[73]!==oe?(ce=t.jsxs(Ue,{value:n.annee,onValueChange:re,children:[oe,Ae]}),e[71]=n.annee,e[72]=re,e[73]=oe,e[74]=ce):ce=e[74];let me;e[75]!==l.annee?(me=l.annee&&t.jsx("p",{className:"text-sm text-destructive",children:l.annee}),e[75]=l.annee,e[76]=me):me=e[76],e[77]!==ce||e[78]!==me?(o=t.jsxs("div",{className:"space-y-2",children:[De,ce,me]}),e[77]=ce,e[78]=me,e[79]=o):o=e[79],A="space-y-2",e[80]===Symbol.for("react.memo_cache_sentinel")?(x=t.jsx(de,{htmlFor:"mois",children:"Mois *"}),e[80]=x):x=e[80],g=Ue,w=n.mois,e[81]!==i?(p=ue=>i("mois",ue),e[81]=i,e[82]=p):p=e[82];const Ee=l.mois?"border-destructive":"";let Te;e[83]===Symbol.for("react.memo_cache_sentinel")?(Te=t.jsx($e,{placeholder:"Sélectionnez le mois"}),e[83]=Te):Te=e[83],e[84]!==Ee?(h=t.jsx(Ye,{className:Ee,children:Te}),e[84]=Ee,e[85]=h):h=e[85],b=Ie,M=j.map(dt),e[6]=s.annee,e[7]=s.id,e[8]=s.mois,e[9]=s.montant_depense,e[10]=n.annee,e[11]=n.mois,e[12]=l.annee,e[13]=l.mois,e[14]=r,e[15]=fe,e[16]=i,e[17]=b,e[18]=g,e[19]=v,e[20]=y,e[21]=N,e[22]=_,e[23]=o,e[24]=S,e[25]=C,e[26]=c,e[27]=F,e[28]=m,e[29]=d,e[30]=f,e[31]=D,e[32]=u,e[33]=M,e[34]=w,e[35]=p,e[36]=h,e[37]=A,e[38]=x,e[39]=T}else b=e[17],g=e[18],v=e[19],y=e[20],N=e[21],_=e[22],o=e[23],S=e[24],C=e[25],c=e[26],F=e[27],m=e[28],d=e[29],f=e[30],D=e[31],u=e[32],M=e[33],w=e[34],p=e[35],h=e[36],A=e[37],x=e[38],T=e[39];let L;e[86]!==b||e[87]!==M?(L=t.jsx(b,{children:M}),e[86]=b,e[87]=M,e[88]=L):L=e[88];let k;e[89]!==g||e[90]!==L||e[91]!==w||e[92]!==p||e[93]!==h?(k=t.jsxs(g,{value:w,onValueChange:p,children:[h,L]}),e[89]=g,e[90]=L,e[91]=w,e[92]=p,e[93]=h,e[94]=k):k=e[94];let R;e[95]!==l.mois?(R=l.mois&&t.jsx("p",{className:"text-sm text-destructive",children:l.mois}),e[95]=l.mois,e[96]=R):R=e[96];let B;e[97]!==k||e[98]!==R||e[99]!==A||e[100]!==x?(B=t.jsxs("div",{className:A,children:[x,k,R]}),e[97]=k,e[98]=R,e[99]=A,e[100]=x,e[101]=B):B=e[101];let xe;e[102]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsx(de,{htmlFor:"montant_alloue",children:"Montant alloué (CDF) *"}),e[102]=xe):xe=e[102];let z;e[103]!==i?(z=j=>i("montant_alloue",parseFloat(j.target.value)||0),e[103]=i,e[104]=z):z=e[104];const ke=l.montant_alloue?"border-destructive":"";let E;e[105]!==s.montant_depense||e[106]!==n.montant_alloue||e[107]!==z||e[108]!==ke?(E=t.jsx(Xe,{id:"montant_alloue",type:"number",min:s.montant_depense,step:"0.01",value:n.montant_alloue,onChange:z,placeholder:"0.00",className:ke}),e[105]=s.montant_depense,e[106]=n.montant_alloue,e[107]=z,e[108]=ke,e[109]=E):E=e[109];let H;e[110]!==l.montant_alloue?(H=l.montant_alloue&&t.jsx("p",{className:"text-sm text-destructive",children:l.montant_alloue}),e[110]=l.montant_alloue,e[111]=H):H=e[111];let V;e[112]!==s.montant_depense||e[113]!==_?(V=_(s.montant_depense),e[112]=s.montant_depense,e[113]=_,e[114]=V):V=e[114];let I;e[115]!==V?(I=t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Minimum: ",V," (déjà dépensé)"]}),e[115]=V,e[116]=I):I=e[116];let U;e[117]!==E||e[118]!==H||e[119]!==I?(U=t.jsxs("div",{className:"space-y-2",children:[xe,E,H,I]}),e[117]=E,e[118]=H,e[119]=I,e[120]=U):U=e[120];let _e;e[121]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsx(de,{htmlFor:"est_actif",children:"Statut"}),e[121]=_e):_e=e[121];let $;e[122]!==i?($=j=>i("est_actif",j===!0),e[122]=i,e[123]=$):$=e[123];let Y;e[124]!==n.est_actif||e[125]!==$?(Y=t.jsx(et,{id:"est_actif",checked:n.est_actif,onCheckedChange:$}),e[124]=n.est_actif,e[125]=$,e[126]=Y):Y=e[126];let je;e[127]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx(de,{htmlFor:"est_actif",className:"cursor-pointer",children:"Budget actif"}),e[127]=je):je=e[127];let q;e[128]!==Y?(q=t.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[Y,je]}),e[128]=Y,e[129]=q):q=e[129];let be;e[130]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsx("p",{className:"text-sm text-muted-foreground",children:"Un budget actif peut recevoir de nouvelles dépenses"}),e[130]=be):be=e[130];let G;e[131]!==q?(G=t.jsxs("div",{className:"space-y-2",children:[_e,q,be]}),e[131]=q,e[132]=G):G=e[132];let ge;e[133]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx(de,{htmlFor:"description",children:"Description (optionnelle)"}),e[133]=ge):ge=e[133];let J;e[134]!==i?(J=j=>i("description",j.target.value),e[134]=i,e[135]=J):J=e[135];const Re=l.description?"border-destructive":"";let K;e[136]!==n.description||e[137]!==J||e[138]!==Re?(K=t.jsx(Ze,{id:"description",value:n.description,onChange:J,placeholder:"Description du budget...",rows:3,className:Re}),e[136]=n.description,e[137]=J,e[138]=Re,e[139]=K):K=e[139];let O;e[140]!==l.description?(O=l.description&&t.jsx("p",{className:"text-sm text-destructive",children:l.description}),e[140]=l.description,e[141]=O):O=e[141];let P;e[142]!==K||e[143]!==O?(P=t.jsxs("div",{className:"space-y-2 md:col-span-2",children:[ge,K,O]}),e[142]=K,e[143]=O,e[144]=P):P=e[144];let Q;e[145]!==o||e[146]!==B||e[147]!==U||e[148]!==G||e[149]!==P||e[150]!==T?(Q=t.jsxs("div",{className:T,children:[o,B,U,G,P]}),e[145]=o,e[146]=B,e[147]=U,e[148]=G,e[149]=P,e[150]=T,e[151]=Q):Q=e[151];let ve;e[152]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx(Ve,{href:"/budgets",children:t.jsx(He,{type:"button",variant:"outline",children:"Annuler"})}),e[152]=ve):ve=e[152];let ye;e[153]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsx(mt,{className:"h-4 w-4 mr-2"}),e[153]=ye):ye=e[153];const Be=he?"Mise à jour...":"Mettre à jour";let W;e[154]!==he||e[155]!==Be?(W=t.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[ve,t.jsxs(He,{type:"submit",disabled:he,children:[ye,Be]})]}),e[154]=he,e[155]=Be,e[156]=W):W=e[156];let X;e[157]!==S||e[158]!==C||e[159]!==Q||e[160]!==W?(X=t.jsxs("form",{onSubmit:S,className:C,children:[Q,W]}),e[157]=S,e[158]=C,e[159]=Q,e[160]=W,e[161]=X):X=e[161];let Z;e[162]!==v||e[163]!==X?(Z=t.jsx(v,{children:X}),e[162]=v,e[163]=X,e[164]=Z):Z=e[164];let ee;e[165]!==y||e[166]!==c||e[167]!==Z?(ee=t.jsxs(y,{children:[c,Z]}),e[165]=y,e[166]=c,e[167]=Z,e[168]=ee):ee=e[168];let te;e[169]!==F||e[170]!==m||e[171]!==d||e[172]!==f||e[173]!==ee?(te=t.jsxs("div",{className:F,children:[m,d,f,ee]}),e[169]=F,e[170]=m,e[171]=d,e[172]=f,e[173]=ee,e[174]=te):te=e[174];let se;e[175]!==N||e[176]!==D||e[177]!==te?(se=t.jsx(N,{activeRoute:D,children:te}),e[175]=N,e[176]=D,e[177]=te,e[178]=se):se=e[178];let Ne;return e[179]!==u||e[180]!==se?(Ne=t.jsxs(t.Fragment,{children:[u,se]}),e[179]=u,e[180]=se,e[181]=Ne):Ne=e[181],Ne}function dt(a){return t.jsx(Je,{value:a,children:a.charAt(0).toUpperCase()+a.slice(1)},a)}function ft(a){return t.jsx(Je,{value:a,children:a},a)}function ut(a){return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"CDF"}).format(a)}function pt(a,e){return(new Date().getFullYear()+e).toString()}export{kt as default};
