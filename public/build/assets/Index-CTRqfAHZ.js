import{c as Js,r as he,j as s,L as as,b as g,H as Gs}from"./app-5Dbz7raP.js";import{B as u}from"./createLucideIcon-BbQnreOs.js";import{I as Xs}from"./input-n7OeVstE.js";import{T as xs,a as j,b,c as Ks,d as Os,e as Qs}from"./table-Bm781hcr.js";import{a as _s,b as ys,c as Ss,d as p,e as ws,S as Ws,D as Ys}from"./DashboardLayout-ByUj4ROS.js";import{a as fs,b as us,d as m,c as js,S as ps}from"./select-DSj7oFl5.js";import{B as Is}from"./badge-_QgTGLp4.js";import{C as Cs}from"./checkbox-BHn2uz1N.js";import{A as Ds,a as Ps}from"./alert-Dr0NOMKL.js";import{f as is,P as Ts,b as ks,C as Ms,a as As,c as $s}from"./popover-D0YhiJMK.js";import{P as Zs}from"./pagination-CSyV-AEn.js";import{P as et}from"./PageHeader-C2_xgV5F.js";import{C as st,a as tt,b as lt,c as rt}from"./card-M1rE4DpJ.js";import{C as xe}from"./circle-check-big-CplMLszt.js";import{C as gs}from"./circle-x-BDmlNNr6.js";import{T as Es}from"./trash-2-Dbv03aAw.js";import{C as Fs}from"./calendar-days-DAsg3DQR.js";import{C as fe}from"./clock-CkLaDOCy.js";import{E as at}from"./ellipsis-vertical-KWQZLSjj.js";import{E as it}from"./eye-B_ld2xZG.js";import{S as ct}from"./square-pen-CE_HZanB.js";import{P as qs}from"./plus-p4KsQSb1.js";import{U as nt}from"./user-C_rpr3N_.js";import{F as dt}from"./funnel-D90CAqSM.js";import{C as Hs}from"./calendar-ByLnJ856.js";import{C as ot}from"./circle-alert-CoLmvAti.js";/* empty css            */import"./index-BlzE7Lae.js";import"./users-DC4hzx-j.js";import"./file-text-CCJGyrxq.js";import"./index-B-6lPV8j.js";import"./check-CkeGpNl8.js";import"./house-Dl9tCatm.js";function Yt(a){const e=Js.c(176),{presences:r,filters:l,stats:c,professeurs:N,flash:f}=a;let pe;e[0]===Symbol.for("react.memo_cache_sentinel")?(pe=[],e[0]=pe):pe=e[0];const[i,ue]=he.useState(pe),[v,Bs]=he.useState(l.search||"");let ge;e[1]!==l.date_debut?(ge=l.date_debut?new Date(l.date_debut):void 0,e[1]=l.date_debut,e[2]=ge):ge=e[2];const[n,Rs]=he.useState(ge);let ve;e[3]!==l.date_fin?(ve=l.date_fin?new Date(l.date_fin):void 0,e[3]=l.date_fin,e[4]=ve):ve=e[4];const[d,zs]=he.useState(ve);let be,Ne;e[5]!==v?(be=()=>{const t=setTimeout(()=>{g.get("/presences",{search:v},{preserveState:!0,replace:!0})},500);return()=>clearTimeout(t)},Ne=[v],e[5]=v,e[6]=be,e[7]=Ne):(be=e[6],Ne=e[7]),he.useEffect(be,Ne);let _e;e[8]!==n||e[9]!==d||e[10]!==l?(_e=()=>{if(n&&d){const t=setTimeout(()=>{g.get("/presences",{...l,date_debut:is(n,"yyyy-MM-dd"),date_fin:is(d,"yyyy-MM-dd")},{preserveState:!0,replace:!0})},500);return()=>clearTimeout(t)}},e[8]=n,e[9]=d,e[10]=l,e[11]=_e):_e=e[11];let ye;e[12]!==n||e[13]!==d?(ye=[n,d],e[12]=n,e[13]=d,e[14]=ye):ye=e[14],he.useEffect(_e,ye);let Se;e[15]!==l?(Se=(t,o)=>{g.get("/presences",{...l,[t]:o},{preserveState:!0,replace:!0})},e[15]=l,e[16]=Se):Se=e[16];const h=Se;let we;e[17]!==r.data?(we=t=>{ue(t?r.data.map(gt):[])},e[17]=r.data,e[18]=we):we=e[18];const cs=we;let Ce;e[19]!==i?(Ce=(t,o)=>{ue(o?[...i,t]:i.filter(x=>x!==t))},e[19]=i,e[20]=Ce):Ce=e[20];const ns=Ce;let De;e[21]!==i?(De=t=>{i.length!==0&&confirm(`Êtes-vous sûr de vouloir effectuer cette action sur ${i.length} élément(s) ?`)&&g.post("/presences/bulk-action",{ids:i,action:t},{onSuccess:()=>ue([])})},e[21]=i,e[22]=De):De=e[22];const je=De,Vs=pt,vs=jt,bs=ut,Ls=ft,Pe=ht;let Te;e[23]===Symbol.for("react.memo_cache_sentinel")?(Te=s.jsx(Gs,{title:"Gestion des présences"}),e[23]=Te):Te=e[23];const Us=r.total;let ke;e[24]!==c.total_heures?(ke=c.total_heures.toFixed(2),e[24]=c.total_heures,e[25]=ke):ke=e[25];const ds=`${Us} enregistrements - ${ke}h total`;let Me;e[26]===Symbol.for("react.memo_cache_sentinel")?(Me=[{label:"Dashboard",href:"/dashboard"},{label:"Professeurs",href:"/professeurs"},{label:"Présences",href:"/presences"}],e[26]=Me):Me=e[26];let _;e[27]!==je||e[28]!==i.length?(_=i.length>0&&s.jsxs(_s,{children:[s.jsx(ys,{asChild:!0,children:s.jsxs(u,{variant:"outline",children:[s.jsx(xe,{className:"h-4 w-4 mr-2"}),"Actions (",i.length,")"]})}),s.jsxs(Ss,{align:"end",children:[s.jsxs(p,{onClick:()=>je("mark_present"),children:[s.jsx(xe,{className:"h-4 w-4 mr-2"}),"Marquer comme présent"]}),s.jsxs(p,{onClick:()=>je("mark_absent"),children:[s.jsx(gs,{className:"h-4 w-4 mr-2"}),"Marquer comme absent"]}),s.jsx(ws,{}),s.jsxs(p,{onClick:()=>je("delete"),className:"text-destructive",children:[s.jsx(Es,{className:"h-4 w-4 mr-2"}),"Supprimer"]})]})]}),e[27]=je,e[28]=i.length,e[29]=_):_=e[29];let Ae;e[30]===Symbol.for("react.memo_cache_sentinel")?(Ae=s.jsx(as,{href:"/presences/create",children:s.jsxs(u,{children:[s.jsx(qs,{className:"h-4 w-4 mr-2"}),"Nouvelle présence"]})}),e[30]=Ae):Ae=e[30];let y;e[31]!==_?(y=s.jsxs("div",{className:"flex items-center gap-2",children:[_,Ae]}),e[31]=_,e[32]=y):y=e[32];let S;e[33]!==ds||e[34]!==y?(S=s.jsx(et,{title:"Présences",description:ds,breadcrumb:Me,actions:y}),e[33]=ds,e[34]=y,e[35]=S):S=e[35];let w;e[36]!==f?(w=f?.success&&s.jsx(Ds,{className:"mb-6",children:s.jsx(Ps,{children:f.success})}),e[36]=f,e[37]=w):w=e[37];let C;e[38]!==f?(C=f?.error&&s.jsx(Ds,{variant:"destructive",className:"mb-6",children:s.jsx(Ps,{children:f.error})}),e[38]=f,e[39]=C):C=e[39];let $e;e[40]===Symbol.for("react.memo_cache_sentinel")?($e=s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total enregistrements"}),e[40]=$e):$e=e[40];let D;e[41]!==c.total?(D=s.jsxs("div",{children:[$e,s.jsx("p",{className:"text-2xl font-bold",children:c.total})]}),e[41]=c.total,e[42]=D):D=e[42];let Ee;e[43]===Symbol.for("react.memo_cache_sentinel")?(Ee=s.jsx(Fs,{className:"h-8 w-8 text-primary"}),e[43]=Ee):Ee=e[43];let P;e[44]!==D?(P=s.jsx("div",{className:"bg-card rounded-lg border p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[D,Ee]})}),e[44]=D,e[45]=P):P=e[45];let Fe;e[46]===Symbol.for("react.memo_cache_sentinel")?(Fe=s.jsx("p",{className:"text-sm text-muted-foreground",children:"Présences"}),e[46]=Fe):Fe=e[46];let T;e[47]!==c.present?(T=s.jsxs("div",{children:[Fe,s.jsx("p",{className:"text-2xl font-bold",children:c.present})]}),e[47]=c.present,e[48]=T):T=e[48];let qe;e[49]===Symbol.for("react.memo_cache_sentinel")?(qe=s.jsx(xe,{className:"h-8 w-8 text-green-500"}),e[49]=qe):qe=e[49];let k;e[50]!==T?(k=s.jsx("div",{className:"bg-card rounded-lg border p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[T,qe]})}),e[50]=T,e[51]=k):k=e[51];let He;e[52]===Symbol.for("react.memo_cache_sentinel")?(He=s.jsx("p",{className:"text-sm text-muted-foreground",children:"Absences"}),e[52]=He):He=e[52];let M;e[53]!==c.absent?(M=s.jsxs("div",{children:[He,s.jsx("p",{className:"text-2xl font-bold",children:c.absent})]}),e[53]=c.absent,e[54]=M):M=e[54];let Ie;e[55]===Symbol.for("react.memo_cache_sentinel")?(Ie=s.jsx(gs,{className:"h-8 w-8 text-red-500"}),e[55]=Ie):Ie=e[55];let A;e[56]!==M?(A=s.jsx("div",{className:"bg-card rounded-lg border p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[M,Ie]})}),e[56]=M,e[57]=A):A=e[57];let Be;e[58]===Symbol.for("react.memo_cache_sentinel")?(Be=s.jsx("p",{className:"text-sm text-muted-foreground",children:"Heures totales"}),e[58]=Be):Be=e[58];let $;e[59]!==c.total_heures?($=c.total_heures.toFixed(2),e[59]=c.total_heures,e[60]=$):$=e[60];let E;e[61]!==$?(E=s.jsxs("div",{children:[Be,s.jsxs("p",{className:"text-2xl font-bold",children:[$,"h"]})]}),e[61]=$,e[62]=E):E=e[62];let Re;e[63]===Symbol.for("react.memo_cache_sentinel")?(Re=s.jsx(fe,{className:"h-8 w-8 text-blue-500"}),e[63]=Re):Re=e[63];let F;e[64]!==E?(F=s.jsx("div",{className:"bg-card rounded-lg border p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[E,Re]})}),e[64]=E,e[65]=F):F=e[65];let q;e[66]!==P||e[67]!==k||e[68]!==A||e[69]!==F?(q=s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[P,k,A,F]}),e[66]=P,e[67]=k,e[68]=A,e[69]=F,e[70]=q):q=e[70];let ze;e[71]===Symbol.for("react.memo_cache_sentinel")?(ze=s.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e[71]=ze):ze=e[71];let Ve;e[72]===Symbol.for("react.memo_cache_sentinel")?(Ve=t=>Bs(t.target.value),e[72]=Ve):Ve=e[72];let H;e[73]!==v?(H=s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[ze,s.jsx(Xs,{placeholder:"Rechercher un professeur...",value:v,onChange:Ve,className:"pl-10"})]})}),e[73]=v,e[74]=H):H=e[74];const os=l.professeur_id||"";let I;e[75]!==h?(I=t=>h("professeur_id",t),e[75]=h,e[76]=I):I=e[76];let Le;e[77]===Symbol.for("react.memo_cache_sentinel")?(Le=s.jsxs(fs,{children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),s.jsx(us,{placeholder:"Professeur"})]}),e[77]=Le):Le=e[77];let Ue;e[78]===Symbol.for("react.memo_cache_sentinel")?(Ue=s.jsx(m,{value:"all",children:"Tous professeurs"}),e[78]=Ue):Ue=e[78];let B;e[79]!==N?(B=N.map(mt),e[79]=N,e[80]=B):B=e[80];let R;e[81]!==B?(R=s.jsxs(js,{children:[Ue,B]}),e[81]=B,e[82]=R):R=e[82];let z;e[83]!==os||e[84]!==I||e[85]!==R?(z=s.jsxs(ps,{value:os,onValueChange:I,children:[Le,R]}),e[83]=os,e[84]=I,e[85]=R,e[86]=z):z=e[86];const ms=l.statut||"";let V;e[87]!==h?(V=t=>h("statut",t),e[87]=h,e[88]=V):V=e[88];let Je;e[89]===Symbol.for("react.memo_cache_sentinel")?(Je=s.jsxs(fs,{children:[s.jsx(dt,{className:"h-4 w-4 mr-2"}),s.jsx(us,{placeholder:"Statut"})]}),e[89]=Je):Je=e[89];let Ge;e[90]===Symbol.for("react.memo_cache_sentinel")?(Ge=s.jsxs(js,{children:[s.jsx(m,{value:"all",children:"Tous statuts"}),s.jsx(m,{value:"present",children:"Présent"}),s.jsx(m,{value:"absent",children:"Absent"}),s.jsx(m,{value:"complete",children:"Journée complète"})]}),e[90]=Ge):Ge=e[90];let L;e[91]!==ms||e[92]!==V?(L=s.jsxs(ps,{value:ms,onValueChange:V,children:[Je,Ge]}),e[91]=ms,e[92]=V,e[93]=L):L=e[93];let Xe;e[94]===Symbol.for("react.memo_cache_sentinel")?(Xe=s.jsx(Hs,{className:"mr-2 h-4 w-4"}),e[94]=Xe):Xe=e[94];let U;e[95]!==n?(U=n?is(n,"dd/MM/yyyy"):"Début",e[95]=n,e[96]=U):U=e[96];let J;e[97]!==U?(J=s.jsx(Ts,{asChild:!0,children:s.jsxs(u,{variant:"outline",className:"justify-start",children:[Xe,U]})}),e[97]=U,e[98]=J):J=e[98];let G;e[99]!==n?(G=s.jsx(ks,{className:"w-auto p-0",children:s.jsx(Ms,{mode:"single",selected:n,onSelect:Rs,locale:As,className:"rounded-md border"})}),e[99]=n,e[100]=G):G=e[100];let X;e[101]!==J||e[102]!==G?(X=s.jsxs($s,{children:[J,G]}),e[101]=J,e[102]=G,e[103]=X):X=e[103];let Ke;e[104]===Symbol.for("react.memo_cache_sentinel")?(Ke=s.jsx(Hs,{className:"mr-2 h-4 w-4"}),e[104]=Ke):Ke=e[104];let K;e[105]!==d?(K=d?is(d,"dd/MM/yyyy"):"Fin",e[105]=d,e[106]=K):K=e[106];let O;e[107]!==K?(O=s.jsx(Ts,{asChild:!0,children:s.jsxs(u,{variant:"outline",className:"justify-start",children:[Ke,K]})}),e[107]=K,e[108]=O):O=e[108];let Q;e[109]!==d?(Q=s.jsx(ks,{className:"w-auto p-0",children:s.jsx(Ms,{mode:"single",selected:d,onSelect:zs,locale:As,className:"rounded-md border"})}),e[109]=d,e[110]=Q):Q=e[110];let W;e[111]!==O||e[112]!==Q?(W=s.jsxs($s,{children:[O,Q]}),e[111]=O,e[112]=Q,e[113]=W):W=e[113];let Y;e[114]!==l.per_page?(Y=l.per_page?.toString()||"20",e[114]=l.per_page,e[115]=Y):Y=e[115];let Z;e[116]!==h?(Z=t=>h("per_page",t),e[116]=h,e[117]=Z):Z=e[117];let Oe;e[118]===Symbol.for("react.memo_cache_sentinel")?(Oe=s.jsx(fs,{children:s.jsx(us,{placeholder:"Par page"})}),e[118]=Oe):Oe=e[118];let Qe;e[119]===Symbol.for("react.memo_cache_sentinel")?(Qe=s.jsxs(js,{children:[s.jsx(m,{value:"10",children:"10"}),s.jsx(m,{value:"20",children:"20"}),s.jsx(m,{value:"50",children:"50"}),s.jsx(m,{value:"100",children:"100"})]}),e[119]=Qe):Qe=e[119];let ee;e[120]!==Y||e[121]!==Z?(ee=s.jsxs(ps,{value:Y,onValueChange:Z,children:[Oe,Qe]}),e[120]=Y,e[121]=Z,e[122]=ee):ee=e[122];let se;e[123]!==z||e[124]!==L||e[125]!==X||e[126]!==W||e[127]!==ee?(se=s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[z,L,X,W,ee]}),e[123]=z,e[124]=L,e[125]=X,e[126]=W,e[127]=ee,e[128]=se):se=e[128];let te;e[129]!==H||e[130]!==se?(te=s.jsx("div",{className:"bg-card rounded-lg border p-4 mb-6",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[H,se]})}),e[129]=H,e[130]=se,e[131]=te):te=e[131];const hs=i.length===r.data.length&&r.data.length>0;let le;e[132]!==cs||e[133]!==hs?(le=s.jsx(b,{className:"w-12",children:s.jsx(Cs,{checked:hs,onCheckedChange:cs})}),e[132]=cs,e[133]=hs,e[134]=le):le=e[134];let We,Ye,Ze,es,ss,ts;e[135]===Symbol.for("react.memo_cache_sentinel")?(We=s.jsx(b,{children:"Date"}),Ye=s.jsx(b,{children:"Professeur"}),Ze=s.jsx(b,{children:"Heures"}),es=s.jsx(b,{children:"Statut"}),ss=s.jsx(b,{children:"Détails"}),ts=s.jsx(b,{className:"text-right",children:"Actions"}),e[135]=We,e[136]=Ye,e[137]=Ze,e[138]=es,e[139]=ss,e[140]=ts):(We=e[135],Ye=e[136],Ze=e[137],es=e[138],ss=e[139],ts=e[140]);let re;e[141]!==le?(re=s.jsx(Ks,{children:s.jsxs(xs,{children:[le,We,Ye,Ze,es,ss,ts]})}),e[141]=le,e[142]=re):re=e[142];let ae;e[143]!==l.search||e[144]!==ns||e[145]!==r.data||e[146]!==i?(ae=r.data.length===0?s.jsx(xs,{children:s.jsxs(j,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:[s.jsx(Fs,{className:"h-12 w-12 mx-auto mb-4 opacity-20"}),s.jsx("p",{className:"text-lg",children:"Aucune présence trouvée"}),s.jsx("p",{className:"text-sm mt-2",children:l.search?"Essayez avec d'autres termes de recherche":"Commencez par enregistrer une présence"})]})}):r.data.map(t=>s.jsxs(xs,{className:"hover:bg-muted/50",children:[s.jsx(j,{children:s.jsx(Cs,{checked:i.includes(t.id),onCheckedChange:o=>ns(t.id,o===!0)})}),s.jsxs(j,{children:[s.jsx("div",{className:"font-medium",children:t.formatted_date}),s.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(t.date).toLocaleDateString("fr-FR",{weekday:"long"})})]}),s.jsx(j,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-bold",children:t.professeur.nom.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:t.professeur.nom}),s.jsx("div",{className:"text-xs text-muted-foreground",children:t.professeur.email})]})]})}),s.jsx(j,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fe,{className:"h-3 w-3 text-muted-foreground"}),s.jsxs("span",{className:"text-sm",children:[bs(t.heure_arrivee),t.heure_depart&&` → ${bs(t.heure_depart)}`]})]}),t.heures_prestées>0&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Total: ",Ls(t.heures_prestées)]}),t.is_retard&&t.retard_minutes&&s.jsxs(Is,{variant:"outline",className:"text-xs",children:["Retard: ",t.retard_minutes," min"]})]})}),s.jsx(j,{children:vs(t)}),s.jsxs(j,{children:[t.statut==="complete"&&s.jsx("div",{className:"text-xs text-green-600",children:"Journée complète"}),t.statut==="present"&&!t.heure_depart&&s.jsx("div",{className:"text-xs text-amber-600",children:"En cours"}),t.statut==="absent"&&s.jsx("div",{className:"text-xs text-red-600",children:"Non présenté"})]}),s.jsx(j,{className:"text-right",children:s.jsxs(_s,{children:[s.jsx(ys,{asChild:!0,children:s.jsx(u,{variant:"ghost",size:"icon",children:s.jsx(at,{className:"h-4 w-4"})})}),s.jsxs(Ss,{align:"end",children:[s.jsx(as,{href:`/presences/${t.id}`,children:s.jsxs(p,{children:[s.jsx(it,{className:"h-4 w-4 mr-2"}),"Voir détails"]})}),s.jsx(as,{href:`/presences/${t.id}/edit`,children:s.jsxs(p,{children:[s.jsx(ct,{className:"h-4 w-4 mr-2"}),"Modifier"]})}),!t.heure_arrivee&&s.jsxs(p,{onClick:()=>Pe(t.professeur_id,"arrivee"),children:[s.jsx(xe,{className:"h-4 w-4 mr-2"}),"Marquer arrivée"]}),t.heure_arrivee&&!t.heure_depart&&s.jsxs(p,{onClick:()=>Pe(t.professeur_id,"depart"),children:[s.jsx(fe,{className:"h-4 w-4 mr-2"}),"Marquer départ"]}),s.jsx(ws,{}),s.jsxs(p,{onClick:()=>Vs(t),className:"text-destructive",children:[s.jsx(Es,{className:"h-4 w-4 mr-2"}),"Supprimer"]})]})]})})]},t.id)),e[143]=l.search,e[144]=ns,e[145]=r.data,e[146]=i,e[147]=ae):ae=e[147];let ie;e[148]!==ae?(ie=s.jsx(Os,{children:ae}),e[148]=ae,e[149]=ie):ie=e[149];let ce;e[150]!==re||e[151]!==ie?(ce=s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Qs,{children:[re,ie]})}),e[150]=re,e[151]=ie,e[152]=ce):ce=e[152];let ne;e[153]!==l||e[154]!==r.current_page||e[155]!==r.last_page?(ne=r.last_page>1&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Zs,{currentPage:r.current_page,totalPages:r.last_page,onPageChange:t=>{g.get("/presences",{...l,page:t},{preserveState:!0,replace:!0})}})}),e[153]=l,e[154]=r.current_page,e[155]=r.last_page,e[156]=ne):ne=e[156];let de;e[157]!==ce||e[158]!==ne?(de=s.jsxs("div",{className:"bg-card rounded-lg border overflow-hidden",children:[ce,ne]}),e[157]=ce,e[158]=ne,e[159]=de):de=e[159];let ls;e[160]===Symbol.for("react.memo_cache_sentinel")?(ls=s.jsx(st,{children:s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(fe,{className:"h-5 w-5"}),"Marquage rapide - Aujourd'hui"]})}),e[160]=ls):ls=e[160];let oe;if(e[161]!==r.data||e[162]!==N){let t;e[164]!==r.data?(t=o=>{const x=r.data.find(Ns=>Ns.professeur_id===o.id&&new Date(Ns.date).toDateString()===new Date().toDateString());return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-bold",children:o.nom.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:o.nom}),s.jsx("div",{className:"text-xs text-muted-foreground",children:x?x.statut_label:"Non enregistré"})]})]}),x&&vs(x)]}),s.jsxs("div",{className:"flex gap-2",children:[x?.heure_arrivee?null:s.jsxs(u,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>Pe(o.id,"arrivee"),children:[s.jsx(xe,{className:"h-3 w-3 mr-1"}),"Arrivée"]}),x?.heure_arrivee&&!x?.heure_depart?s.jsxs(u,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>Pe(o.id,"depart"),children:[s.jsx(fe,{className:"h-3 w-3 mr-1"}),"Départ"]}):null,s.jsx(as,{href:`/presences/create?professeur_id=${o.id}`,children:s.jsx(u,{size:"sm",variant:"ghost",children:s.jsx(qs,{className:"h-3 w-3"})})})]})]},o.id)},e[164]=r.data,e[165]=t):t=e[165],oe=N.slice(0,6).map(t),e[161]=r.data,e[162]=N,e[163]=oe}else oe=e[163];let me;e[166]!==oe?(me=s.jsxs(lt,{className:"mt-6",children:[ls,s.jsx(rt,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:oe})})]}),e[166]=oe,e[167]=me):me=e[167];let rs;return e[168]!==S||e[169]!==w||e[170]!==C||e[171]!==q||e[172]!==te||e[173]!==de||e[174]!==me?(rs=s.jsxs(s.Fragment,{children:[Te,s.jsxs(Ys,{activeRoute:"/professeurs",children:[S,w,C,q,te,de,me]})]}),e[168]=S,e[169]=w,e[170]=C,e[171]=q,e[172]=te,e[173]=de,e[174]=me,e[175]=rs):rs=e[175],rs}function mt(a){return s.jsx(m,{value:a.id.toString(),children:a.nom},a.id)}function ht(a,e){confirm(`Marquer ${e==="arrivee"?"l'arrivée":"le départ"} ?`)&&g.post("/presences/marquer",{professeur_id:a,type:e},{onSuccess:xt})}function xt(){g.reload()}function ft(a){return`${a.toFixed(2)}h`}function ut(a){return a?a.substring(0,5):"--:--"}function jt(a){const e={absent:{variant:"destructive",icon:gs},present:{variant:"warning",icon:fe},complete:{variant:"default",icon:xe}},{variant:r,icon:l}=e[a.statut]||{variant:"outline",icon:ot};return s.jsxs(Is,{variant:r,className:"flex items-center gap-1",children:[s.jsx(l,{className:"h-3 w-3"}),a.statut_label]})}function pt(a){confirm(`Êtes-vous sûr de vouloir supprimer la présence du ${a.formatted_date} ?`)&&g.delete(`/presences/${a.id}`)}function gt(a){return a.id}export{Yt as default};
