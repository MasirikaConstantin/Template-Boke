import{c as yt,u as St,r as ct,j as s,H as Ct,L as ks}from"./app-D-231Fnt.js";import{B as N}from"./index-C-s1mqx-.js";import{I as rt}from"./input-sUimVrWt.js";import{L as g}from"./label-BpHohAFE.js";import{T as wt}from"./textarea-BTp-jQ2g.js";import{S as xt,a as ft,b as pt,c as ht,d as dt}from"./select-X6BbxeMk.js";import{b as Qe,c as Xe,C as zs,a as Hs,d as Tt}from"./card-BjtGhsWn.js";import{A as ts,a as as}from"./alert-Fsv0Ayvc.js";import{T as At,a as nt,b as mt,c as Lt}from"./tabs-Bo3V_eSu.js";import{B as ot}from"./badge-DgIKhVRa.js";import{D as $t,c as vt}from"./DashboardLayout-D6ki3XIQ.js";import{P as Ft}from"./PageHeader-odzADJsY.js";import{T as _t}from"./triangle-alert-DmO-vdX1.js";import{C as Dt}from"./circle-alert-BtBp8amo.js";import{E as Et}from"./eye-BWv7RI_h.js";import{A as Mt}from"./arrow-left-JsMND5gr.js";import{S as Pt}from"./school-QCZKb4t8.js";import{S as Rt}from"./save-CK1ItvVn.js";import{H as jt}from"./history-DLg4tP9d.js";/* empty css            */import"./index-DSBDNaI8.js";import"./user-DOQl8h22.js";import"./house-Bh8iUq9b.js";function ma(m){const e=yt.c(340),{classe:t,professeurs:Ye,sections:o}=m,Bs=t.section||"",Os=t.professeur_principal_id||"",qs=t.description||"";let ls;e[0]!==t.capacite_max||e[1]!==t.niveau||e[2]!==t.nom_classe||e[3]!==t.statut||e[4]!==Bs||e[5]!==Os||e[6]!==qs?(ls={nom_classe:t.nom_classe,niveau:t.niveau,section:Bs,professeur_principal_id:Os,capacite_max:t.capacite_max,statut:t.statut,description:qs},e[0]=t.capacite_max,e[1]=t.niveau,e[2]=t.nom_classe,e[3]=t.statut,e[4]=Bs,e[5]=Os,e[6]=qs,e[7]=ls):ls=e[7];const{data:a,setData:c,put:Us,processing:y,errors:l,reset:Ws}=St(ls),[d,ut]=ct.useState(!1),[Ze,bt]=ct.useState("infos");let is,cs;e[8]!==t.nombre_eleves||e[9]!==a.statut?(is=()=>{a.statut==="archived"&&t.nombre_eleves>0?ut(!0):ut(!1)},cs=[a.statut,t.nombre_eleves],e[8]=t.nombre_eleves,e[9]=a.statut,e[10]=is,e[11]=cs):(is=e[10],cs=e[11]),ct.useEffect(is,cs);let rs;e[12]!==t.id||e[13]!==Us||e[14]!==d?(rs=n=>{n.preventDefault(),!(d&&!confirm("Cette classe contient des √©l√®ves. Voulez-vous vraiment l'archiver ? Les √©l√®ves devront √™tre r√©affect√©s."))&&Us(`/classes/${t.id}`)},e[12]=t.id,e[13]=Us,e[14]=d,e[15]=rs):rs=e[15];const es=rs;let ns;e[16]!==a.niveau||e[17]!==a.nom_classe||e[18]!==a.section?(ns=()=>a.niveau==="secondaire"&&a.section?`${a.nom_classe} ${a.section}`:a.nom_classe,e[16]=a.niveau,e[17]=a.nom_classe,e[18]=a.section,e[19]=ns):ns=e[19];const ss=ns;let ms;e[20]===Symbol.for("react.memo_cache_sentinel")?(ms=[{value:"primaire",label:"Primaire",icon:"üìö"},{value:"secondaire",label:"Secondaire",icon:"üéì"}],e[20]=ms):ms=e[20];const Nt=ms;let S,C,w,T,r,os,u,A,x,f,p,h,L,v,$,F,_,D,j,b;if(e[21]!==Ze||e[22]!==t||e[23]!==a.capacite_max||e[24]!==a.description||e[25]!==a.niveau||e[26]!==a.nom_classe||e[27]!==a.professeur_principal_id||e[28]!==a.section||e[29]!==a.statut||e[30]!==l.capacite_max||e[31]!==l.description||e[32]!==l.niveau||e[33]!==l.nom_classe||e[34]!==l.professeur_principal_id||e[35]!==l.section||e[36]!==l.statut||e[37]!==ss||e[38]!==es||e[39]!==y||e[40]!==Ye||e[41]!==o||e[42]!==c||e[43]!==d){r=[{value:"active",label:"Active",color:"success"},{value:"inactive",label:"Inactive",color:"warning"},{value:"archived",label:"Archiv√©e",color:"secondary"}];const n=i=>r.find(gt=>gt.value===i)?.color||"default";console.log(t);const Qs=`Modifier ${t.nom_classe}`;e[64]!==Qs?(b=s.jsx(Ct,{title:Qs}),e[64]=Qs,e[65]=b):b=e[65],T=$t,D="/classes";const Xs=`Modifier ${t.nom_classe}`,Ys=`R√©f√©rence: ${t.ref}`;let hs,vs;e[66]===Symbol.for("react.memo_cache_sentinel")?(hs={label:"Dashboard",href:"/dashboard"},vs={label:"Classes",href:"/classes"},e[66]=hs,e[67]=vs):(hs=e[66],vs=e[67]);const Zs=`/classes/${t.id}/edit`;let Y;e[68]!==Zs?(Y=[hs,vs,{label:"Modifier",href:Zs}],e[68]=Zs,e[69]=Y):Y=e[69];const et=`/classes/${t.id}`;let _s;e[70]===Symbol.for("react.memo_cache_sentinel")?(_s=s.jsxs(N,{variant:"outline",children:[s.jsx(Et,{className:"h-4 w-4 mr-2"}),"Voir"]}),e[70]=_s):_s=e[70];let Z;e[71]!==et?(Z=s.jsx(ks,{href:et,children:_s}),e[71]=et,e[72]=Z):Z=e[72];let js;e[73]===Symbol.for("react.memo_cache_sentinel")?(js=s.jsx(ks,{href:"/classes",children:s.jsxs(N,{variant:"outline",children:[s.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Retour"]})}),e[73]=js):js=e[73];let ee;e[74]!==Z?(ee=s.jsxs("div",{className:"flex items-center gap-2",children:[Z,js]}),e[74]=Z,e[75]=ee):ee=e[75],e[76]!==Xs||e[77]!==Ys||e[78]!==Y||e[79]!==ee?(j=s.jsx(Ft,{title:Xs,description:Ys,breadcrumb:Y,actions:ee}),e[76]=Xs,e[77]=Ys,e[78]=Y,e[79]=ee,e[80]=j):j=e[80],F="grid grid-cols-1 lg:grid-cols-3 gap-6";let bs;e[81]===Symbol.for("react.memo_cache_sentinel")?(bs=s.jsxs(zs,{children:[s.jsxs(Hs,{className:"flex items-center gap-2",children:[s.jsx(Pt,{className:"h-5 w-5"}),"Modifier la classe"]}),s.jsx(Tt,{children:"Modifiez les informations de la classe"})]}),e[81]=bs):bs=e[81];let se;e[82]!==t.nombre_eleves||e[83]!==d?(se=d&&s.jsxs(ts,{variant:"warning",children:[s.jsx(_t,{className:"h-4 w-4"}),s.jsxs(as,{children:["Cette classe contient ",t.nombre_eleves," √©l√®ve(s). Vous ne pouvez pas archiver une classe contenant des √©l√®ves."]})]}),e[82]=t.nombre_eleves,e[83]=d,e[84]=se):se=e[84];let te;e[85]!==l.nom_classe?(te=l.nom_classe&&s.jsxs(ts,{variant:"destructive",children:[s.jsx(Dt,{className:"h-4 w-4"}),s.jsx(as,{children:l.nom_classe})]}),e[85]=l.nom_classe,e[86]=te):te=e[86];let Ns;e[87]===Symbol.for("react.memo_cache_sentinel")?(Ns=s.jsxs(At,{className:"grid w-full grid-cols-3",children:[s.jsx(nt,{value:"infos",className:"flex items-center gap-2",children:"Informations"}),s.jsx(nt,{value:"configuration",className:"flex items-center gap-2",children:"Configuration"}),s.jsx(nt,{value:"statut",className:"flex items-center gap-2",children:"Statut"})]}),e[87]=Ns):Ns=e[87];let gs;e[88]===Symbol.for("react.memo_cache_sentinel")?(gs=s.jsx(g,{htmlFor:"nom_classe",children:"Nom de la classe *"}),e[88]=gs):gs=e[88];let ae;e[89]!==c?(ae=i=>c("nom_classe",i.target.value),e[89]=c,e[90]=ae):ae=e[90];let le;e[91]!==a.nom_classe||e[92]!==ae?(le=s.jsx(rt,{id:"nom_classe",value:a.nom_classe,onChange:ae,placeholder:"Ex: 6√®me A, Terminale S, CP...",required:!0,autoFocus:!0}),e[91]=a.nom_classe,e[92]=ae,e[93]=le):le=e[93];let ie;e[94]!==ss?(ie=ss(),e[94]=ss,e[95]=ie):ie=e[95];let ce;e[96]!==ie?(ce=s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Nom complet: ",s.jsx("span",{className:"font-medium",children:ie})]}),e[96]=ie,e[97]=ce):ce=e[97];let re;e[98]!==l.nom_classe?(re=l.nom_classe&&s.jsx("p",{className:"text-sm text-destructive",children:l.nom_classe}),e[98]=l.nom_classe,e[99]=re):re=e[99];let ne;e[100]!==le||e[101]!==ce||e[102]!==re?(ne=s.jsxs("div",{className:"space-y-2",children:[gs,le,ce,re]}),e[100]=le,e[101]=ce,e[102]=re,e[103]=ne):ne=e[103];let ys;e[104]===Symbol.for("react.memo_cache_sentinel")?(ys=s.jsx(g,{children:"Niveau *"}),e[104]=ys):ys=e[104];let me;e[105]!==t.nombre_eleves||e[106]!==a.niveau||e[107]!==c?(me=t.nombre_eleves>0?s.jsxs("div",{className:"space-y-2",children:[s.jsx(rt,{value:a.niveau==="primaire"?"Primaire":"Secondaire",disabled:!0,className:"bg-muted"}),s.jsx("p",{className:"text-xs text-amber-600",children:"Le niveau ne peut pas √™tre modifi√© car la classe contient des √©l√®ves."}),s.jsx("input",{type:"hidden",name:"niveau",value:a.niveau})]}):s.jsx("div",{className:"grid grid-cols-2 gap-4",children:Nt.map(i=>s.jsx(Qe,{className:`cursor-pointer transition-all ${a.niveau===i.value?"border-primary ring-2 ring-primary/20":"hover:border-border"}`,onClick:()=>c("niveau",i.value),children:s.jsxs(Xe,{className:"p-4 flex items-center gap-3",children:[s.jsx("div",{className:"text-2xl",children:i.icon}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:i.label}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.value==="primaire"?"CP au CM2":"6√®me √† Terminale"})]})]})},i.value))}),e[105]=t.nombre_eleves,e[106]=a.niveau,e[107]=c,e[108]=me):me=e[108];let oe;e[109]!==l.niveau?(oe=l.niveau&&s.jsx("p",{className:"text-sm text-destructive",children:l.niveau}),e[109]=l.niveau,e[110]=oe):oe=e[110];let de;e[111]!==me||e[112]!==oe?(de=s.jsxs("div",{className:"space-y-2",children:[ys,me,oe]}),e[111]=me,e[112]=oe,e[113]=de):de=e[113];let ue;e[114]!==a.niveau||e[115]!==a.section||e[116]!==l.section||e[117]!==o||e[118]!==c?(ue=a.niveau==="secondaire"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(g,{htmlFor:"section",children:"Section *"}),s.jsxs(xt,{value:a.section,onValueChange:i=>c("section",i),children:[s.jsx(ft,{children:s.jsx(pt,{placeholder:"S√©lectionner une section"})}),s.jsx(ht,{children:Object.entries(o).map(It)})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"La section d√©termine la sp√©cialit√© de la classe"}),l.section&&s.jsx("p",{className:"text-sm text-destructive",children:l.section})]}),e[114]=a.niveau,e[115]=a.section,e[116]=l.section,e[117]=o,e[118]=c,e[119]=ue):ue=e[119];let xe;e[120]!==ne||e[121]!==de||e[122]!==ue?(xe=s.jsxs(mt,{value:"infos",className:"space-y-6 pt-6",children:[ne,de,ue]}),e[120]=ne,e[121]=de,e[122]=ue,e[123]=xe):xe=e[123];let Ss;e[124]===Symbol.for("react.memo_cache_sentinel")?(Ss=s.jsx(g,{htmlFor:"capacite_max",children:"Capacit√© maximale *"}),e[124]=Ss):Ss=e[124];let fe;e[125]!==t.nombre_eleves?(fe=s.jsxs("div",{className:"flex items-center justify-between",children:[Ss,s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Actuellement: ",t.nombre_eleves," √©l√®ve(s)"]})]}),e[125]=t.nombre_eleves,e[126]=fe):fe=e[126];let pe;e[127]!==c?(pe=i=>c("capacite_max",parseInt(i.target.value)||30),e[127]=c,e[128]=pe):pe=e[128];let he;e[129]!==t.nombre_eleves||e[130]!==a.capacite_max||e[131]!==pe?(he=s.jsx(rt,{id:"capacite_max",type:"number",min:t.nombre_eleves,max:"100",value:a.capacite_max,onChange:pe,className:"pl-10"}),e[129]=t.nombre_eleves,e[130]=a.capacite_max,e[131]=pe,e[132]=he):he=e[132];let Cs;e[133]===Symbol.for("react.memo_cache_sentinel")?(Cs=s.jsx(vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e[133]=Cs):Cs=e[133];let ve;e[134]!==he?(ve=s.jsxs("div",{className:"relative",children:[he,Cs]}),e[134]=he,e[135]=ve):ve=e[135];let _e;e[136]!==t.nombre_eleves?(_e=s.jsxs("span",{className:"text-muted-foreground",children:["Minimum: ",t.nombre_eleves," (nombre d'√©l√®ves actuels)"]}),e[136]=t.nombre_eleves,e[137]=_e):_e=e[137];let ws;e[138]===Symbol.for("react.memo_cache_sentinel")?(ws=s.jsx("span",{className:"text-muted-foreground",children:"Maximum recommand√©: 35"}),e[138]=ws):ws=e[138];let je;e[139]!==_e?(je=s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[_e,ws]}),e[139]=_e,e[140]=je):je=e[140];let be;e[141]!==t.nombre_eleves||e[142]!==a.capacite_max?(be=a.capacite_max<t.nombre_eleves&&s.jsx(ts,{variant:"destructive",className:"py-2",children:s.jsxs(as,{className:"text-xs",children:["La capacit√© ne peut pas √™tre inf√©rieure au nombre d'√©l√®ves actuels (",t.nombre_eleves,")"]})}),e[141]=t.nombre_eleves,e[142]=a.capacite_max,e[143]=be):be=e[143];let Ne;e[144]!==l.capacite_max?(Ne=l.capacite_max&&s.jsx("p",{className:"text-sm text-destructive",children:l.capacite_max}),e[144]=l.capacite_max,e[145]=Ne):Ne=e[145];let ge;e[146]!==fe||e[147]!==ve||e[148]!==je||e[149]!==be||e[150]!==Ne?(ge=s.jsxs("div",{className:"space-y-2",children:[fe,ve,je,be,Ne]}),e[146]=fe,e[147]=ve,e[148]=je,e[149]=be,e[150]=Ne,e[151]=ge):ge=e[151];let Ts;e[152]===Symbol.for("react.memo_cache_sentinel")?(Ts=s.jsx(g,{htmlFor:"professeur_principal_id",children:"Professeur principal"}),e[152]=Ts):Ts=e[152];let ye;e[153]!==a.professeur_principal_id?(ye=a.professeur_principal_id?.toString()||"",e[153]=a.professeur_principal_id,e[154]=ye):ye=e[154];let Se;e[155]!==c?(Se=i=>c("professeur_principal_id",i?parseInt(i):""),e[155]=c,e[156]=Se):Se=e[156];let As;e[157]===Symbol.for("react.memo_cache_sentinel")?(As=s.jsx(ft,{children:s.jsx(pt,{placeholder:"S√©lectionner un professeur"})}),e[157]=As):As=e[157];let Ls;e[158]===Symbol.for("react.memo_cache_sentinel")?(Ls=s.jsx(dt,{value:"",children:"Aucun"}),e[158]=Ls):Ls=e[158];let Ce;e[159]!==Ye?(Ce=Ye.map(Vt),e[159]=Ye,e[160]=Ce):Ce=e[160];let we;e[161]!==Ce?(we=s.jsxs(ht,{children:[Ls,Ce]}),e[161]=Ce,e[162]=we):we=e[162];let Te;e[163]!==ye||e[164]!==Se||e[165]!==we?(Te=s.jsxs(xt,{value:ye,onValueChange:Se,children:[As,we]}),e[163]=ye,e[164]=Se,e[165]=we,e[166]=Te):Te=e[166];let $s;e[167]===Symbol.for("react.memo_cache_sentinel")?($s=s.jsx("p",{className:"text-xs text-muted-foreground",children:"Le professeur principal sera responsable de cette classe"}),e[167]=$s):$s=e[167];let Ae;e[168]!==l.professeur_principal_id?(Ae=l.professeur_principal_id&&s.jsx("p",{className:"text-sm text-destructive",children:l.professeur_principal_id}),e[168]=l.professeur_principal_id,e[169]=Ae):Ae=e[169];let Le;e[170]!==Te||e[171]!==Ae?(Le=s.jsxs("div",{className:"space-y-2",children:[Ts,Te,$s,Ae]}),e[170]=Te,e[171]=Ae,e[172]=Le):Le=e[172];let Fs;e[173]===Symbol.for("react.memo_cache_sentinel")?(Fs=s.jsx(g,{htmlFor:"description",children:"Description"}),e[173]=Fs):Fs=e[173];let $e;e[174]!==c?($e=i=>c("description",i.target.value),e[174]=c,e[175]=$e):$e=e[175];let Fe;e[176]!==a.description||e[177]!==$e?(Fe=s.jsx(wt,{id:"description",value:a.description,onChange:$e,placeholder:"Informations suppl√©mentaires sur la classe...",rows:4}),e[176]=a.description,e[177]=$e,e[178]=Fe):Fe=e[178];let Ds;e[179]===Symbol.for("react.memo_cache_sentinel")?(Ds=s.jsx("p",{className:"text-xs text-muted-foreground",children:"Optionnel - Maximum 500 caract√®res"}),e[179]=Ds):Ds=e[179];const st=a.description?.length||0;let De;e[180]!==st?(De=s.jsxs("div",{className:"flex justify-between",children:[Ds,s.jsxs("p",{className:"text-xs text-muted-foreground",children:[st,"/500"]})]}),e[180]=st,e[181]=De):De=e[181];let Ee;e[182]!==l.description?(Ee=l.description&&s.jsx("p",{className:"text-sm text-destructive",children:l.description}),e[182]=l.description,e[183]=Ee):Ee=e[183];let Me;e[184]!==Fe||e[185]!==De||e[186]!==Ee?(Me=s.jsxs("div",{className:"space-y-2",children:[Fs,Fe,De,Ee]}),e[184]=Fe,e[185]=De,e[186]=Ee,e[187]=Me):Me=e[187];let Pe;e[188]!==ge||e[189]!==Le||e[190]!==Me?(Pe=s.jsxs(mt,{value:"configuration",className:"space-y-6 pt-6",children:[ge,Le,Me]}),e[188]=ge,e[189]=Le,e[190]=Me,e[191]=Pe):Pe=e[191];let Es;e[192]===Symbol.for("react.memo_cache_sentinel")?(Es=s.jsxs("div",{children:[s.jsx(g,{htmlFor:"statut",children:"Statut de la classe *"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"D√©termine si la classe est active, inactive ou archiv√©e"})]}),e[192]=Es):Es=e[192];const tt=s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.map(i=>s.jsx(Qe,{className:`cursor-pointer transition-all ${a.statut===i.value?"border-primary ring-2 ring-primary/20":"hover:border-border"}`,onClick:()=>{i.value==="archived"&&t.nombre_eleves>0?confirm(`Cette classe contient ${t.nombre_eleves} √©l√®ve(s). Voulez-vous vraiment l'archiver ?`)&&c("statut",i.value):c("statut",i.value)},children:s.jsx(Xe,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col items-center text-center gap-2",children:[s.jsx(ot,{variant:i.color,className:"mb-2",children:i.label}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.value==="active"&&"La classe est active et peut recevoir des √©l√®ves",i.value==="inactive"&&"La classe est inactive (maintenance, etc.)",i.value==="archived"&&"La classe est archiv√©e (historique)"]})]})})},i.value))});let Re;e[193]!==t.nombre_eleves||e[194]!==a.statut?(Re=a.statut==="archived"&&t.nombre_eleves>0&&s.jsxs(ts,{variant:"warning",children:[s.jsx(_t,{className:"h-4 w-4"}),s.jsxs(as,{children:[s.jsx("p",{className:"font-medium mb-1",children:"Attention !"}),s.jsxs("p",{children:["Cette classe contient ",t.nombre_eleves," √©l√®ve(s). L'archivage n'est pas recommand√©. Consid√©rez plut√¥t :"]}),s.jsxs("ul",{className:"list-disc list-inside mt-2 text-sm",children:[s.jsx("li",{children:"Transf√©rer les √©l√®ves vers une autre classe"}),s.jsx("li",{children:"Attendre la fin de l'ann√©e scolaire"}),s.jsx("li",{children:'Utiliser le statut "inactive" temporairement'})]})]})]}),e[193]=t.nombre_eleves,e[194]=a.statut,e[195]=Re):Re=e[195];let Ve;e[196]!==l.statut?(Ve=l.statut&&s.jsx(ts,{variant:"destructive",children:s.jsx(as,{children:l.statut})}),e[196]=l.statut,e[197]=Ve):Ve=e[197];let Ie;e[198]!==tt||e[199]!==Re||e[200]!==Ve?(Ie=s.jsx(mt,{value:"statut",className:"space-y-6 pt-6",children:s.jsxs("div",{className:"space-y-4",children:[Es,tt,Re,Ve]})}),e[198]=tt,e[199]=Re,e[200]=Ve,e[201]=Ie):Ie=e[201];let ke;e[202]!==Ze||e[203]!==xe||e[204]!==Pe||e[205]!==Ie?(ke=s.jsxs(Lt,{value:Ze,onValueChange:bt,children:[Ns,xe,Pe,Ie]}),e[202]=Ze,e[203]=xe,e[204]=Pe,e[205]=Ie,e[206]=ke):ke=e[206];let ze;e[207]!==t.ref?(ze=s.jsxs("p",{children:["R√©f√©rence: ",s.jsx("span",{className:"font-mono",children:t.ref})]}),e[207]=t.ref,e[208]=ze):ze=e[208];let He;e[209]!==t.created_at?(He=new Date(t.created_at).toLocaleDateString("fr-FR"),e[209]=t.created_at,e[210]=He):He=e[210];let Be;e[211]!==He?(Be=s.jsxs("p",{children:["Cr√©√©e le: ",He]}),e[211]=He,e[212]=Be):Be=e[212];let Oe;e[213]!==ze||e[214]!==Be?(Oe=s.jsxs("div",{className:"text-sm text-muted-foreground",children:[ze,Be]}),e[213]=ze,e[214]=Be,e[215]=Oe):Oe=e[215];let Ms;e[216]===Symbol.for("react.memo_cache_sentinel")?(Ms=s.jsx(ks,{href:"/classes",children:s.jsx(N,{type:"button",variant:"outline",children:"Annuler"})}),e[216]=Ms):Ms=e[216];const at=y||a.capacite_max<t.nombre_eleves;let qe;e[217]!==y?(qe=y?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"animate-spin mr-2",children:"‚ü≥"}),"Enregistrement..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Enregistrer les modifications"]}),e[217]=y,e[218]=qe):qe=e[218];let Ue;e[219]!==at||e[220]!==qe?(Ue=s.jsxs("div",{className:"flex items-center gap-4",children:[Ms,s.jsx(N,{type:"submit",disabled:at,children:qe})]}),e[219]=at,e[220]=qe,e[221]=Ue):Ue=e[221];let We;e[222]!==Oe||e[223]!==Ue?(We=s.jsxs("div",{className:"flex items-center justify-between pt-6 border-t",children:[Oe,Ue]}),e[222]=Oe,e[223]=Ue,e[224]=We):We=e[224],e[225]!==es||e[226]!==We||e[227]!==se||e[228]!==te||e[229]!==ke?(_=s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(Qe,{children:[bs,s.jsx(Xe,{children:s.jsxs("form",{onSubmit:es,className:"space-y-6",children:[se,te,ke,We]})})]})}),e[225]=es,e[226]=We,e[227]=se,e[228]=te,e[229]=ke,e[230]=_):_=e[230],$="space-y-6",w=Qe,e[231]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx(zs,{children:s.jsx(Hs,{className:"text-sm font-medium",children:"R√©sum√©"})}),e[231]=v):v=e[231],C=Xe,L="space-y-4",A="space-y-3";let Ps;e[232]===Symbol.for("react.memo_cache_sentinel")?(Ps=s.jsx("p",{className:"text-xs text-muted-foreground",children:"Nom actuel"}),e[232]=Ps):Ps=e[232],e[233]!==t.nom_classe?(x=s.jsxs("div",{children:[Ps,s.jsx("p",{className:"font-medium",children:t.nom_classe})]}),e[233]=t.nom_classe,e[234]=x):x=e[234];let Rs;e[235]===Symbol.for("react.memo_cache_sentinel")?(Rs=s.jsx("p",{className:"text-xs text-muted-foreground",children:"Niveau actuel"}),e[235]=Rs):Rs=e[235];const lt=t.niveau==="primaire"?"default":"secondary",it=t.niveau==="primaire"?"Primaire":"Secondaire";e[236]!==lt||e[237]!==it?(f=s.jsxs("div",{children:[Rs,s.jsx(ot,{variant:lt,children:it})]}),e[236]=lt,e[237]=it,e[238]=f):f=e[238],e[239]!==t.section||e[240]!==o?(p=t.section&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Section"}),s.jsx("p",{className:"font-medium",children:o[t.section]||t.section})]}),e[239]=t.section,e[240]=o,e[241]=p):p=e[241];let Vs;e[242]===Symbol.for("react.memo_cache_sentinel")?(Vs=s.jsx("p",{className:"text-xs text-muted-foreground",children:"√âl√®ves actuels"}),e[242]=Vs):Vs=e[242];let Is;e[243]===Symbol.for("react.memo_cache_sentinel")?(Is=s.jsx(vt,{className:"h-4 w-4 text-primary"}),e[243]=Is):Is=e[243];let Ge;e[244]!==t.capacite_max||e[245]!==t.nombre_eleves?(Ge=s.jsxs("span",{className:"font-medium",children:[t.nombre_eleves," / ",t.capacite_max]}),e[244]=t.capacite_max,e[245]=t.nombre_eleves,e[246]=Ge):Ge=e[246];let Je;e[247]!==t.capacite_max||e[248]!==t.nombre_eleves?(Je=Math.round(t.nombre_eleves/t.capacite_max*100),e[247]=t.capacite_max,e[248]=t.nombre_eleves,e[249]=Je):Je=e[249];let Ke;e[250]!==Je?(Ke=s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Je,"%)"]}),e[250]=Je,e[251]=Ke):Ke=e[251],e[252]!==Ge||e[253]!==Ke?(h=s.jsxs("div",{children:[Vs,s.jsxs("div",{className:"flex items-center gap-2",children:[Is,Ge,Ke]})]}),e[252]=Ge,e[253]=Ke,e[254]=h):h=e[254],e[255]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx("p",{className:"text-xs text-muted-foreground",children:"Statut actuel"}),e[255]=u):u=e[255],S=ot,os=n(t.statut),e[21]=Ze,e[22]=t,e[23]=a.capacite_max,e[24]=a.description,e[25]=a.niveau,e[26]=a.nom_classe,e[27]=a.professeur_principal_id,e[28]=a.section,e[29]=a.statut,e[30]=l.capacite_max,e[31]=l.description,e[32]=l.niveau,e[33]=l.nom_classe,e[34]=l.professeur_principal_id,e[35]=l.section,e[36]=l.statut,e[37]=ss,e[38]=es,e[39]=y,e[40]=Ye,e[41]=o,e[42]=c,e[43]=d,e[44]=S,e[45]=C,e[46]=w,e[47]=T,e[48]=r,e[49]=os,e[50]=u,e[51]=A,e[52]=x,e[53]=f,e[54]=p,e[55]=h,e[56]=L,e[57]=v,e[58]=$,e[59]=F,e[60]=_,e[61]=D,e[62]=j,e[63]=b}else S=e[44],C=e[45],w=e[46],T=e[47],r=e[48],os=e[49],u=e[50],A=e[51],x=e[52],f=e[53],p=e[54],h=e[55],L=e[56],v=e[57],$=e[58],F=e[59],_=e[60],D=e[61],j=e[62],b=e[63];const Gs=os,Js=r.find(n=>n.value===t.statut)?.label||t.statut;let E;e[256]!==S||e[257]!==Gs||e[258]!==Js?(E=s.jsx(S,{variant:Gs,children:Js}),e[256]=S,e[257]=Gs,e[258]=Js,e[259]=E):E=e[259];let M;e[260]!==u||e[261]!==E?(M=s.jsxs("div",{children:[u,E]}),e[260]=u,e[261]=E,e[262]=M):M=e[262];let P;e[263]!==A||e[264]!==x||e[265]!==f||e[266]!==p||e[267]!==h||e[268]!==M?(P=s.jsxs("div",{className:A,children:[x,f,p,h,M]}),e[263]=A,e[264]=x,e[265]=f,e[266]=p,e[267]=h,e[268]=M,e[269]=P):P=e[269];let R;e[270]!==C||e[271]!==L||e[272]!==P?(R=s.jsx(C,{className:L,children:P}),e[270]=C,e[271]=L,e[272]=P,e[273]=R):R=e[273];let V;e[274]!==w||e[275]!==v||e[276]!==R?(V=s.jsxs(w,{children:[v,R]}),e[274]=w,e[275]=v,e[276]=R,e[277]=V):V=e[277];let ds;e[278]===Symbol.for("react.memo_cache_sentinel")?(ds=s.jsx(zs,{children:s.jsxs(Hs,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(jt,{className:"h-4 w-4"}),"Aper√ßu des changements"]})}),e[278]=ds):ds=e[278];let I;e[279]!==t.nom_classe||e[280]!==a.nom_classe?(I=a.nom_classe!==t.nom_classe&&s.jsxs("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[s.jsx("p",{className:"font-medium text-amber-800",children:"Nom modifi√©"}),s.jsxs("p",{className:"text-amber-700",children:[s.jsx("span",{className:"line-through",children:t.nom_classe})," ‚Üí ",s.jsx("span",{className:"font-medium",children:a.nom_classe})]})]}),e[279]=t.nom_classe,e[280]=a.nom_classe,e[281]=I):I=e[281];let k;e[282]!==t.niveau||e[283]!==a.niveau?(k=a.niveau!==t.niveau&&s.jsxs("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[s.jsx("p",{className:"font-medium text-amber-800",children:"Niveau modifi√©"}),s.jsxs("p",{className:"text-amber-700",children:[s.jsx("span",{className:"line-through",children:t.niveau==="primaire"?"Primaire":"Secondaire"})," ‚Üí ",s.jsx("span",{className:"font-medium",children:a.niveau==="primaire"?"Primaire":"Secondaire"})]})]}),e[282]=t.niveau,e[283]=a.niveau,e[284]=k):k=e[284];let z;e[285]!==t.capacite_max||e[286]!==a.capacite_max?(z=a.capacite_max!==t.capacite_max&&s.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("p",{className:"font-medium text-blue-800",children:"Capacit√© modifi√©e"}),s.jsxs("p",{className:"text-blue-700",children:[s.jsx("span",{className:"line-through",children:t.capacite_max})," ‚Üí ",s.jsx("span",{className:"font-medium",children:a.capacite_max})]})]}),e[285]=t.capacite_max,e[286]=a.capacite_max,e[287]=z):z=e[287];let H;e[288]!==t.statut||e[289]!==a.statut||e[290]!==r?(H=a.statut!==t.statut&&s.jsxs("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[s.jsx("p",{className:"font-medium text-purple-800",children:"Statut modifi√©"}),s.jsxs("p",{className:"text-purple-700",children:[s.jsx("span",{className:"line-through",children:r.find(n=>n.value===t.statut)?.label||t.statut})," ‚Üí ",s.jsx("span",{className:"font-medium",children:r.find(n=>n.value===a.statut)?.label||a.statut})]})]}),e[288]=t.statut,e[289]=a.statut,e[290]=r,e[291]=H):H=e[291];let B;e[292]!==t.capacite_max||e[293]!==t.niveau||e[294]!==t.nom_classe||e[295]!==t.statut||e[296]!==a.capacite_max||e[297]!==a.niveau||e[298]!==a.nom_classe||e[299]!==a.statut?(B=a.nom_classe===t.nom_classe&&a.niveau===t.niveau&&a.capacite_max===t.capacite_max&&a.statut===t.statut&&s.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Aucun changement d√©tect√©"}),e[292]=t.capacite_max,e[293]=t.niveau,e[294]=t.nom_classe,e[295]=t.statut,e[296]=a.capacite_max,e[297]=a.niveau,e[298]=a.nom_classe,e[299]=a.statut,e[300]=B):B=e[300];let O;e[301]!==I||e[302]!==k||e[303]!==z||e[304]!==H||e[305]!==B?(O=s.jsxs(Qe,{children:[ds,s.jsx(Xe,{children:s.jsxs("div",{className:"space-y-3 text-sm",children:[I,k,z,H,B]})})]}),e[301]=I,e[302]=k,e[303]=z,e[304]=H,e[305]=B,e[306]=O):O=e[306];let us;e[307]===Symbol.for("react.memo_cache_sentinel")?(us=s.jsx(zs,{children:s.jsx(Hs,{className:"text-sm font-medium",children:"Actions rapides"})}),e[307]=us):us=e[307];const Ks=`/classes/${t.id}/rapport`;let xs;e[308]===Symbol.for("react.memo_cache_sentinel")?(xs=s.jsxs(N,{variant:"outline",className:"w-full justify-start",children:[s.jsx(jt,{className:"h-4 w-4 mr-2"}),"G√©n√©rer un rapport"]}),e[308]=xs):xs=e[308];let q;e[309]!==Ks?(q=s.jsx(ks,{href:Ks,className:"block",children:xs}),e[309]=Ks,e[310]=q):q=e[310];let U;e[311]!==Ws?(U=()=>{confirm("Voulez-vous vraiment r√©initialiser tous les champs ?")&&Ws()},e[311]=Ws,e[312]=U):U=e[312];let fs;e[313]===Symbol.for("react.memo_cache_sentinel")?(fs=s.jsx("span",{className:"mr-2",children:"‚Ü∫"}),e[313]=fs):fs=e[313];let W;e[314]!==U?(W=s.jsxs(N,{variant:"outline",className:"w-full justify-start",onClick:U,children:[fs,"R√©initialiser le formulaire"]}),e[314]=U,e[315]=W):W=e[315];let G;e[316]!==t.nom_classe||e[317]!==t.nombre_eleves?(G=t.nombre_eleves===0&&s.jsx(N,{variant:"destructive",className:"w-full",onClick:()=>{confirm(`√ätes-vous s√ªr de vouloir supprimer la classe "${t.nom_classe}" ? Cette action est irr√©versible.`)},children:"Supprimer la classe"}),e[316]=t.nom_classe,e[317]=t.nombre_eleves,e[318]=G):G=e[318];let J;e[319]!==q||e[320]!==W||e[321]!==G?(J=s.jsxs(Qe,{children:[us,s.jsxs(Xe,{className:"space-y-3",children:[q,W,G]})]}),e[319]=q,e[320]=W,e[321]=G,e[322]=J):J=e[322];let K;e[323]!==$||e[324]!==V||e[325]!==O||e[326]!==J?(K=s.jsxs("div",{className:$,children:[V,O,J]}),e[323]=$,e[324]=V,e[325]=O,e[326]=J,e[327]=K):K=e[327];let Q;e[328]!==F||e[329]!==_||e[330]!==K?(Q=s.jsxs("div",{className:F,children:[_,K]}),e[328]=F,e[329]=_,e[330]=K,e[331]=Q):Q=e[331];let X;e[332]!==T||e[333]!==D||e[334]!==j||e[335]!==Q?(X=s.jsxs(T,{activeRoute:D,children:[j,Q]}),e[332]=T,e[333]=D,e[334]=j,e[335]=Q,e[336]=X):X=e[336];let ps;return e[337]!==b||e[338]!==X?(ps=s.jsxs(s.Fragment,{children:[b,X]}),e[337]=b,e[338]=X,e[339]=ps):ps=e[339],ps}function Vt(m){return s.jsx(dt,{value:m.id.toString(),children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:m.name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:m.email})]})},m.id)}function It(m){const[e,t]=m;return s.jsx(dt,{value:e,children:t},e)}export{ma as default};
